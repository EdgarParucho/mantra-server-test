{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/assets/svg/tools.svg","webpack:///./src/assets/svg/resume.svg","webpack:///./src/assets/svg/messages.svg","webpack:///./src/helpers/form.js","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/App.vue?5980","webpack:///./src/layout/AppBar.vue?6108","webpack:///./src/layout/EmailsLog.vue?37b8","webpack:///src/layout/EmailsLog.vue","webpack:///./src/layout/EmailsLog.vue?a515","webpack:///./src/layout/EmailsLog.vue","webpack:///./src/layout/AppMenu.vue?ba8a","webpack:///src/layout/AppMenu.vue","webpack:///./src/layout/AppMenu.vue?6b49","webpack:///./src/layout/AppMenu.vue","webpack:///./src/layout/AccountMenu.vue?7205","webpack:///./src/layout/EmailsConfig.vue?a1c4","webpack:///./src/components/generals/Header.vue?f714","webpack:///src/components/generals/Header.vue","webpack:///./src/components/generals/Header.vue?5f28","webpack:///./src/components/generals/Header.vue","webpack:///src/layout/EmailsConfig.vue","webpack:///./src/layout/EmailsConfig.vue?07ad","webpack:///./src/layout/EmailsConfig.vue","webpack:///src/layout/AccountMenu.vue","webpack:///./src/layout/AccountMenu.vue?51c2","webpack:///./src/layout/AccountMenu.vue","webpack:///src/layout/AppBar.vue","webpack:///./src/layout/AppBar.vue?fd3a","webpack:///./src/layout/AppBar.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?2667","webpack:///./src/registerServiceWorker.js","webpack:///./src/views/Dashboard.vue?4aed","webpack:///./src/components/generals/Graph.vue?8e73","webpack:///src/components/generals/Graph.vue","webpack:///./src/components/generals/Graph.vue?9b64","webpack:///./src/components/generals/Graph.vue","webpack:///./src/components/generals/DashboardCard.vue?e115","webpack:///./src/components/corrective/QueryResult.vue?87f0","webpack:///./src/components/corrective/CorrectiveSchedule.vue?c3f3","webpack:///./src/helpers/emails/template.js","webpack:///./src/helpers/emails/builder.js","webpack:///./src/helpers/emails/email.js","webpack:///./src/components/generals/DateMenu.vue?d1bc","webpack:///src/components/generals/DateMenu.vue","webpack:///./src/components/generals/DateMenu.vue?326b","webpack:///./src/components/generals/DateMenu.vue","webpack:///src/components/corrective/CorrectiveSchedule.vue","webpack:///./src/components/corrective/CorrectiveSchedule.vue?5208","webpack:///./src/components/corrective/CorrectiveSchedule.vue","webpack:///./src/components/preventive/MaintenanceForm.vue?27e3","webpack:///src/components/preventive/MaintenanceForm.vue","webpack:///./src/components/preventive/MaintenanceForm.vue?7346","webpack:///./src/components/preventive/MaintenanceForm.vue","webpack:///./src/components/preventive/MaintenanceUpdate.vue?061d","webpack:///src/components/preventive/MaintenanceUpdate.vue","webpack:///./src/components/preventive/MaintenanceUpdate.vue?2dc4","webpack:///./src/components/preventive/MaintenanceUpdate.vue","webpack:///./src/components/preventive/MaintenanceValidation.vue?455e","webpack:///src/components/preventive/MaintenanceValidation.vue","webpack:///./src/components/preventive/MaintenanceValidation.vue?f90f","webpack:///./src/components/preventive/MaintenanceValidation.vue","webpack:///./src/components/corrective/CorrectiveUpdate.vue?3960","webpack:///./src/components/generals/TimeMenu.vue?9c9f","webpack:///src/components/generals/TimeMenu.vue","webpack:///./src/components/generals/TimeMenu.vue?843a","webpack:///./src/components/generals/TimeMenu.vue","webpack:///src/components/corrective/CorrectiveUpdate.vue","webpack:///./src/components/corrective/CorrectiveUpdate.vue?a692","webpack:///./src/components/corrective/CorrectiveUpdate.vue","webpack:///./src/components/corrective/CorrectiveInfo.vue?bae1","webpack:///./src/components/preventive/MaintenanceInfo.vue?64ab","webpack:///src/components/preventive/MaintenanceInfo.vue","webpack:///./src/components/preventive/MaintenanceInfo.vue?f14c","webpack:///./src/components/preventive/MaintenanceInfo.vue","webpack:///./src/components/corrective/ProductHistory.vue?ab6f","webpack:///src/components/corrective/ProductHistory.vue","webpack:///./src/components/corrective/ProductHistory.vue?43bf","webpack:///./src/components/corrective/ProductHistory.vue","webpack:///src/components/corrective/CorrectiveInfo.vue","webpack:///./src/components/corrective/CorrectiveInfo.vue?3f18","webpack:///./src/components/corrective/CorrectiveInfo.vue","webpack:///./src/components/preventive/OfficeInventory.vue?8ce8","webpack:///src/components/preventive/OfficeInventory.vue","webpack:///./src/components/preventive/OfficeInventory.vue?de6f","webpack:///./src/components/preventive/OfficeInventory.vue","webpack:///src/components/corrective/QueryResult.vue","webpack:///./src/components/corrective/QueryResult.vue?218e","webpack:///./src/components/corrective/QueryResult.vue","webpack:///src/components/generals/DashboardCard.vue","webpack:///./src/components/generals/DashboardCard.vue?93cd","webpack:///./src/components/generals/DashboardCard.vue","webpack:///src/views/Dashboard.vue","webpack:///./src/views/Dashboard.vue?3f19","webpack:///./src/views/Dashboard.vue","webpack:///./src/views/Corrective.vue?b634","webpack:///./src/components/generals/MainButton.vue?6176","webpack:///src/components/generals/MainButton.vue","webpack:///./src/components/generals/MainButton.vue?d51e","webpack:///./src/components/generals/MainButton.vue","webpack:///./src/components/corrective/CorrectiveForm.vue?c3b6","webpack:///src/components/corrective/CorrectiveForm.vue","webpack:///./src/components/corrective/CorrectiveForm.vue?9800","webpack:///./src/components/corrective/CorrectiveForm.vue","webpack:///./src/components/corrective/CorrectivePanels.vue?4192","webpack:///./src/components/corrective/CorrectivePanel.vue?fbdb","webpack:///./src/components/corrective/CorrectiveDelete.vue?1c43","webpack:///src/components/corrective/CorrectiveDelete.vue","webpack:///./src/components/corrective/CorrectiveDelete.vue?4143","webpack:///./src/components/corrective/CorrectiveDelete.vue","webpack:///src/components/corrective/CorrectivePanel.vue","webpack:///./src/components/corrective/CorrectivePanel.vue?edfb","webpack:///./src/components/corrective/CorrectivePanel.vue","webpack:///src/components/corrective/CorrectivePanels.vue","webpack:///./src/components/corrective/CorrectivePanels.vue?dfb0","webpack:///./src/components/corrective/CorrectivePanels.vue","webpack:///src/views/Corrective.vue","webpack:///./src/views/Corrective.vue?16da","webpack:///./src/views/Corrective.vue","webpack:///./src/views/Preventive.vue?e414","webpack:///./src/components/preventive/MaintenancePanels.vue?0742","webpack:///src/components/preventive/MaintenancePanels.vue","webpack:///./src/components/preventive/MaintenancePanels.vue?a735","webpack:///./src/components/preventive/MaintenancePanels.vue","webpack:///src/views/Preventive.vue","webpack:///./src/views/Preventive.vue?09a8","webpack:///./src/views/Preventive.vue","webpack:///./src/views/Consultation.vue?740d","webpack:///./src/components/corrective/QueryChips.vue?e99b","webpack:///src/components/corrective/QueryChips.vue","webpack:///./src/components/corrective/QueryChips.vue?1e45","webpack:///./src/components/corrective/QueryChips.vue","webpack:///src/views/Consultation.vue","webpack:///./src/views/Consultation.vue?622a","webpack:///./src/views/Consultation.vue","webpack:///./src/views/Pieces.vue?5bf7","webpack:///./src/components/storehouse/PieceForm.vue?538a","webpack:///./src/components/generals/UpdateWarning.vue?ce06","webpack:///src/components/generals/UpdateWarning.vue","webpack:///./src/components/generals/UpdateWarning.vue?38ec","webpack:///./src/components/generals/UpdateWarning.vue","webpack:///src/components/storehouse/PieceForm.vue","webpack:///./src/components/storehouse/PieceForm.vue?a9fe","webpack:///./src/components/storehouse/PieceForm.vue","webpack:///src/views/Pieces.vue","webpack:///./src/views/Pieces.vue?4486","webpack:///./src/views/Pieces.vue","webpack:///./src/views/Requests.vue?fb5c","webpack:///./src/components/storehouse/RequestDetails.vue?bc41","webpack:///src/components/storehouse/RequestDetails.vue","webpack:///./src/components/storehouse/RequestDetails.vue?36ae","webpack:///./src/components/storehouse/RequestDetails.vue","webpack:///src/views/Requests.vue","webpack:///./src/views/Requests.vue?5dc8","webpack:///./src/views/Requests.vue","webpack:///./src/views/Dispatches.vue?ae8e","webpack:///./src/components/storehouse/QueryChips.vue?37fa","webpack:///src/components/storehouse/QueryChips.vue","webpack:///./src/components/storehouse/QueryChips.vue?f05e","webpack:///./src/components/storehouse/QueryChips.vue","webpack:///./src/components/storehouse/QueryResult.vue?6e04","webpack:///src/components/storehouse/QueryResult.vue","webpack:///./src/components/storehouse/QueryResult.vue?5a61","webpack:///./src/components/storehouse/QueryResult.vue","webpack:///src/views/Dispatches.vue","webpack:///./src/views/Dispatches.vue?fc01","webpack:///./src/views/Dispatches.vue","webpack:///./src/views/Clients.vue?a4a8","webpack:///./src/components/clients/ClientForm.vue?8d84","webpack:///src/components/clients/ClientForm.vue","webpack:///./src/components/clients/ClientForm.vue?014e","webpack:///./src/components/clients/ClientForm.vue","webpack:///./src/components/clients/ClientPanels.vue?1064","webpack:///./src/components/clients/EditClientForm.vue?a6eb","webpack:///src/components/clients/EditClientForm.vue","webpack:///./src/components/clients/EditClientForm.vue?cb88","webpack:///./src/components/clients/EditClientForm.vue","webpack:///./src/components/clients/ContractForm.vue?471b","webpack:///src/components/clients/ContractForm.vue","webpack:///./src/components/clients/ContractForm.vue?9b2a","webpack:///./src/components/clients/ContractForm.vue","webpack:///src/components/clients/ClientPanels.vue","webpack:///./src/components/clients/ClientPanels.vue?8ec7","webpack:///./src/components/clients/ClientPanels.vue","webpack:///src/views/Clients.vue","webpack:///./src/views/Clients.vue?e3fb","webpack:///./src/views/Clients.vue","webpack:///./src/views/Products.vue?4839","webpack:///./src/components/products/ProductForm.vue?8a63","webpack:///src/components/products/ProductForm.vue","webpack:///./src/components/products/ProductForm.vue?fbc1","webpack:///./src/components/products/ProductForm.vue","webpack:///./src/components/products/ProductsPanels.vue?f6b6","webpack:///src/components/products/ProductsPanels.vue","webpack:///./src/components/products/ProductsPanels.vue?5b80","webpack:///./src/components/products/ProductsPanels.vue","webpack:///src/views/Products.vue","webpack:///./src/views/Products.vue?c466","webpack:///./src/views/Products.vue","webpack:///./src/views/Offices.vue?318d","webpack:///./src/components/offices/OfficePanels.vue?8277","webpack:///src/components/offices/OfficePanels.vue","webpack:///./src/components/offices/OfficePanels.vue?9e0e","webpack:///./src/components/offices/OfficePanels.vue","webpack:///./src/components/offices/OfficeForm.vue?73d1","webpack:///src/components/offices/OfficeForm.vue","webpack:///./src/components/offices/OfficeForm.vue?ff13","webpack:///./src/components/offices/OfficeForm.vue","webpack:///src/views/Offices.vue","webpack:///./src/views/Offices.vue?91ee","webpack:///./src/views/Offices.vue","webpack:///./src/views/Users.vue?9bfd","webpack:///./src/components/users/SignForm.vue?829e","webpack:///src/components/users/SignForm.vue","webpack:///./src/components/users/SignForm.vue?f2c5","webpack:///./src/components/users/SignForm.vue","webpack:///src/views/Users.vue","webpack:///./src/views/Users.vue?0770","webpack:///./src/views/Users.vue","webpack:///./src/views/Login.vue?c08c","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue","webpack:///./src/views/Technician.vue?a172","webpack:///./src/components/generals/Panel.vue?7841","webpack:///src/components/generals/Panel.vue","webpack:///./src/components/generals/Panel.vue?554b","webpack:///./src/components/generals/Panel.vue","webpack:///src/views/Technician.vue","webpack:///./src/views/Technician.vue?677c","webpack:///./src/views/Technician.vue","webpack:///./src/views/Technicians.vue?7cfb","webpack:///src/views/Technicians.vue","webpack:///./src/views/Technicians.vue?8930","webpack:///./src/views/Technicians.vue","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/plugins/vuetify.js","webpack:///./src/main.js","webpack:///./src/assets/svg/calendar.svg","webpack:///./src/assets/logo.svg","webpack:///./src/assets/svg/reminder.svg","webpack:///./src/assets/svg/deadline.svg","webpack:///./src/assets/svg/view.svg","webpack:///./src/assets/background/bg12.jpg"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","rules","corpEmail","v","test","passwordRules","idRules","officeCode","phone","serviceOrder","emailRule","required","noSpaces","states","statusOptions","maintenanceStatus","replacementOptions","productLocations","departments","roles","text","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","_vm","this","_h","$createElement","_c","_self","$session","attrs","_e","scopedSlots","_u","fn","ref","_b","snackbar","error","_v","_s","model","callback","$$v","$set","expression","staticClass","title","message","staticRenderFns","$vuetify","theme","isDark","drawer","on","_g","mobile","directives","rawName","failedEmails","showEmails","$event","_l","email","index","domProps","subject","to","emailDetails","html","loader","resend","deleteEmail","props","methods","sendEmail","removeEmail","$emit","component","VAlert","VBtn","VCard","VCardActions","VCardTitle","VContainer","VDialog","VIcon","VList","VListItem","VListItemAction","VListItemAvatar","VListItemContent","VListItemSubtitle","VListItemTitle","VSheet","VTextField","option","myAccount","userRole","requiredRole","restrictedTo","redirect","icon","computed","session","user","options","VListItemIcon","firstName","lastName","menuActions","action","setPreferedTheme","arguments","darkMode","showEmailsConfig","dialog","closeInterfaces","userPassword","passwordComparison","match","confirmation","updateAccount","_id","formOptions","emailAccounts","editable","cc","hasNoChanges","writeConfig","closable","subtitle","VCol","VRow","VSkeletonLoader","VToolbarTitle","VToolbar","components","created","console","log","copyItems","breakpoint","emails","JSON","parse","stringify","collections","Email","enabled","User","find","updateDocument","collection","body","original","copy","VAutocomplete","VCardText","VForm","VSwitch","VTab","VTabItem","VTabs","killSession","logOut","destroy","$router","preferences","darkTheme","set","VAvatar","VAppBar","VAppBarNavIcon","VBottomSheet","VImg","VMenu","VSpacer","activeSession","$store","state","getcollections","VApp","VDivider","VMain","VSnackbar","register","process","ready","registered","cached","updatefound","updated","offline","thisYear","card","showTodays","today","nextWorkingDay","todaySchedule","nextDaySchedule","updatingState","servicesXMonth","servicesXState","createChart","myChart","watch","chartData","mounted","VCardSubtitle","cardInfo","showBottomSheet","bottomSheet","tableFilter","xlsFormat","headers","item","_f","reportedAt","reportCode","status","includes","showDialog","showInformation","share","detailsInterface","selectedDocument","hideInterface","selectedInventory","assignForm","technicians","schedule","date","dateSubmitted","itIsWeekend","friendlyDate","save","appLink","styles","logo","opening","addressee","args","listItems","entries","bodyItems","author","notice","signature","htmlBody","pieceName","dispatch","reference","productName","method","itsSpecial","Cantidad","quantity","Servicio","Técnico","technician","fullName","Cliente","clientName","Oficina","officeName","Destino","destiny","Fecha","moment","parseZone","format","content","Visita","scheduledDate","Producto","Serial","serialCode","Descripción","description","Vencimiento","expireDate","bodyProps","context","recipients","datePicker","$refs","datemenu","VDatePicker","VTooltip","formattedDate","emailNotification","documentation","document","setDocumentation","type","observations","updatedAt","maintenanceForm","undefined","editing","hideInactiveClients","formLists","clientNames","serviceForm","hideVisitedOffices","clientOfficeNames","startTemplate","assign","completeFields","officeRegion","officeInfo","region","officeState","update","createDocument","buildEmail","notification","updating","inventorySlot","clientProducts","attachOrder","order","removeOrder","orderInfo","productType","serviceOrders","orderNumbers","Set","inventory","location","filteredInventory","VChip","VChipGroup","VSelect","tab","orderNumber","indx","product","selectProduct","removeProduct","addProduct","step","step1Form","selectedProduct","productTypes","step2Form","serialNotSubmitted","trim","specificProducts","productValidation","selectedIndex","invalidStatus","finishValidation","orders","serviceUnfinished","validationIncomplete","createInventory","saveChanges","Promise","all","actions","updateOfficeInventory","findIndex","newProduct","toUpperCase","itsDuplicated","showSnackbar","locationNumber","VStepper","VStepperContent","VStepperStep","VTabsItems","VTabsSlider","VTextarea","activeStep","step1Completed","visit","number","step2Completed","suggestionKey","suggestionValue","keyValue","acceptSuggestion","piecesNames","nudgeRight","requiresAssignement","selectedPieces","request","replacementCauses","step3Completed","time","timeSubmitted","timePicker","menu","VTimePicker","productPieces","Piece","filter","findPieces","hasRequests","assembledRequests","requests","replacementCause","requestDate","requestedBy","requestStatus","submittedDay","suggestion","findSuggestions","submittedValue","keyWords","requestPieces","closeService","consolidateBody","expired","VRadio","VRadioGroup","serviceCopy","pieces","colorsXStatus","searching","searchRelated","originalIsSelected","selectOriginal","serviceOrderRules","validated","validating","validateOrder","relatedDocuments","selectCopy","snackbarMessage","snackbarIconColor","nativeOn","snackbarIcon","hideHeader","filters","currentTheme","success","service","proxy","serviceDate","sortServices","relatedServices","chronologic","dateA","dateB","orderedServices","sort","dateNoTime","VTimeline","VTimelineItem","selection","relativeDate","initials","assignedTo","assignements","pop","info","secondary","warning","accent","searchInCollections","alertResult","results","registeredProducts","products","filteredProducts","VDataTable","scheduleInterface","scheduleMaintenanceInterface","updateMaintenanceInterface","validateMaintenanceInterface","inventoryInterface","updateInterface","reportsMenu","maintenanceMenu","serviceType","showInventory","Office","navigator","VListItemGroup","cards","daysToAdd","nextToExpire","expiredServices","Closed","corrective","labels","datasets","servicesXClient","servicesXTechnician","notifyAnyway","servicesXStatus","class","disabled","preventDefault","requiresCorrelate","formListings","category","form","_","Product","clientContract","findSuggestion","findFromLongString","findOffice","matchOnInventory","suggestedOffice","matchOnService","findSpecificSerial","suggestedProduct","submittedKey","setIn","requiredKey","getExpireDate","slaInfo","openingDayMinutes","hoursPerSLA","minutesCount","nextDayworking","getNextDayworking","getSLAInfo","startingDay","startingTime","officeOpeningTime","startingDate","nexWorkingday","preventDuplicity","finish","getCorrelative","isLocal","client","services","dark","showInterface","deleteService","codesMatch","deleteDocument","CorrectiveInfo","CorrectiveSchedule","CorrectiveUpdate","CorrectiveForm","CorrectiveDelete","MaintenanceInfo","deleteInterface","editInterface","actionsMenu","selectedServiceRelated","VBadge","VExpansionPanel","VExpansionPanelContent","VExpansionPanelHeader","VExpansionPanels","CorrectivePanels","DashboardCard","Graph","Header","MainButton","pendingXParts","Active","clients","findOn","table1Headers","bottomSheetTitle","bottomSheetSubtitle","maintenanceData","table2Headers","lastMaintenance","assignMaintenance","pendingMaintenance","assignInterface","serviceMenu","visitedThisYear","notVisitedThisYear","activeContract","contracts","registeredAlready","office","MaintenancePanels","MaintenanceForm","thisYearFirst","searchCorrective","clearFilter","sla","minDate","dates","dateFilter","dateQuickFilter","thisMonth","lastMonth","searchInventory","resultIsCorrective","chart","config","indexOf","_k","keyCode","QueryChips","QueryResult","showGraphs","withServiceOrders","label","backgroundColor","chartColor","servicesXProduct","borderColor","borderRadius","slaXClient","scales","y","generalAverage","counter","charts","correctiveCharts","preventiveCharts","primary","secondDate","firstDate","discardProps","findDocuments","reportXlsFormat","rows","inventoryXlsFormat","assembleFilter","showPieceForm","deleteItem","pieceForm","filteredItems","DependenciesNames","triggeringProp","asociatedProducts","stock","pieceCategory","defaultItem","filteredPieces","requiresMassiveUpdate","updateDependencies","dependencies","edit","confirm","requestsXTechnician","requestsXProduct","requestPerService","originalItem","editItem","formStatus","filteredListOfPieces","userNotAuthorized","menu1","cost","loading","courierCompany","courierOffice","formatNumberAsUSD","Intl","NumberFormat","department","sm","xs","aux","list","confirmDelete","createDispatch","dispatchesToCreate","requestsToDelete","documentsToCreate","emailInfo","deleteRequest","documentsToDelete","VCheckbox","timeout","reports","requestsByReports","dispatchDate","search","productsByCategory","dateRangeText","excelFormat","join","prodByCategory","dispatchesXClient","costXClient","borderWidth","dispatchesXProduct","costXProduct","indexAxis","dispatchesXTechnician","costXTechnician","Despachado","Pieza","Reporte","Método","Referencia","Costo","contractStatusXClient","addItem","removeProperty","contactForm","contact","emailRules","phoneNumber","phoneRules","editContact","contract","inactive","attrss","createClient","phoneNumbers","position","includeForAccessEmail","prop","panel","contactI","telephone","local","foreign","editClient","showContracts","selectedClient","addContract","active","editContract","contractInterface","editingContract","contractIndex","dateRange","startingDatePicker","setRange","startingDateMenu","finishDate","finishDatePicker","finishDateMenu","editingClient","deactivateCurrentContract","clientsCopy","deleteContract","ClientPanels","ClientForm","newProductType","brands","brand","newBrand","categories","unshift","mergeArr","arr","reduce","removeCategory","orderedProducts","editProduct","filteredServices","a","b","deleteProduct","ProductsPanels","ProductForm","editOffice","officesXClient","createOffice","selectedOffice","clientOffices","deleteOffice","officeForm","regions","openingHour","closingHour","timePicker2","menu2","OfficePanels","OfficeForm","editUser","signInterface","userForm","step3Form","updatePassword","confirmPassword","idDocument","num","deleteUser","staticStyle","users","selectedUser","tryLog","link","url","Date","getFullYear","logIn","VFooter","technicianName","userSLA","currentWeek","day","userAveragePerVisits","showHistory","ProductHistory","selectedWeekNumber","thisWeek","selectedWeekData","userServices","slaOk","slaExpired","oneVisitServices","overOneVisitServices","productsPerTechnician","servicesPerState","techniciansStats","tableHeaders","oneVisitReports","oneVisitAverage","average","productsPerMaintenance","closedMaintenance","plugins","tooltip","callbacks","Math","round","stats","Vue","use","VueRouter","routes","path","Login","Technician","Dashboard","Corrective","Consultation","Pieces","meta","adminOnly","Requests","Dispatches","Clients","Products","Preventive","Technicians","Offices","Users","router","base","unhandled","Vuex","Store","Client","Maintenance","Request","token","activated","mutations","toggleLoader","setCollection","addNewDocument","removeDocument","setRelatedDocuments","logEmails","alreadyLogged","commit","reject","axios","post","then","catch","getCollection","finally","delete","put","updateDocuments","query","nModified","res","command","getters","clientsWithContract","techniciansData","assignable","acc","val","Vuetify","customProperties","themes","light","lang","locales","es","current","defaults","baseURL","productionTip","vueSession","excel","store","vuetify","render","h","App","$mount"],"mappings":"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","file":"js/app.4f78efad.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","module.exports = __webpack_public_path__ + \"img/tools.7ae86581.svg\";","module.exports = __webpack_public_path__ + \"img/resume.f27619a2.svg\";","module.exports = __webpack_public_path__ + \"img/messages.aa12d072.svg\";","module.exports = {\r\n  rules: {\r\n    corpEmail: [\r\n      v => !!v || 'Campo requerido',\r\n      v => /^\\S+$/.test(v) || 'Elimine los espacios',\r\n      v => /.+@+microfilmscenterjaha+\\.+com+/.test(v) ||\r\n      /.+@+microfilmscenter+\\.+com+/.test(v) ||\r\n      'Ingrese el correo corporativo'\r\n    ],\r\n    passwordRules: [\r\n      v => !!v || 'Campo requerido',\r\n      v => v\r\n        ? v.length === 8 || 'Se requieren 8 caracteres'\r\n        : ''\r\n    ],\r\n    idRules: [\r\n      v => /^\\d+$/.test(v) || 'Campo numérico'\r\n    ],\r\n    officeCode: [v => /\\d{4}/.test(v) || 'Campo de 4 dígitos'],\r\n    phone: [v => /\\d{11}/.test(v) || 'Req. 11 dígitos (0-9)'],\r\n    serviceOrder: [v => /\\d{6}/.test(v) || 'Campo de 6 dígitos'],\r\n    emailRule: [v => /.+@.+/.test(v) || 'Formato de e-mail inválido'],\r\n    required: [v => !!v || 'Requerido', v => /\\S/.test(v) || 'Requerido'],\r\n    noSpaces: [v => !!v || 'Requerido', v => /^\\S+$/.test(v) || 'Elimine los espacios']\r\n  },\r\n  states: [\r\n    'Amazonas', 'Anzoátegui', 'Aragua', 'Apure',\r\n    'Barinas', 'Bolívar', 'Carabobo', 'Cojedes',\r\n    'Delta Amacuro', 'Distrito Capital', 'Falcón', 'Guárico',\r\n    'Lara', 'Mérida', 'Miranda', 'Monagas',\r\n    'Nueva Esparta', 'Portuguesa', 'Sucre', 'Táchira',\r\n    'Trujillo', 'Vargas', 'Yaracuy', 'Zulia'\r\n  ],\r\n  statusOptions: [\r\n    'Cerrado - Operativo',\r\n    'Cerrado - Reemplazado',\r\n    'Cerrado - Desincorporado',\r\n    'Pendiente - Por repuestos',\r\n    'En programación'\r\n  ],\r\n  maintenanceStatus: ['Por culminar', 'Culminado'],\r\n  replacementOptions: [\r\n    'Desgaste',\r\n    'Fallas eléctricas',\r\n    'Manipulación incorrecta',\r\n    'Indefinida'\r\n  ],\r\n  productLocations: ['TQ', 'RS', 'GO', 'CP', 'BO', 'HA', 'CO'],\r\n  departments: [\r\n    'Almacén',\r\n    'Operaciones',\r\n    'Soporte técnico'\r\n  ],\r\n  roles: [ { text: 'Usuario', value: 2 }, { text: 'Invitado', value: 3 }, { text: 'Administrador', value: 1 } ]\r\n  \r\n}","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn-bd\": \"9686\",\n\t\"./bn-bd.js\": \"9686\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-in\": \"ec2e\",\n\t\"./en-in.js\": \"ec2e\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./en-sg\": \"b7e9\",\n\t\"./en-sg.js\": \"b7e9\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-mx\": \"b5b7\",\n\t\"./es-mx.js\": \"b5b7\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fil\": \"d69a\",\n\t\"./fil.js\": \"d69a\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-deva\": \"aaf2\",\n\t\"./gom-deva.js\": \"aaf2\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./oc-lnc\": \"167b\",\n\t\"./oc-lnc.js\": \"167b\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tk\": \"5aff\",\n\t\"./tk.js\": \"5aff\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-mo\": \"3a6c\",\n\t\"./zh-mo.js\": \"3a6c\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[(_vm.$session.get('session'))?_c('AppBar',{attrs:{\"app\":\"\"}}):_vm._e(),_c('v-main',[_c('router-view'),_c('v-snackbar',{attrs:{\"vertical\":\"\",\"shaped\":\"\"},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar attrs = ref.attrs;\nreturn [_c('v-icon',_vm._b({attrs:{\"color\":_vm.snackbar.error ? 'error' : 'success'}},'v-icon',attrs,false),[_vm._v(\" \"+_vm._s(_vm.snackbar.error ? 'mdi-alert-circle-outline' : 'mdi-check')+\" \")])]}}]),model:{value:(_vm.snackbar.activated),callback:function ($$v) {_vm.$set(_vm.snackbar, \"activated\", $$v)},expression:\"snackbar.activated\"}},[_c('span',{staticClass:\"overline font-weight-bold\"},[_vm._v(\" \"+_vm._s(_vm.snackbar.title)+\" \")]),_c('v-divider'),_c('p',[_vm._v(_vm._s(_vm.snackbar.message))])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-app-bar',{staticClass:\"px-3\",attrs:{\"color\":_vm.$vuetify.theme.isDark ? 'dark' : 'primary',\"dark\":\"\",\"app\":\"\"}},[_c('v-menu',{attrs:{\"value\":_vm.drawer,\"nudge-bottom\":\"70\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-app-bar-nav-icon',_vm._g({},on))]}}])},[_c('AppMenu')],1),_c('v-spacer'),_c('v-avatar',[_c('v-img',{attrs:{\"src\":require(\"@/assets/logo.svg\")}})],1),_c('v-spacer'),_c('v-bottom-sheet',{attrs:{\"width\":_vm.mobile ? '90%' : '60%'},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.failedEmails.length),expression:\"failedEmails.length\"}],attrs:{\"icon\":\"\"}},on),[_c('v-icon',[_vm._v(\"mdi-email-alert\")])],1)]}}]),model:{value:(_vm.showEmails),callback:function ($$v) {_vm.showEmails=$$v},expression:\"showEmails\"}},[_c('EmailsLog',{attrs:{\"failedEmails\":_vm.failedEmails,\"mobile\":_vm.mobile},on:{\"closeSheet\":function($event){_vm.showEmails = false}}})],1),_c('v-menu',{attrs:{\"nudge-left\":\"155\",\"closeOnContentClick\":false,\"nudge-bottom\":\"35\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\"}},on),[_c('v-icon',[_vm._v(\"mdi-account-circle\")])],1)]}}])},[_c('AccountMenu',{attrs:{\"mobile\":_vm.mobile}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-card',{staticClass:\"pa-5\"},[_c('v-alert',{attrs:{\"type\":\"error\",\"text\":\"\",\"rounded\":\"pill\"}},[_vm._v(\" Los siguientes correos no pudieron ser entregados. Puedes copiarlos, tratar de reenviar o descartarlos. \")]),_c('v-card-title',[_vm._v(\"Correos fallidos\")]),_c('v-list',{attrs:{\"subheader\":\"\",\"two-line\":\"\"}},_vm._l((_vm.failedEmails),function(email,index){return _c('v-list-item',{key:index},[_c('v-list-item-avatar',[_c('v-icon',{staticClass:\"error lighten-1\",attrs:{\"dark\":\"\"}},[_vm._v(\" mdi-email-remove \")])],1),_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(email.subject)}}),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(email.to)}})],1),_c('v-dialog',{attrs:{\"fullscreen\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-list-item-action',[_c('v-btn',_vm._g({attrs:{\"icon\":\"\"}},on),[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-magnify\")])],1)],1)]}}],null,true),model:{value:(_vm.emailDetails),callback:function ($$v) {_vm.emailDetails=$$v},expression:\"emailDetails\"}},[_c('v-card',[_c('v-container',[_c('v-text-field',{attrs:{\"prefix\":\"Para:\",\"solo\":\"\",\"dense\":\"\",\"readonly\":\"\"},model:{value:(email.to),callback:function ($$v) {_vm.$set(email, \"to\", $$v)},expression:\"email.to\"}}),_c('v-text-field',{attrs:{\"prefix\":\"CC:\",\"solo\":\"\",\"dense\":\"\",\"readonly\":\"\"},model:{value:(email.cc),callback:function ($$v) {_vm.$set(email, \"cc\", $$v)},expression:\"email.cc\"}}),_c('v-sheet',{domProps:{\"innerHTML\":_vm._s(email.html)}}),_c('v-card-actions',{staticClass:\"justify-end\"},[_c('v-btn',{attrs:{\"color\":\"success\",\"loading\":_vm.loader},on:{\"click\":function($event){return _vm.resend(email, index)}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-send\")]),_vm._v(\" Reenviar \")],1),_c('v-btn',{attrs:{\"color\":\"error\"},on:{\"click\":function($event){return _vm.deleteEmail(index)}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-delete\")]),_vm._v(\"Descartar \")],1),_c('v-btn',{on:{\"click\":function($event){_vm.emailDetails = false}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-keyboard-return\")]),_vm._v(\"Volver \")],1)],1)],1)],1)],1)],1)}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <v-card class=\"pa-5\">\r\n      <v-alert type=\"error\" text rounded=\"pill\">\r\n        Los siguientes correos no pudieron ser entregados.\r\n        Puedes copiarlos, tratar de reenviar o descartarlos.\r\n      </v-alert>\r\n      <v-card-title>Correos fallidos</v-card-title>\r\n      <v-list subheader two-line>\r\n        <v-list-item v-for=\"email, index in failedEmails\" :key=\"index\">\r\n          <v-list-item-avatar>\r\n            <v-icon class=\"error lighten-1\" dark>\r\n              mdi-email-remove\r\n            </v-icon>\r\n          </v-list-item-avatar>\r\n          <v-list-item-content>\r\n            <v-list-item-title v-text=\"email.subject\" />\r\n            <v-list-item-subtitle v-text=\"email.to\" />\r\n          </v-list-item-content>\r\n          <v-dialog v-model=\"emailDetails\" fullscreen>\r\n            <template v-slot:activator=\"{ on }\">\r\n              <v-list-item-action>\r\n                <v-btn v-on=\"on\" icon>\r\n                  <v-icon left>mdi-magnify</v-icon>\r\n                </v-btn>\r\n              </v-list-item-action>\r\n            </template>\r\n            <v-card>\r\n              <v-container>\r\n                <v-text-field v-model=\"email.to\" prefix=\"Para:\" solo dense readonly />\r\n                <v-text-field v-model=\"email.cc\" prefix=\"CC:\" solo dense readonly />\r\n                <v-sheet v-html=\"email.html\" />\r\n                <v-card-actions class=\"justify-end\">\r\n                  <v-btn @click=\"resend(email, index)\" color=\"success\" :loading=\"loader\">\r\n                    <v-icon left>mdi-send</v-icon>\r\n                    Reenviar\r\n                  </v-btn>\r\n                  <v-btn @click=\"deleteEmail(index)\" color=\"error\">\r\n                    <v-icon left>mdi-delete</v-icon>Descartar\r\n                  </v-btn>\r\n                  <v-btn @click=\"emailDetails = false\">\r\n                    <v-icon left>mdi-keyboard-return</v-icon>Volver\r\n                  </v-btn>\r\n                </v-card-actions>\r\n              </v-container>\r\n            </v-card>\r\n          </v-dialog>\r\n        </v-list-item>\r\n      </v-list>\r\n    </v-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapMutations } from 'vuex'\r\nexport default {\r\n  name: 'EmailsLog',\r\n  props: ['mobile', 'failedEmails'],\r\n  data: () => ({\r\n    emailDetails: false,\r\n    loader: false\r\n  }),\r\n  methods: {\r\n    ...mapActions(['sendEmail']),\r\n    ...mapMutations(['removeEmail']),\r\n    resend (email, index) {\r\n      this.loader = true\r\n      this.sendEmail([email])\r\n        .then(() => {\r\n          this.emailDetails = false\r\n          this.removeEmail(index)\r\n          if (!this.failedEmails.length) this.$emit('closeSheet')\r\n        })\r\n        .catch((error) => console.log(error))\r\n        .finally(() => this.loader = false)\r\n    },\r\n    deleteEmail (index) {\r\n      this.emailDetails = false\r\n      this.removeEmail(index)\r\n      if (!this.failedEmails.length) this.$emit('closeSheet')\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmailsLog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmailsLog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EmailsLog.vue?vue&type=template&id=3713a1e5&\"\nimport script from \"./EmailsLog.vue?vue&type=script&lang=js&\"\nexport * from \"./EmailsLog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardActions,VCardTitle,VContainer,VDialog,VIcon,VList,VListItem,VListItemAction,VListItemAvatar,VListItemContent,VListItemSubtitle,VListItemTitle,VSheet,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-card',{staticClass:\"gradients\",attrs:{\"width\":\"256\"}},[_c('v-list',{attrs:{\"color\":\"hsla(140, 45%, 55%, .1)\",\"dark\":\"\",\"dense\":\"\",\"nav\":\"\",\"elevation\":\"1\"}},_vm._l((_vm.options),function(option){return _c('v-list-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n          _vm.myAccount.userRole <= option.requiredRole\n          && (!option.restrictedTo || _vm.myAccount[option.restrictedTo.key] === option.restrictedTo.value)\n        ),expression:\"\\n          myAccount.userRole <= option.requiredRole\\n          && (!option.restrictedTo || myAccount[option.restrictedTo.key] === option.restrictedTo.value)\\n        \"}],key:option.title,attrs:{\"link\":\"\",\"to\":option.redirect}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(_vm._s(option.icon))])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(option.title))])],1)],1)}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <v-card class=\"gradients\" width=\"256\">\r\n      <v-list color=\"hsla(140, 45%, 55%, .1)\" dark dense nav elevation=\"1\">\r\n        <v-list-item\r\n          v-for=\"option in options\"\r\n          :key=\"option.title\"\r\n          link\r\n          :to=\"option.redirect\"\r\n          v-show=\"\r\n            myAccount.userRole <= option.requiredRole\r\n            && (!option.restrictedTo || myAccount[option.restrictedTo.key] === option.restrictedTo.value)\r\n          \"\r\n        >\r\n          <v-list-item-icon>\r\n            <v-icon>{{ option.icon }}</v-icon>\r\n          </v-list-item-icon>\r\n\r\n          <v-list-item-content>\r\n            <v-list-item-title>{{ option.title }}</v-list-item-title>\r\n          </v-list-item-content>\r\n        </v-list-item>\r\n      </v-list>\r\n    </v-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n  name: 'AppMenu',\r\n  data () {\r\n    return {}\r\n  },\r\n\r\n  computed: {\r\n    ...mapState(['session']),\r\n    myAccount () {\r\n      return this.session.user\r\n    },\r\n    options () {\r\n      return [\r\n        {\r\n          title: 'Dashboard',\r\n          icon: 'mdi-monitor-dashboard',\r\n          redirect: '/',\r\n          requiredRole: 3\r\n        },\r\n        {\r\n          title: 'Mi bandeja',\r\n          icon: 'mdi-target-account',\r\n          redirect: `/technician/${this.myAccount._id}`,\r\n          requiredRole: 3,\r\n          restrictedTo: {\r\n            key: 'assignable',\r\n            value: true\r\n          }\r\n        },\r\n        {\r\n          title: 'Correctivo',\r\n          icon: 'mdi-tools',\r\n          redirect: '/correctivo',\r\n          requiredRole: 3,\r\n          restrictedTo: {\r\n            key: 'department',\r\n            value: 'Operaciones'\r\n          }\r\n        },\r\n        {\r\n          title: 'Preventivo',\r\n          icon: 'mdi-broom',\r\n          redirect: '/preventivo',\r\n          requiredRole: 3,\r\n          restrictedTo: {\r\n            key: 'department',\r\n            value: 'Operaciones'\r\n          }\r\n        },\r\n        {\r\n          title: 'Técnicos',\r\n          icon: 'mdi-badge-account',\r\n          redirect: '/tecnicos',\r\n          requiredRole: 3\r\n        },\r\n        {\r\n          title: 'Consultas',\r\n          icon: 'mdi-folder-search',\r\n          redirect: '/consultas',\r\n          requiredRole: 3,\r\n          restrictedTo: {\r\n            key: 'department',\r\n            value: 'Operaciones'\r\n          }\r\n        },\r\n        {\r\n          title: 'Piezas',\r\n          icon: 'mdi-cog',\r\n          redirect: '/piezas',\r\n          requiredRole: 1\r\n        },\r\n        {\r\n          title: 'Solicitudes',\r\n          icon: 'mdi-package-variant',\r\n          redirect: '/solicitudes',\r\n          requiredRole: 3\r\n        },\r\n        {\r\n          title: 'Despachos',\r\n          icon: 'mdi-truck',\r\n          redirect: '/despachos',\r\n          requiredRole: 3\r\n        },\r\n        {\r\n          title: 'Clientes',\r\n          icon: 'mdi-account-tie',\r\n          redirect: '/clientes',\r\n          requiredRole: 3\r\n        },\r\n        {\r\n          title: 'Oficinas',\r\n          icon: 'mdi-bank',\r\n          redirect: '/oficinas',\r\n          requiredRole: 3,\r\n          restrictedTo: {\r\n            key: 'department',\r\n            value: 'Operaciones'\r\n          }\r\n        },\r\n        {\r\n          title: 'Productos',\r\n          icon: 'mdi-printer',\r\n          redirect: '/productos',\r\n          requiredRole: 2\r\n        },\r\n        {\r\n          title: 'Usuarios',\r\n          icon: 'mdi-account',\r\n          redirect: '/usuarios',\r\n          requiredRole: 1\r\n        }\r\n      ]\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppMenu.vue?vue&type=template&id=0c2c489d&\"\nimport script from \"./AppMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./AppMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VCard,VIcon,VList,VListItem,VListItemContent,VListItemIcon,VListItemTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-card',{staticClass:\"gradients pa-5\",attrs:{\"dark\":\"\"}},[_c('v-list-item',[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-avatar',[_c('v-avatar',{attrs:{\"size\":\"90%\",\"max-with\":\"50\",\"max-height\":\"50\"}},[_c('v-icon',[_vm._v(\"mdi-account\")])],1)],1)],1),_c('v-col',[_c('small',{staticClass:\"caption font-weight-bold\"},[_vm._v(\" \"+_vm._s(_vm.$session.get('session').user.firstName)+\" \"+_vm._s(_vm.$session.get('session').user.lastName)+\" \")])])],1)],1),_c('v-list',{attrs:{\"color\":\"hsla(140, 45%, 55%, .1)\",\"dense\":\"\",\"nav\":\"\",\"elevation\":\"1\"}},_vm._l((_vm.menu),function(option,index){return _c('v-list-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(option.requiredRole >= _vm.$session.get('session').user.userRole),expression:\"option.requiredRole >= $session.get('session').user.userRole\"}],key:index,on:{\"click\":function($event){return _vm.menuActions(option.action)}}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(_vm._s(option.icon))])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(option.title))])],1)],1)}),1),_c('v-card-actions',[_c('v-switch',{attrs:{\"color\":\"white\",\"label\":\"Modo oscuro\",\"prepend-icon\":\"mdi-weather-night\"},on:{\"&click\":function($event){return _vm.setPreferedTheme.apply(null, arguments)}},model:{value:(_vm.darkMode),callback:function ($$v) {_vm.darkMode=$$v},expression:\"darkMode\"}})],1)],1),_c('v-dialog',{attrs:{\"persistent\":_vm.showEmailsConfig,\"width\":_vm.mobile ? '90%' : '60%'},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[(_vm.showEmailsConfig)?_c('EmailsConfig',{on:{\"hideInterface\":_vm.closeInterfaces}}):_vm._e(),(_vm.showPassForm)?_c('v-form',[_c('v-container',[_c('v-row',[_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Nueva contraseña\",\"type\":\"password\",\"rules\":_vm.rules.passwordRules,\"maxLength\":8},model:{value:(_vm.userPassword),callback:function ($$v) {_vm.userPassword=$$v},expression:\"userPassword\"}})],1),_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Confirmar\",\"type\":\"password\",\"rules\":_vm.rules.passwordRules,\"maxLength\":8,\"error\":!_vm.passwordComparison.match,\"error-messages\":_vm.confirmation ? _vm.passwordComparison.message : ''},model:{value:(_vm.confirmation),callback:function ($$v) {_vm.confirmation=$$v},expression:\"confirmation\"}})],1),_c('v-card-actions',[_c('v-btn',{staticClass:\"mx-auto\",attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.updateAccount({ userPassword: _vm.userPassword })}}},[_vm._v(\" Confirmar \")])],1)],1)],1)],1):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"closable\":\"1\",\"title\":\"Correos electrónicos\",\"subtitle\":\"Configuración general\"},on:{\"hideInterface\":function($event){return _vm.$emit('hideInterface')}}}),_c('v-tabs',{attrs:{\"vertical\":!_vm.mobile}},[_vm._l((_vm.emails),function(email){return _c('v-tab',{key:email._id},[_vm._v(\" \"+_vm._s(email.subject)+\" \")])}),_vm._l((_vm.emails),function(email){return _c('v-tab-item',{key:email._id},[_c('v-card',[_c('v-card-text',[_c('v-form',[_c('v-switch',{attrs:{\"label\":\"Habilitado\"},model:{value:(email.enabled),callback:function ($$v) {_vm.$set(email, \"enabled\", $$v)},expression:\"email.enabled\"}}),_c('v-autocomplete',{attrs:{\"items\":_vm.formOptions.emailAccounts,\"disabled\":!email.to.editable,\"prefix\":\"Para\",\"hide-no-data\":\"\",\"deletable-chips\":\"\",\"small-chips\":\"\"},model:{value:(email.to.email),callback:function ($$v) {_vm.$set(email.to, \"email\", $$v)},expression:\"email.to.email\"}}),_c('v-autocomplete',{attrs:{\"items\":_vm.formOptions.emailAccounts,\"disabled\":!email.cc.editable,\"prefix\":\"CC\",\"hide-no-data\":\"\",\"multiple\":\"\",\"deletable-chips\":\"\",\"small-chips\":\"\"},model:{value:(email.cc.recipients),callback:function ($$v) {_vm.$set(email.cc, \"recipients\", $$v)},expression:\"email.cc.recipients\"}}),_c('v-card-actions',[_c('v-btn',{staticClass:\"mx-auto\",attrs:{\"color\":\"primary\",\"loading\":_vm.loader,\"disabled\":_vm.hasNoChanges(email)},on:{\"click\":function($event){return _vm.writeConfig(email)}}},[_vm._v(\" Actualizar \")])],1)],1)],1)],1)],1)})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-row',[_c('v-col',[(_vm.updatingState)?_c('v-skeleton-loader',{attrs:{\"type\":\"card\",\"height\":\"40\"}}):_c('v-alert',{attrs:{\"color\":\"primary\",\"border\":\"left\",\"dense\":\"\",\"dark\":\"\",\"icon\":_vm.closable ? null : 'mdi-map-marker',\"outlined\":!_vm.closable,\"tile\":_vm.closable === '1',\"text\":_vm.$vuetify.theme.isDark}},[_c('v-row',[_c('v-col',[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.title))])],1),(_vm.closable)?_c('v-col',{attrs:{\"cols\":2,\"align\":\"end\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.$emit('hideInterface')}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1):_vm._e()],1),_c('small',[_vm._v(_vm._s(_vm.subtitle))])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <v-row>\r\n      <v-col>\r\n        <v-skeleton-loader v-if=\"updatingState\" type=\"card\" height=\"40\" />\r\n        <v-alert\r\n          v-else\r\n          color=\"primary\"\r\n          border=\"left\"\r\n          dense\r\n          dark\r\n          :icon=\"closable ? null : 'mdi-map-marker'\"\r\n          :outlined=\"!closable\" :tile=\"closable === '1'\"\r\n          :text=\"$vuetify.theme.isDark\"\r\n        >\r\n          <v-row>\r\n            <v-col>\r\n              <v-toolbar-title>{{ title }}</v-toolbar-title>\r\n            </v-col>\r\n            <v-col v-if=\"closable\" :cols=\"2\" align=\"end\">\r\n              <v-btn @click=\"$emit('hideInterface')\" icon small>\r\n                <v-icon>mdi-close</v-icon>\r\n              </v-btn>\r\n            </v-col>\r\n          </v-row>\r\n          <small>{{ subtitle }}</small>\r\n        </v-alert>\r\n      </v-col>\r\n    </v-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n  name: 'Header',\r\n  props: ['title', 'subtitle', 'closable'],\r\n  computed: { ...mapState(['updatingState']) }\r\n\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Header.vue?vue&type=template&id=09d86f44&\"\nimport script from \"./Header.vue?vue&type=script&lang=js&\"\nexport * from \"./Header.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAlert,VBtn,VCol,VIcon,VRow,VSkeletonLoader,VToolbarTitle})\n","<template>\r\n  <v-container>\r\n    <Header\r\n      closable=\"1\"\r\n      title=\"Correos electrónicos\"\r\n      subtitle=\"Configuración general\"\r\n      @hideInterface=\"$emit('hideInterface')\"\r\n    />\r\n    <v-tabs :vertical=\"!mobile\">\r\n      <v-tab v-for=\"email of emails\" :key=\"email._id\">\r\n        {{ email.subject }}\r\n      </v-tab>\r\n      <v-tab-item v-for=\"email of emails\" :key=\"email._id\">\r\n        <v-card>\r\n          <v-card-text>\r\n            <v-form>\r\n              <v-switch v-model=\"email.enabled\" label=\"Habilitado\" />\r\n              <v-autocomplete\r\n                v-model=\"email.to.email\"\r\n                :items=\"formOptions.emailAccounts\"\r\n                :disabled=\"!email.to.editable\"\r\n                prefix=\"Para\"\r\n                hide-no-data\r\n                deletable-chips small-chips\r\n              />\r\n              <v-autocomplete\r\n                v-model=\"email.cc.recipients\"\r\n                :items=\"formOptions.emailAccounts\"\r\n                :disabled=\"!email.cc.editable\"\r\n                prefix=\"CC\"\r\n                hide-no-data\r\n                multiple deletable-chips small-chips\r\n              />\r\n              <v-card-actions>\r\n                <v-btn\r\n                  class=\"mx-auto\"\r\n                  @click=\"writeConfig(email)\"\r\n                  color=\"primary\"\r\n                  :loading=\"loader\"\r\n                  :disabled=\"hasNoChanges(email)\"\r\n                >\r\n                  Actualizar\r\n                </v-btn>\r\n              </v-card-actions>\r\n            </v-form>\r\n          </v-card-text>\r\n        </v-card>\r\n      </v-tab-item>\r\n    </v-tabs>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport Header from '@/components/generals/Header'\r\nimport { mapState, mapActions, mapGetters } from 'vuex'\r\nexport default {\r\n  name: 'EmailsConfig',\r\n  components: { Header },\r\n  data: () => ({\r\n    emails: [],\r\n    loader: false\r\n  }),\r\n  created () {\r\n    console.log('created')\r\n    this.copyItems()\r\n  },\r\n  computed: {\r\n    ...mapState(['collections']),\r\n    ...mapGetters(['formOptions']),\r\n    mobile () {\r\n      return this.$vuetify.breakpoint.name === 'xs' || this.$vuetify.breakpoint.name === 'sm'\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['updateDocument']),\r\n    copyItems () {\r\n      this.emails = JSON.parse(JSON.stringify(this.collections.Email))\r\n    },\r\n    writeConfig (email) {\r\n      this.loader = true\r\n      if (email.to.editable && !email.to.email) email.enabled = false\r\n      if (email.to.email) email.to.name = this.collections.User.find(user => user.email === email.to.email).firstName\r\n      this.updateDocument({\r\n        collection: 'Email',\r\n        body: email\r\n      })\r\n        .then(() => this.loader = false)\r\n        .catch((e) => console.error(e), this.loader = false)\r\n    },\r\n    hasNoChanges (email) {\r\n      const copy = JSON.stringify(email)\r\n      let original = this.collections.Email.find(item => item._id === email._id)\r\n      original = JSON.stringify(original)\r\n      return copy === original\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmailsConfig.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmailsConfig.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EmailsConfig.vue?vue&type=template&id=0f58feb6&\"\nimport script from \"./EmailsConfig.vue?vue&type=script&lang=js&\"\nexport * from \"./EmailsConfig.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\ninstallComponents(component, {VAutocomplete,VBtn,VCard,VCardActions,VCardText,VContainer,VForm,VSwitch,VTab,VTabItem,VTabs})\n","<template>\r\n  <div>\r\n    <v-card class=\"gradients pa-5\" dark>\r\n      <v-list-item>\r\n        <v-row align=\"center\">\r\n          <v-col cols=\"4\">\r\n            <v-avatar>\r\n              <v-avatar size=\"90%\" max-with=\"50\" max-height=\"50\">\r\n                <v-icon>mdi-account</v-icon>\r\n              </v-avatar>\r\n            </v-avatar>\r\n          </v-col>\r\n          <v-col>\r\n            <small class=\"caption font-weight-bold\">\r\n              {{ $session.get('session').user.firstName }}\r\n              {{ $session.get('session').user.lastName }}\r\n            </small>\r\n          </v-col>\r\n        </v-row>\r\n      </v-list-item>\r\n      <v-list color=\"hsla(140, 45%, 55%, .1)\" dense nav elevation=\"1\">\r\n        <v-list-item v-for=\"option, index of menu\" :key=\"index\"\r\n          v-show=\"option.requiredRole >= $session.get('session').user.userRole\"\r\n          @click=\"menuActions(option.action)\"\r\n        >\r\n          <v-list-item-icon>\r\n            <v-icon>{{ option.icon }}</v-icon>\r\n          </v-list-item-icon>\r\n          <v-list-item-content>\r\n            <v-list-item-title>{{ option.title }}</v-list-item-title>\r\n          </v-list-item-content>\r\n        </v-list-item>\r\n      </v-list>\r\n      <v-card-actions>\r\n        <v-switch v-model=\"darkMode\" @click.passive=\"setPreferedTheme\" color=\"white\" label=\"Modo oscuro\" prepend-icon=\"mdi-weather-night\" />\r\n      </v-card-actions>\r\n    </v-card>\r\n    <v-dialog v-model=\"dialog\" :persistent=\"showEmailsConfig\" :width=\"mobile ? '90%' : '60%'\">\r\n      <v-card>\r\n        <EmailsConfig v-if=\"showEmailsConfig\" @hideInterface=\"closeInterfaces\" />\r\n        <v-form v-if=\"showPassForm\">\r\n          <v-container>\r\n            <v-row>\r\n              <v-col>\r\n                <v-text-field v-model=\"userPassword\" label=\"Nueva contraseña\"\r\n                  type=\"password\" :rules=\"rules.passwordRules\" :maxLength=\"8\" />\r\n              </v-col>\r\n              <v-col>\r\n                <v-text-field v-model=\"confirmation\" label=\"Confirmar\"\r\n                  type=\"password\" :rules=\"rules.passwordRules\"  :maxLength=\"8\" \r\n                  :error=\"!passwordComparison.match\" :error-messages=\"confirmation ? passwordComparison.message : ''\"\r\n                />\r\n              </v-col>\r\n              <v-card-actions>\r\n                <v-btn class=\"mx-auto\" color=\"primary\" @click=\"updateAccount({ userPassword })\">\r\n                  Confirmar\r\n                </v-btn>\r\n              </v-card-actions>\r\n            </v-row>\r\n          </v-container>\r\n        </v-form>\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport { mapState, mapMutations } from 'vuex'\r\nimport EmailsConfig from './EmailsConfig.vue'\r\nimport { rules } from '@/helpers/form'\r\nexport default {\r\n  name: 'AccountMenu',\r\n  components: { EmailsConfig },\r\n  props: ['mobile'],\r\n  data: () => ({\r\n    darkMode: false,\r\n    rules,\r\n    dialog: false,\r\n    showPassForm: false,\r\n    showEmailsConfig: false,\r\n    userPassword: '',\r\n    confirmation: '',\r\n    menu: [\r\n      { icon: 'mdi-key', title: 'Cambiar contraseña', requiredRole: 3, action: 'showPassForm' },\r\n      { icon: 'mdi-email-edit', title: 'Correos del sistema', requiredRole: 1, action: 'showEmailsConfig' },\r\n      { icon: 'mdi-logout', title: 'Cerrar esta sesión', requiredRole: 3, action: 'killSession' }\r\n    ]\r\n  }),\r\n  created () {\r\n    this.darkMode = this.$vuetify.theme.isDark\r\n  },\r\n  computed: {\r\n    ...mapState(['session']),\r\n    passwordComparison () {\r\n      let match = this.confirmation === this.userPassword\r\n      match = this.userPassword ? match : true\r\n      const message = match ? '' : 'No coinciden'\r\n      return { match, message }\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations(['logOut', 'showSnackbar']),\r\n    killSession () {\r\n      this.logOut()\r\n      this.$session.destroy()\r\n      this.$router.push('/login')\r\n    },\r\n    menuActions (action) {\r\n      if (action === 'killSession') this.killSession()\r\n      this.dialog = true\r\n      this[action] = true\r\n    },\r\n    updateAccount (body) {\r\n      axios.put(`/Account/${this.session.user._id}`, body, { headers: { 'auth-token': this.session.token } })\r\n        .then(() => this.showSnackbar({ message: 'Actualizamos tus preferencias' }), this.showPassForm = false)\r\n        .catch(() => this.showSnackbar({ error: 'Ocurrió un error desconocido' }))\r\n    },\r\n    closeInterfaces () {\r\n      this.showEmailsConfig = false\r\n      this.dialog = false\r\n    },\r\n    setPreferedTheme () {\r\n      this.$vuetify.theme.isDark = this.darkMode\r\n      let preferences = this.session.user.preferences\r\n      preferences.darkTheme = this.darkMode\r\n      this.updateAccount({ preferences })\r\n      this.$session.set('session', this.session)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AccountMenu.vue?vue&type=template&id=442cbab6&\"\nimport script from \"./AccountMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./AccountMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAvatar,VBtn,VCard,VCardActions,VCol,VContainer,VDialog,VForm,VIcon,VList,VListItem,VListItemContent,VListItemIcon,VListItemTitle,VRow,VSwitch,VTextField})\n","<template>\r\n  <v-container>\r\n    <v-app-bar class=\"px-3\" :color=\"$vuetify.theme.isDark ? 'dark' : 'primary'\" dark app>\r\n      <v-menu :value=\"drawer\" nudge-bottom=\"70\">\r\n        <template v-slot:activator=\"{ on }\">\r\n          <v-app-bar-nav-icon v-on=\"on\" />\r\n        </template>\r\n        <AppMenu />\r\n      </v-menu>\r\n\r\n      <v-spacer />\r\n\r\n      <v-avatar>\r\n        <v-img src=\"@/assets/logo.svg\" />\r\n      </v-avatar>\r\n\r\n      <v-spacer />\r\n\r\n      <v-bottom-sheet v-model=\"showEmails\" :width=\"mobile ? '90%' : '60%'\">\r\n        <template v-slot:activator=\"{ on }\">\r\n          <v-btn v-show=\"failedEmails.length\" icon v-on=\"on\">\r\n            <v-icon>mdi-email-alert</v-icon>\r\n          </v-btn>\r\n        </template>\r\n        <EmailsLog @closeSheet=\"showEmails = false\" :failedEmails=\"failedEmails\" :mobile=\"mobile\" />\r\n      </v-bottom-sheet>\r\n\r\n      <v-menu nudge-left=\"155\" :closeOnContentClick=\"false\" nudge-bottom=\"35\">\r\n        <template v-slot:activator=\"{ on }\">\r\n          <v-btn icon v-on=\"on\">\r\n            <v-icon>mdi-account-circle</v-icon>\r\n          </v-btn>\r\n        </template>\r\n        <AccountMenu :mobile=\"mobile\" />\r\n      </v-menu>\r\n    </v-app-bar>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport EmailsLog from './EmailsLog.vue'\r\nimport AppMenu from './AppMenu.vue'\r\nimport AccountMenu from './AccountMenu.vue'\r\nexport default {\r\n  components: { AccountMenu, AppMenu, EmailsLog },\r\n  name: 'AppBar',\r\n  data: () => {\r\n    return {\r\n      showEmails: false,\r\n      drawer: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['failedEmails']),\r\n    mobile () {\r\n      return this.$vuetify.breakpoint.name === 'xs' || this.$vuetify.breakpoint.name === 'sm'\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppBar.vue?vue&type=template&id=2e610999&\"\nimport script from \"./AppBar.vue?vue&type=script&lang=js&\"\nexport * from \"./AppBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VAppBarNavIcon } from 'vuetify/lib/components/VAppBar';\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBottomSheet } from 'vuetify/lib/components/VBottomSheet';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAppBar,VAppBarNavIcon,VAvatar,VBottomSheet,VBtn,VContainer,VIcon,VImg,VMenu,VSpacer})\n","<template>\r\n  <v-app>\r\n    <AppBar v-if=\"$session.get('session')\" app />\r\n    <v-main>\r\n      <router-view />\r\n      <v-snackbar v-model=\"snackbar.activated\" vertical shaped>\r\n\r\n        <span class=\"overline font-weight-bold\">\r\n          {{ snackbar.title }}\r\n        </span>\r\n        <v-divider />\r\n        <p>{{ snackbar.message }}</p>\r\n\r\n        <template v-slot:action=\"{ attrs }\">\r\n          <v-icon :color=\"snackbar.error ? 'error' : 'success'\" v-bind=\"attrs\">\r\n            {{ snackbar.error ? 'mdi-alert-circle-outline' : 'mdi-check' }}\r\n          </v-icon>\r\n        </template>\r\n      </v-snackbar>\r\n    </v-main>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\n\r\nimport AppBar from '@/layout/AppBar.vue'\r\nimport { mapState, mapMutations, mapActions } from 'vuex'\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: { AppBar },\r\n  computed: { ...mapState(['snackbar']) },\r\n  methods: { ...mapMutations(['logIn']), ...mapActions(['getcollections']) },\r\n  created () {\r\n    const activeSession = this.$session.get('session')\r\n    if (activeSession) {\r\n      this.$store.state.session = activeSession\r\n      this.getcollections()\r\n      this.$vuetify.theme.isDark = activeSession.user.preferences.darkTheme\r\n    }\r\n    else if (this.$router.currentRoute.fullPath !== '/login') this.$router.push('/login')\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n.gradients {\r\n  background: hsla(209, 100%, 45%, 1);\r\n  background: linear-gradient(90deg, hsla(180, 100%, 45%, 1) 0%, hsla(140, 100%, 45%, 1) 100%);\r\n  background: -moz-linear-gradient(90deg, hsla(180, 100%, 45%, 1) 0%, hsla(140, 100%, 45%, 1) 100%);\r\n  background: -webkit-linear-gradient(90deg, hsla(170, 100%, 40%, 1) 0%, hsla(145, 85%, 45%, 1) 100%);\r\n  filter: progid: DXImageTransform.Microsoft.gradient( startColorstr=\"#0075E6\", endColorstr=\"#00EE6E\", GradientType=1 );\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=23af7a1e&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMain } from 'vuetify/lib/components/VMain';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\ninstallComponents(component, {VApp,VDivider,VIcon,VMain,VSnackbar})\n","/* eslint-disable no-console */\r\n\r\nimport { register } from 'register-service-worker'\r\n\r\nif (process.env.NODE_ENV === 'production') {\r\n  register(`${process.env.BASE_URL}service-worker.js`, {\r\n    ready () {\r\n      console.log(\r\n        'App is being served from cache by a service worker.\\n' +\r\n        'For more details, visit https://goo.gl/AFskqB'\r\n      )\r\n    },\r\n    registered () {\r\n      console.log('Service worker has been registered.')\r\n    },\r\n    cached () {\r\n      console.log('Content has been cached for offline use.')\r\n    },\r\n    updatefound () {\r\n      console.log('New content is downloading.')\r\n    },\r\n    updated () {\r\n      console.log('New content is available; please refresh.')\r\n    },\r\n    offline () {\r\n      console.log('No internet connection found. App is running in offline mode.')\r\n    },\r\n    error (error) {\r\n      console.error('Error during service worker registration:', error)\r\n    }\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"title\":\"Inicio\",\"subtitle\":(\"Estado general del servicio - \" + _vm.thisYear)}}),_c('v-row',_vm._l((_vm.cards),function(card,index){return _c('v-col',{key:index,attrs:{\"cols\":_vm.mobile ? 12 : 4}},[_c('DashboardCard',{attrs:{\"cardInfo\":card,\"mobile\":_vm.mobile}})],1)}),1),_c('v-row',[_c('v-col',[_c('v-card',[_c('v-card-title',[_vm._v(\"Asignaciones del día\")]),_c('v-chip-group',{attrs:{\"mandatory\":\"\",\"active-class\":\"primary--text\",\"light\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-filter\")]),_c('v-chip',{attrs:{\"small\":\"\"},on:{\"click\":function($event){_vm.showTodays = true}}},[_vm._v(\" \"+_vm._s(_vm.today)+\" \")]),_c('v-chip',{attrs:{\"small\":\"\"},on:{\"click\":function($event){_vm.showTodays = false}}},[_vm._v(\" \"+_vm._s(_vm.nextWorkingDay)+\" \")])],1),_c('QueryResult',{attrs:{\"result\":_vm.showTodays ? _vm.todaySchedule : _vm.nextDaySchedule,\"mobile\":_vm.mobile}})],1)],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[(_vm.updatingState)?_c('v-sheet',{staticClass:\"pa-3\"},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"300\",\"type\":\"card\"}})],1):_c('Graph',{attrs:{\"id\":\"dashboardGraph2\",\"updatingState\":_vm.updatingState,\"chartData\":_vm.servicesXMonth,\"title\":\"Servicios por mes\",\"subtitle\":_vm.thisYear}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[(_vm.updatingState)?_c('v-sheet',{staticClass:\"pa-3\"},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"300\",\"type\":\"card\"}})],1):_c('Graph',{attrs:{\"id\":\"dashboardGraph1\",\"updatingState\":_vm.updatingState,\"chartData\":_vm.servicesXState,\"title\":\"Servicios por estado\",\"subtitle\":_vm.thisYear}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-card',{staticClass:\"mx-auto\"},[_c('v-row',[_c('canvas',{staticClass:\"pa-3\",attrs:{\"id\":_vm.id}})]),_c('v-card-title',{staticClass:\"text-no-wrap\"},[_vm._v(_vm._s(_vm.title))]),_c('v-card-subtitle',[_vm._v(_vm._s(_vm.subtitle))])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <v-card class=\"mx-auto\">\r\n      <v-row>\r\n        <canvas class=\"pa-3\" :id=\"id\" />\r\n      </v-row>\r\n      <v-card-title class=\"text-no-wrap\">{{ title }}</v-card-title>\r\n      <v-card-subtitle>{{ subtitle }}</v-card-subtitle>\r\n    </v-card>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport Chart from 'chart.js/auto'\r\nexport default {\r\n  name: 'Graph',\r\n  props: ['updatingState', 'id', 'title', 'subtitle', 'chartData'],\r\n  data: () => ({\r\n    myChart: null\r\n  }),\r\n  computed: {\r\n    mobile () {\r\n      return this.$vuetify.breakpoint.name === 'xs' || this.$vuetify.breakpoint.name === 'sm'\r\n    }\r\n  },\r\n  methods: {\r\n    createChart (chartId, chartData) {\r\n      const ctx = document.getElementById(chartId)\r\n      this.myChart = new Chart(ctx, chartData)\r\n    }\r\n  },\r\n  watch: {\r\n    updatingState: function () {\r\n      if (this.updatingState) return\r\n      this.createChart(this.id, this.chartData)\r\n    }\r\n  },\r\n  mounted () {\r\n    if (this.updatingState) return\r\n      this.createChart(this.id, this.chartData)\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Graph.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Graph.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Graph.vue?vue&type=template&id=157251ec&\"\nimport script from \"./Graph.vue?vue&type=script&lang=js&\"\nexport * from \"./Graph.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCard,VCardSubtitle,VCardTitle,VContainer,VRow})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-row',[_c('v-col',[_c('v-card',{staticClass:\"text-no-wrap my-2 px-2\",attrs:{\"disabled\":!_vm.cardInfo.data.length}},[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-img',{attrs:{\"src\":_vm.cardInfo.icon,\"width\":\"70\"}})],1),_c('v-col',[_c('v-card-title',[_vm._v(\" \"+_vm._s(_vm.cardInfo.data.length)+\" \"),(_vm.cardInfo.data.length)?_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":_vm.showBottomSheet}},[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"accent\"}},[_vm._v(\" mdi-eye-settings-outline \")])],1):_vm._e()],1),_c('v-card-subtitle',[_vm._v(\" \"+_vm._s(_vm.cardInfo.title)+\" \")])],1)],1)],1)],1)],1),_c('v-bottom-sheet',{attrs:{\"scrollable\":\"\"},model:{value:(_vm.bottomSheet),callback:function ($$v) {_vm.bottomSheet=$$v},expression:\"bottomSheet\"}},[_c('v-card',[_c('Header',{attrs:{\"closable\":\"1\",\"title\":_vm.cardInfo.title,\"subtitle\":\"\"},on:{\"hideInterface\":function($event){_vm.bottomSheet = false}}}),_c('v-card-text',[_c('QueryResult',{attrs:{\"result\":_vm.cardInfo.data,\"mobile\":_vm.mobile}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{attrs:{\"md\":\"3\"}},[_c('v-text-field',{attrs:{\"prepend-inner-icon\":\"mdi-magnify\",\"label\":\"Filtrar\"},model:{value:(_vm.tableFilter),callback:function ($$v) {_vm.tableFilter=$$v},expression:\"tableFilter\"}})],1),_c('v-col',{attrs:{\"align\":\"end\"}},[(_vm.xlsFormat)?_c('export-excel',{attrs:{\"data\":_vm.xlsFormat}},[_c('v-btn',{attrs:{\"dark\":\"\",\"small\":\"\",\"disabled\":!_vm.result.length,\"color\":\"#2a5\"}},[_c('v-icon',[_vm._v(\"mdi-microsoft-excel\")])],1)],1):_vm._e()],1)],1),_c('v-data-table',{staticClass:\"elevation-2\",attrs:{\"dense\":\"\",\"items-per-page\":5,\"headers\":_vm.headers,\"items\":_vm.result,\"search\":_vm.tableFilter},scopedSlots:_vm._u([{key:\"item.serviceType\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(_vm._f(\"serviceType\")(item))+\" \")]}},{key:\"item.reportedAt\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(_vm._f(\"friendlyDate\")(item.reportedAt))+\" \")]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-menu',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"color\":item.reportCode ? 'primary' : 'accent',\"icon\":\"\",\"small\":\"\"}},on),[_c('v-icon',[_vm._v(\"mdi-dots-vertical\")])],1)]}}],null,true)},[_c('v-list',{attrs:{\"color\":item.reportCode ? 'primary' : 'accent',\"dark\":\"\",\"dense\":\"\"}},[(item.reportCode)?_c('v-list-item-group',_vm._l((_vm.reportsMenu),function(option,index){return _c('v-list-item',{key:index,attrs:{\"disabled\":item.status.includes('Cerrado') && option.action !== 'details'\n                || (option.requiredRole < _vm.$store.state.session.user.userRole)},on:{\"click\":function($event){return _vm.showDialog(option.action, item)}}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(_vm._s(option.icon))])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(option.title)+\" \")])],1)],1)}),1):_c('v-list-item-group',_vm._l((_vm.maintenanceMenu),function(option,index){return _c('v-list-item',{key:index,attrs:{\"disabled\":(item.status === 'Asignado' && option.title === 'Validar')\n                || (item.status === 'Culminado' && option.title !== 'Validar')\n                || (option.requiredRole < _vm.$store.state.session.user.userRole)},on:{\"click\":function($event){return _vm.showDialog(option.action, item)}}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(_vm._s(option.icon))])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(option.title)+\" \")])],1)],1)}),1)],1)],1),_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\",\"color\":item.reportCode ? 'primary' : 'accent'},on:{\"click\":function($event){return _vm.showInformation(item)}}},[_c('v-icon',[_vm._v(\"mdi-information-outline\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\",\"color\":item.reportCode ? 'primary' : 'accent'},on:{\"click\":function($event){return _vm.share(item)}}},[_c('v-icon',[_vm._v(\"mdi-share-variant\")])],1)]}}])}),_c('v-dialog',{attrs:{\"width\":_vm.mobile ? '90%' : '60%',\"persistent\":\"\",\"fullscreen\":_vm.detailsInterface},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[(_vm.detailsInterface)?_c('CorrectiveInfo',{attrs:{\"selectedDocument\":_vm.selectedDocument,\"mobile\":_vm.mobile},on:{\"hideInterface\":function($event){return _vm.hideInterface('details')}}}):_vm._e(),(_vm.scheduleInterface)?_c('CorrectiveSchedule',{attrs:{\"selectedDocument\":_vm.selectedDocument,\"mobile\":_vm.mobile},on:{\"hideInterface\":function($event){return _vm.hideInterface('schedule')}}}):_vm._e(),(_vm.updateInterface)?_c('CorrectiveUpdate',{attrs:{\"selectedDocument\":_vm.selectedDocument,\"mobile\":_vm.mobile},on:{\"hideInterface\":function($event){return _vm.hideInterface('update')}}}):_vm._e(),(_vm.scheduleMaintenanceInterface)?_c('MaintenanceForm',{attrs:{\"editing\":_vm.selectedDocument,\"collections\":_vm.collections,\"mobile\":_vm.mobile},on:{\"hideInterface\":function($event){return _vm.hideInterface('scheduleMaintenance')}}}):_vm._e(),(_vm.updateMaintenanceInterface)?_c('MaintenanceUpdate',{attrs:{\"updating\":_vm.selectedDocument,\"collections\":_vm.collections,\"mobile\":_vm.mobile},on:{\"hideInterface\":function($event){return _vm.hideInterface('updateMaintenance')}}}):_vm._e(),(_vm.validateMaintenanceInterface)?_c('MaintenanceValidation',{attrs:{\"updating\":_vm.selectedDocument,\"collections\":_vm.collections,\"mobile\":_vm.mobile},on:{\"hideInterface\":function($event){return _vm.hideInterface('validateMaintenance')}}}):_vm._e(),(_vm.inventoryInterface)?_c('OfficeInventory',{attrs:{\"mobile\":_vm.mobile,\"inventory\":_vm.selectedInventory},on:{\"hideInterface\":function($event){return _vm.hideInterface('inventory')}}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"closable\":\"1\",\"title\":\"Asignación\",\"subtitle\":\"Registre la fecha y el personal asignado\"},on:{\"hideInterface\":function($event){return _vm.$emit('hideInterface')}}}),_c('v-form',{ref:\"form\",model:{value:(_vm.assignForm),callback:function ($$v) {_vm.assignForm=$$v},expression:\"assignForm\"}},[_c('v-row',{attrs:{\"justify\":\"end\"}},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 9}},[_c('v-autocomplete',{attrs:{\"label\":\"Técnico asignado\",\"items\":_vm.formOptions.technicians,\"rules\":_vm.rules.required},model:{value:(_vm.schedule.technician),callback:function ($$v) {_vm.$set(_vm.schedule, \"technician\", $$v)},expression:\"schedule.technician\"}})],1)],1),_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{attrs:{\"align\":\"center\",\"cols\":\"3\"}},[_c('DateMenu',{on:{\"setDate\":function (date) { return _vm.dateSubmitted = date; }}})],1),_c('v-col',{attrs:{\"cols\":\"9\"}},[_c('v-text-field',{attrs:{\"error-messages\":_vm.itIsWeekend(_vm.dateSubmitted) ? 'Seleccione un día de la semana' : '',\"rules\":_vm.rules.required,\"label\":\"Fecha estimada de atención\",\"readonly\":\"\"},model:{value:(_vm.friendlyDate),callback:function ($$v) {_vm.friendlyDate=$$v},expression:\"friendlyDate\"}})],1)],1),_c('v-row',{staticClass:\"pb-2\",attrs:{\"align\":\"center\"}},[_c('v-col',{attrs:{\"align\":\"center\"}},[_c('v-btn',{attrs:{\"disabled\":!_vm.assignForm,\"loading\":_vm.loader,\"color\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\" Registrar \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const appLink = 'https://testing-mantra.vercel.app'\r\n\r\nconst styles = {\r\n  card: 'padding: 20px; border-radius: 10px; box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);',\r\n  logo: 'box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2); margin: 5px; border-radius: 100%; height: 35px; width: 35px;'\r\n}\r\n\r\nconst opening = (addressee, subject) => `\r\n  <p>${addressee}</p>\r\n  <p>El presente tiene como finalidad notificarte sobre una nueva <b>${subject}</b> registrada.</p>\r\n  <br>\r\n`\r\n\r\nconst body = ({ ...args }) => {\r\n  let listItems = ''\r\n  const entries = Object.entries(args.bodyItems)\r\n  for (const item of entries) listItems = listItems + `<li><b>${item[0]}</b>: ${item[1]}</li>`\r\n\r\n  return `\r\n    <div style=\"${styles.card}\">\r\n      <h2>${args.title}</h2>\r\n      <small>${args.subtitle}</small>\r\n      <hr />\r\n      <br>\r\n      <ul>\r\n        ${listItems}\r\n      </ul>\r\n      <div style=\"text-align: end;\">\r\n        <small style=\"margin-right: 5px;\"><b>Gestionado por:</b> ${args.author}</small>\r\n      </div>\r\n    </div>\r\n    <br>\r\n  `\r\n}\r\n\r\nconst notice = `\r\n  <p>📩 \r\n    <a href=\"mailto:helpdeskmc@microfilmscenterjaha.com\">Contacta</a>\r\n    <span> al equipo de Help Desk ante cualquier observación.</span>\r\n  </p>\r\n  <p>🔗 \r\n    <a href=\"${appLink}\">Accede</a>\r\n    <span> al sistema para más detalles y opciones de gestión.</span>\r\n  </p>\r\n`\r\n\r\nconst signature = `\r\n  <br>\r\n  <p>Cordialmente.</p>\r\n  <br>\r\n  <table cellpadding=\"0\" cellspacing=\"0\" class=\"sc-gPEVay eQYmiW\"\r\n    style=\"vertical-align: -webkit-baseline-middle; font-size: medium; font-family: Arial; min-width: 225px;\">\r\n    <tbody>\r\n      <tr style=\"text-align: center;\">\r\n        <td>\r\n          <h3 color=\"#444444\" class=\"sc-fBuWsC eeihxG\" style=\"margin: 0px; font-size: 18px;\">\r\n            <span>Mantra</span><span>&nbsp;</span><span>App</span>\r\n          </h3>\r\n          <p color=\"#444444\" font-size=\"medium\" class=\"sc-fMiknA bxZCMx\"\r\n            style=\"margin: 0px;font-size: 14px; line-height: 22px;\"\r\n          >\r\n            <span>Sistema de gestión</span>\r\n          </p>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td>\r\n          <table cellpadding=\"0\" cellspacing=\"0\" class=\"sc-gPEVay eQYmiW\"\r\n            style=\"vertical-align: -webkit-baseline-middle; font-size: medium; font-family: Arial; width: 100%;\">\r\n            <tbody>\r\n              <tr>\r\n                <td height=\"10\"></td>\r\n              </tr>\r\n              <tr>\r\n                <td color=\"#333\" direction=\"horizontal\" height=\"1\" class=\"sc-jhAzac hmXDXQ\"\r\n                  style=\"width: 100%; border-bottom: 1px solid #333; border-left: none; display: block;\">\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td height=\"10\"></td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n`\r\n\r\nexport const htmlBody = ({ ...args }) => `\r\n  ${opening(args.addressee, args.subject)}\r\n  ${body(args)}\r\n  ${notice}\r\n  ${signature}\r\n`","import moment from 'moment-timezone'\r\n\r\nexport const title = (subject, data) => {\r\n  switch (subject) {\r\n    case 'Solicitud de piezas':\r\n      return data.pieceName\r\n    case 'Reposición de piezas':\r\n      return data.dispatch.reference || 'Entrega personal'\r\n    case 'Asignación (correctivo)':\r\n      return data.reportCode\r\n    case 'Asignación (preventivo)':\r\n      return 'Mantenimiento'\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\nexport const subtitle = (subject, data) => {\r\n  switch (subject) {\r\n    case 'Solicitud de piezas':\r\n      return data.productName\r\n    case 'Reposición de piezas':\r\n      return data.dispatch.method === 'Entrega personal' ? '' : '#Referencia'\r\n    case 'Asignación (correctivo)':\r\n      return data.itsSpecial ? 'Especial' : 'Correctivo'\r\n    case 'Asignación (preventivo)':\r\n      return 'Asignación (preventivo)'\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\nexport const bodyItems = (subject, data) => {\r\n  switch (subject) {\r\n    case 'Solicitud de piezas':\r\n      return {\r\n        Cantidad: data.quantity,\r\n        Servicio: data.reportCode,\r\n        Técnico: data.technician.fullName,\r\n        Cliente: data.clientName,\r\n        Oficina: data.officeName\r\n      }\r\n    case 'Reposición de piezas':\r\n      return {\r\n        Destino: data.dispatch.method === 'Entrega personal' ? 'Entrega personal' : data.dispatch.destiny,\r\n        Fecha: moment(data.dispatch.date).parseZone('America/Caracas').format('dddd, DD/MM'),\r\n        ...data.content\r\n      }\r\n    case 'Asignación (correctivo)':\r\n      return {\r\n        Visita: moment(data.schedule.scheduledDate).parseZone('America/Caracas').format('dddd, DD/MM'),\r\n        Cliente: data.clientName,\r\n        Oficina: data.officeName,\r\n        Producto: data.productName,\r\n        Serial: data.serialCode,\r\n        Descripción: data.description,\r\n        Vencimiento: data.itsSpecial ? 'No aplica' : moment(data.expireDate).parseZone('America/Caracas').format('DD/MM/YYYY HH:mm')\r\n      }\r\n    case 'Asignación (preventivo)':\r\n      return {\r\n        Visita: moment(data.schedule.scheduledDate).parseZone('America/Caracas').format('dddd, DD/MM'),\r\n        Cliente: data.clientName,\r\n        Oficina: data.officeName\r\n      }\r\n    default:\r\n      break;\r\n  }\r\n}\r\n","import { htmlBody } from './template.js'\r\nimport { title, subtitle, bodyItems } from './builder.js'\r\n\r\nconst html = ({ addressee, data, email, author }) => {\r\n  const bodyProps = {\r\n    addressee: email.to.name || addressee.firstName,\r\n    subject: email.subject,\r\n    title: title(email.subject, data),\r\n    subtitle: subtitle(email.subject, data),\r\n    bodyItems: bodyItems(email.subject, data),\r\n    author\r\n  }\r\n  return htmlBody(bodyProps)\r\n}\r\n\r\nexport default (context) => {\r\n  return {\r\n    to: context.email.to.email || context.addressee.email,\r\n    cc: context.email.cc.recipients,\r\n    subject: `${context.email.subject} 🔔`,\r\n    html: html(context)\r\n  }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-menu',{ref:\"datemenu\",attrs:{\"close-on-content-click\":false,\"return-value\":_vm.dateSubmitted},on:{\"update:returnValue\":function($event){_vm.dateSubmitted=$event},\"update:return-value\":function($event){_vm.dateSubmitted=$event}},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"ma-1\",attrs:{\"color\":_vm.itIsWeekend(_vm.dateSubmitted) ? 'error' : 'primary',\"small\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-calendar\")])],1)]}}]),model:{value:(_vm.datePicker),callback:function ($$v) {_vm.datePicker=$$v},expression:\"datePicker\"}},[_c('v-date-picker',{attrs:{\"color\":_vm.itIsWeekend(_vm.dateSubmitted) ? 'error' : 'primary',\"no-title\":\"\",\"scrollable\":\"\"},model:{value:(_vm.dateSubmitted),callback:function ($$v) {_vm.dateSubmitted=$$v},expression:\"dateSubmitted\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){_vm.datePicker = false}}},[_vm._v(\" Cancelar \")]),_c('v-btn',{attrs:{\"disabled\":_vm.itIsWeekend(_vm.dateSubmitted),\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){return _vm.$refs.datemenu.save(_vm.dateSubmitted)}}},[_vm._v(\" OK \")]),(_vm.itIsWeekend(_vm.dateSubmitted))?_c('v-tooltip',{attrs:{\"right\":\"\",\"color\":\"error\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({attrs:{\"color\":\"error\"}},on),[_vm._v(\"mdi-alert-circle-outline\")])]}}],null,false,1817395708)},[_vm._v(\" Por favor seleccione un día válido \")]):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <v-menu\r\n      v-model=\"datePicker\"\r\n      ref=\"datemenu\"\r\n      :close-on-content-click=\"false\"\r\n      :return-value.sync=\"dateSubmitted\"\r\n    >\r\n      <template v-slot:activator=\"{ on, attrs }\">\r\n        <v-btn\r\n          class=\"ma-1\"\r\n          :color=\"itIsWeekend(dateSubmitted) ? 'error' : 'primary'\"\r\n          v-bind=\"attrs\"\r\n          v-on=\"on\"\r\n          small\r\n        >\r\n          <v-icon>mdi-calendar</v-icon>\r\n        </v-btn>\r\n      </template>\r\n\r\n      <v-date-picker\r\n        v-model=\"dateSubmitted\"\r\n        :color=\"itIsWeekend(dateSubmitted) ? 'error' : 'primary'\"\r\n        no-title\r\n        scrollable\r\n      >\r\n        <v-spacer />\r\n        <v-btn\r\n          @click=\"datePicker = false\"\r\n          color=\"primary\"\r\n          text\r\n        >\r\n          Cancelar\r\n        </v-btn>\r\n        <v-btn\r\n          @click=\"$refs.datemenu.save(dateSubmitted)\"\r\n          :disabled=\"itIsWeekend(dateSubmitted)\"\r\n          color=\"primary\"\r\n          text\r\n        >\r\n          OK\r\n        </v-btn>\r\n        <v-tooltip v-if=\"itIsWeekend(dateSubmitted)\" right color=\"error\">\r\n          <template v-slot:activator=\"{ on }\">\r\n            <v-icon v-on=\"on\" color=\"error\">mdi-alert-circle-outline</v-icon>\r\n          </template>\r\n          Por favor seleccione un día válido\r\n        </v-tooltip>\r\n      </v-date-picker>\r\n    </v-menu>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment-timezone'\r\nmoment.locale('es')\r\n\r\nexport default {\r\n  name: 'DateMenu',\r\n  props: [],\r\n  data: () => ({\r\n    datePicker: false,\r\n    dateSubmitted: new Date().toISOString().substr(0, 10)\r\n  }),\r\n\r\n  methods: {\r\n    itIsWeekend (date) {\r\n      return moment(date).format('dddd') === 'sábado' || moment(date).format('dddd') === 'domingo'\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    dateSubmitted: function () {\r\n      this.$emit('setDate', this.dateSubmitted)\r\n    }\r\n  }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DateMenu.vue?vue&type=template&id=c1d94104&\"\nimport script from \"./DateMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./DateMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VContainer,VDatePicker,VIcon,VMenu,VSpacer,VTooltip})\n","<template>\r\n  <v-container>\r\n    <Header\r\n      closable=\"1\"\r\n      title=\"Asignación\"\r\n      subtitle=\"Registre la fecha y el personal asignado\"\r\n      @hideInterface=\"$emit('hideInterface')\"\r\n    />\r\n    <v-form ref=\"form\" v-model=\"assignForm\">\r\n      <v-row justify=\"end\">\r\n        <v-col :cols=\"mobile ? 12 : 9\">\r\n          <v-autocomplete\r\n            v-model=\"schedule.technician\"\r\n            label=\"Técnico asignado\"\r\n            :items=\"formOptions.technicians\"\r\n            :rules=\"rules.required\"\r\n          />\r\n        </v-col>\r\n      </v-row>\r\n      <v-row align=\"center\">\r\n        <v-col align=\"center\" cols=\"3\">\r\n          <DateMenu @setDate=\"(date) => dateSubmitted = date\" />\r\n        </v-col>\r\n        <v-col cols=\"9\">\r\n          <v-text-field\r\n            v-model=\"friendlyDate\"\r\n            :error-messages=\"itIsWeekend(dateSubmitted) ? 'Seleccione un día de la semana' : ''\"\r\n            :rules=\"rules.required\"\r\n            label=\"Fecha estimada de atención\"\r\n            readonly\r\n          />\r\n        </v-col>\r\n      </v-row>\r\n      <v-row class=\"pb-2\" align=\"center\">\r\n        <v-col align=\"center\">\r\n          <v-btn\r\n            :disabled=\"!assignForm\"\r\n            :loading=\"loader\"\r\n            color=\"primary\"\r\n            @click=\"save\"\r\n          >\r\n            Registrar\r\n          </v-btn>\r\n        </v-col>\r\n      </v-row>\r\n    </v-form>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport email from '../../helpers/emails/email'\r\nimport Vue from 'vue'\r\nimport { mapActions, mapGetters, mapState } from 'vuex'\r\nimport Header from '@/components/generals/Header'\r\nimport DateMenu from '@/components/generals/DateMenu'\r\nimport moment from 'moment-timezone'\r\nimport { rules } from '@/helpers/form.js'\r\n\r\nmoment.locale('es')\r\n\r\nexport default Vue.extend({\r\n  name: 'CorrectiveSchedule',\r\n  components: { Header, DateMenu },\r\n  props: ['mobile', 'selectedDocument'],\r\n\r\n  created () {\r\n    this.friendlyDate = `${moment(this.dateSubmitted).format('dddd, DD [de] MMMM')}`\r\n    this.schedule.technician = this.selectedDocument.schedule.technician\r\n  },\r\n\r\n  data: () => ({\r\n    assignForm: false,\r\n    schedule: {\r\n      scheduledDate: new Date().toISOString().substr(0, 10),\r\n      technician: {}\r\n    },\r\n    dateSubmitted: new Date().toISOString().substr(0, 10),\r\n    loader: false,\r\n    friendlyDate: '',\r\n    rules\r\n  }),\r\n\r\n  computed: {\r\n\r\n    ...mapGetters(['formOptions']),\r\n    ...mapState(['collections']),\r\n\r\n    formattedDate () {\r\n      return moment(`${this.dateSubmitted} 08:00`).format('YYYY-MM-DD[T]HH:mm[:00.000+00:00]')\r\n    },\r\n\r\n    emailNotification () {\r\n      return this.collections.Email.find(email => email.subject === 'Asignación (correctivo)')\r\n    }\r\n\r\n  },\r\n\r\n  methods: {\r\n\r\n    ...mapActions(['updateDocument', 'sendEmail']),\r\n\r\n    itIsWeekend (date) {\r\n      return moment(date).format('dddd') === 'sábado' || moment(date).format('dddd') === 'domingo'\r\n    },\r\n\r\n    save () {\r\n      this.loader = true\r\n      let documentation = this.selectedDocument.documentation\r\n      documentation.push(\r\n        this.setDocumentation(\r\n          `Servicio asignado a ${this.schedule.technician.fullName}, fecha estimada de atención: ${this.friendlyDate}.`\r\n        )\r\n      )\r\n      const document = {\r\n        collection: 'Active',\r\n        body: {\r\n          _id: this.selectedDocument._id,\r\n          documentation,\r\n          schedule: {\r\n            technician: this.schedule.technician,\r\n            scheduledDate: this.formattedDate\r\n          },\r\n          status: 'Atención programada'\r\n        }\r\n      }\r\n      this.updateDocument(document)\r\n        .then(() => {\r\n          if (!this.emailNotification.enabled) return\r\n          const addressee = this.collections.User.find(user => user._id === this.schedule.technician._id)\r\n          const notification = email({\r\n            email: this.emailNotification,\r\n            data: { ...this.selectedDocument, schedule: {...this.schedule} },\r\n            author: this.formOptions.user.fullName, addressee\r\n          })\r\n          this.sendEmail([notification])\r\n            .then(() => { return })\r\n            .catch(() => this.loader = false)\r\n        })\r\n        .then(() => this.$emit('hideInterface'))\r\n        .catch(() => this.loader = false)\r\n    },\r\n\r\n    setDocumentation (observations) {\r\n      return {\r\n        type: 'Asignado',\r\n        observations,\r\n        status: this.selectedDocument.status === 'En programación' ? 'Atención programada' : this.selectedDocument.status,\r\n        date: '',\r\n        author: this.formOptions.user,\r\n        technician: this.schedule.technician,\r\n        updatedAt: moment(Date.now()).format()\r\n      }\r\n    }\r\n\r\n  },\r\n\r\n  watch: {\r\n    dateSubmitted: function () {\r\n      this.friendlyDate = `${moment(this.dateSubmitted).format('dddd, DD [de] MMMM')}`\r\n      this.schedule.scheduledDate = this.formattedDate\r\n    }\r\n  }\r\n\r\n})\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CorrectiveSchedule.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CorrectiveSchedule.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CorrectiveSchedule.vue?vue&type=template&id=0ea76883&\"\nimport script from \"./CorrectiveSchedule.vue?vue&type=script&lang=js&\"\nexport * from \"./CorrectiveSchedule.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAutocomplete,VBtn,VCol,VContainer,VForm,VRow,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"closable\":\"1\",\"title\":\"Formulario de registro\",\"subtitle\":\"Complete la información del servicio\"},on:{\"hideInterface\":function($event){return _vm.$emit('hideInterface')}}}),_c('v-card',[_c('v-card-text',[_c('v-form',{ref:\"maintenanceForm\",model:{value:(_vm.maintenanceForm),callback:function ($$v) {_vm.maintenanceForm=$$v},expression:\"maintenanceForm\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-switch',{attrs:{\"disabled\":_vm.editing !== undefined,\"label\":\"Ocultar clientes inactivos\"},model:{value:(_vm.hideInactiveClients),callback:function ($$v) {_vm.hideInactiveClients=$$v},expression:\"hideInactiveClients\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-autocomplete',{attrs:{\"disabled\":_vm.editing !== undefined,\"items\":_vm.formLists.clientNames,\"rules\":_vm.rules.required,\"label\":\"Cliente\"},model:{value:(_vm.serviceForm.clientName),callback:function ($$v) {_vm.$set(_vm.serviceForm, \"clientName\", $$v)},expression:\"serviceForm.clientName\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-switch',{attrs:{\"label\":\"Ocultar oficinas atendidas\"},model:{value:(_vm.hideVisitedOffices),callback:function ($$v) {_vm.hideVisitedOffices=$$v},expression:\"hideVisitedOffices\"}})],1),_c('v-col',[_c('v-autocomplete',{attrs:{\"items\":_vm.formLists.clientOfficeNames,\"rules\":_vm.rules.required,\"disabled\":!_vm.serviceForm.clientName,\"label\":\"Oficina\"},model:{value:(_vm.serviceForm.officeName),callback:function ($$v) {_vm.$set(_vm.serviceForm, \"officeName\", $$v)},expression:\"serviceForm.officeName\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 5}},[_c('v-autocomplete',{attrs:{\"items\":_vm.formOptions.technicians,\"rules\":_vm.rules.required,\"label\":\"Personal asignado\"},model:{value:(_vm.technician),callback:function ($$v) {_vm.technician=$$v},expression:\"technician\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 3 : 2}},[_c('DateMenu',{on:{\"setDate\":function (date) { return _vm.dateSubmitted = date; }}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 9 : 5}},[_c('v-text-field',{attrs:{\"label\":\"Fecha estimada de atención\",\"readonly\":\"\",\"rules\":_vm.rules.required,\"error-messages\":_vm.itIsWeekend(_vm.dateSubmitted) ? 'Seleccione un día de la semana' : ''},model:{value:(_vm.friendlyDate),callback:function ($$v) {_vm.friendlyDate=$$v},expression:\"friendlyDate\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-btn',{attrs:{\"color\":\"success\",\"block\":\"\",\"disabled\":!_vm.maintenanceForm,\"loading\":_vm.loader},on:{\"click\":function($event){return _vm.save(_vm.serviceForm)}}},[_vm._v(\" Registrar \")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n\r\n    <Header\r\n      closable=\"1\"\r\n      title=\"Formulario de registro\"\r\n      subtitle=\"Complete la información del servicio\"\r\n      @hideInterface=\"$emit('hideInterface')\"\r\n    />\r\n\r\n    <v-card>\r\n      <v-card-text>\r\n        <v-form ref=\"maintenanceForm\" v-model=\"maintenanceForm\">\r\n          <v-row>\r\n            <v-col :cols=\"mobile ? 12 : 6\">\r\n              <v-switch\r\n                v-model=\"hideInactiveClients\"\r\n                :disabled=\"editing !== undefined\"\r\n                label=\"Ocultar clientes inactivos\"\r\n              />\r\n            </v-col>\r\n            <v-col :cols=\"mobile ? 12 : 6\">\r\n              <v-autocomplete\r\n                v-model=\"serviceForm.clientName\"\r\n                :disabled=\"editing !== undefined\"\r\n                :items=\"formLists.clientNames\"\r\n                :rules=\"rules.required\"\r\n                label=\"Cliente\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-row>\r\n            <v-col :cols=\"mobile ? 12 : 6\">\r\n              <v-switch v-model=\"hideVisitedOffices\" label=\"Ocultar oficinas atendidas\" />\r\n            </v-col>\r\n            <v-col>\r\n              <v-autocomplete\r\n                v-model=\"serviceForm.officeName\"\r\n                :items=\"formLists.clientOfficeNames\"\r\n                :rules=\"rules.required\"\r\n                :disabled=\"!serviceForm.clientName\"\r\n                label=\"Oficina\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-row>\r\n            <v-col :cols=\"mobile ? 12 : 5\">\r\n              <v-autocomplete\r\n                v-model=\"technician\"\r\n                :items=\"formOptions.technicians\"\r\n                :rules=\"rules.required\"\r\n                label=\"Personal asignado\"\r\n              />\r\n            </v-col>\r\n            <v-col :cols=\"mobile ? 3 : 2\">\r\n              <DateMenu @setDate=\"(date) => dateSubmitted = date\" />\r\n            </v-col>\r\n            <v-col :cols=\"mobile ? 9 : 5\">\r\n              <v-text-field\r\n                v-model=\"friendlyDate\"\r\n                label=\"Fecha estimada de atención\"\r\n                readonly\r\n                :rules=\"rules.required\"\r\n                :error-messages=\"itIsWeekend(dateSubmitted) ? 'Seleccione un día de la semana' : ''\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-row>\r\n            <v-col>\r\n              <v-btn\r\n                color=\"success\"\r\n                block\r\n                :disabled=\"!maintenanceForm\"\r\n                :loading=\"loader\"\r\n                @click=\"save(serviceForm)\"\r\n              >\r\n                Registrar\r\n              </v-btn>\r\n            </v-col>\r\n          </v-row>\r\n        </v-form>\r\n      </v-card-text>\r\n    </v-card>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport email from '../../helpers/emails/email'\r\nimport Vue from 'vue'\r\nimport { mapMutations, mapGetters, mapActions } from 'vuex'\r\nimport { rules } from '@/helpers/form.js'\r\nimport Header from '@/components/generals/Header'\r\nimport DateMenu from '@/components/generals/DateMenu'\r\nimport moment from 'moment-timezone'\r\n\r\nmoment.locale('es')\r\n\r\nexport default Vue.extend({\r\n  name: 'MaintenanceForm',\r\n  components: { Header, DateMenu },\r\n  props: ['pendingMaintenance', 'collections', 'mobile', 'editing', 'startTemplate'],\r\n  data: () => ({\r\n    maintenanceForm: false,\r\n    datePicker: false,\r\n    hideVisitedOffices: true,\r\n    hideInactiveClients: true,\r\n\r\n    serviceForm: {\r\n      clientName: '',\r\n      officeName: ''\r\n    },\r\n    technician: null,\r\n\r\n    dateSubmitted: new Date().toISOString().substr(0, 10),\r\n    loader: false,\r\n    friendlyDate: '',\r\n    rules\r\n\r\n  }),\r\n\r\n  created () {\r\n    if (this.startTemplate) this.serviceForm = Object.assign({}, this.startTemplate)\r\n    if (this.editing) {\r\n      this.serviceForm = Object.assign({}, this.editing)\r\n      this.technician = this.editing.schedule.technician\r\n      this.dateSubmitted = moment(this.editing.serviceDate).parseZone('America/Caracas').format('YYYY-MM-D')\r\n    }\r\n    this.friendlyDate = `${moment(this.dateSubmitted).format('DD [de] MMMM')}`\r\n  },\r\n\r\n  computed: {\r\n\r\n    ...mapGetters(['formOptions']),\r\n\r\n    formLists () {\r\n      const clientNames = this.hideInactiveClients\r\n        ? this.formOptions.clientsWithContract.map(client => client.clientName)\r\n        : this.collections.Client.map(client => client.clientName)\r\n      const officesToFilter = this.hideVisitedOffices\r\n        ? this.formOptions.pendingMaintenance\r\n        : this.collections.Office\r\n      const clientOffices = this.serviceForm.clientName\r\n        ? officesToFilter.filter(office => office.clientName === this.serviceForm.clientName)\r\n        : []\r\n      const clientOfficeNames = clientOffices !== []\r\n        ? clientOffices.map(x => x.officeName)\r\n        : []\r\n      const officeInfo = this.serviceForm.officeName\r\n        ? this.collections.Office.find((office) => office.officeName === this.serviceForm.officeName)\r\n        : {}\r\n      return { clientNames, clientOfficeNames, officeInfo }\r\n    },\r\n    emailNotification () {\r\n      return this.collections.Email.find(email => email.subject === 'Asignación (preventivo)')\r\n    }\r\n\r\n  },\r\n  methods: {\r\n    ...mapActions(['createDocument', 'updateDocument', 'findDocuments', 'sendEmail']),\r\n    ...mapMutations(['showSnackbar']),\r\n\r\n    itIsWeekend (date) {\r\n      return moment(date).format('dddd') === 'sábado' || moment(date).format('dddd') === 'domingo'\r\n    },\r\n\r\n    async preventDuplicity (form) {\r\n      const { clientName, officeName } = form\r\n      const _id = this.editing ? this.editing._id : null\r\n\r\n      const filter = {\r\n        clientName,\r\n        officeName,\r\n        \"$or\": [\r\n          { status: 'Asignado' },\r\n          { status: 'Culminado' },\r\n          { status: 'Por culminar' }\r\n        ],\r\n        _id: { \"$ne\": _id }\r\n      }\r\n      const res = await this.findDocuments({ collection: 'Maintenance' , filter })\r\n      if (!res.length) return false\r\n      else return this.showSnackbar({ error: 'Registrado anteriormente, verifique por cliente y oficina' }), true\r\n    },\r\n\r\n    async save (newService) {\r\n      this.loader = true\r\n\r\n      const registeredBefore = await this.preventDuplicity(newService)\r\n      if (registeredBefore) return this.loader = false\r\n      const body = this.completeFields(newService)\r\n\r\n      if (this.editing) this.update({ collection: 'Maintenance', body })\r\n      else this.create({ collection: 'Maintenance', body })\r\n    },\r\n\r\n    completeFields (body) {\r\n      body.schedule = { scheduledDate: this.dateSubmitted, technician: this.technician }\r\n      body.officeRegion = this.formLists.officeInfo.region\r\n      body.officeState = this.formLists.officeInfo.officeState\r\n      return body\r\n    },\r\n\r\n    update (document) {\r\n      this.updateDocument(document)\r\n        .then(() => this.buildEmail(document))\r\n        .then(() => this.$emit('hideInterface'))\r\n        .catch((e) => console.log(e), this.loader = false)\r\n    },\r\n\r\n    create (document) {\r\n      this.createDocument(document)\r\n        .then(() => this.buildEmail(document))\r\n        .then(() => this.$emit('hideInterface'))\r\n        .catch((e) => console.log(e), this.loader = false)\r\n    },\r\n\r\n    buildEmail ({ body }) {\r\n      if (!this.emailNotification.enabled) return\r\n      const addressee = this.collections.User.find(user => user._id === body.schedule.technician._id)\r\n      const notification = email({ email: this.emailNotification, data: body, author: this.formOptions.user.fullName, addressee })\r\n      this.sendEmail([notification])\r\n        .then(() => { return })\r\n        .catch((e) => console.log(e))\r\n    }\r\n\r\n  },\r\n\r\n  watch: {\r\n\r\n    dateSubmitted: function () {\r\n      this.friendlyDate = `${moment(this.dateSubmitted).format('DD [de] MMMM')}`\r\n    }\r\n\r\n  }\r\n\r\n})\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaintenanceForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaintenanceForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MaintenanceForm.vue?vue&type=template&id=f69d5d5a&\"\nimport script from \"./MaintenanceForm.vue?vue&type=script&lang=js&\"\nexport * from \"./MaintenanceForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAutocomplete,VBtn,VCard,VCardText,VCol,VContainer,VForm,VRow,VSwitch,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"closable\":\"1\",\"title\":\"Actualización\",\"subtitle\":((_vm.updating.officeName) + \" - Mantenimiento\")},on:{\"hideInterface\":function($event){return _vm.$emit('hideInterface')}}}),_c('v-card',[_c('v-card-text',[_c('v-form',{ref:\"maintenanceForm\",model:{value:(_vm.maintenanceForm),callback:function ($$v) {_vm.maintenanceForm=$$v},expression:\"maintenanceForm\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 7 : 3}},[_c('v-text-field',{attrs:{\"rules\":_vm.inventorySlot.serviceOrder ? _vm.rules.serviceOrder : [],\"label\":\"#Orden\",\"maxlength\":6},model:{value:(_vm.inventorySlot.serviceOrder),callback:function ($$v) {_vm.$set(_vm.inventorySlot, \"serviceOrder\", $$v)},expression:\"inventorySlot.serviceOrder\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 5 : 2}},[_c('v-text-field',{attrs:{\"label\":\"Cantidad\",\"type\":\"number\"},model:{value:(_vm.inventorySlot.quantity),callback:function ($$v) {_vm.$set(_vm.inventorySlot, \"quantity\", $$v)},expression:\"inventorySlot.quantity\"}})],1)],1),_c('v-row',{attrs:{\"justify\":\"space-between\"}},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 10 : 9}},[_c('v-select',{attrs:{\"items\":_vm.formLists.clientProducts,\"label\":\"Producto(s)\"},model:{value:(_vm.inventorySlot.productType),callback:function ($$v) {_vm.$set(_vm.inventorySlot, \"productType\", $$v)},expression:\"inventorySlot.productType\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 3}},[_c('v-btn',{attrs:{\"block\":_vm.mobile,\"small\":\"\",\"color\":\"secondary\"},on:{\"click\":function($event){return _vm.attachOrder(_vm.inventorySlot)}}},[_c('v-icon',[_vm._v(\"mdi-plus\")])],1)],1)],1),_c('v-row',[_c('v-col',[_c('v-chip-group',_vm._l((_vm.serviceOrders),function(order,index){return _c('v-tooltip',{key:index,attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-chip',_vm._g({attrs:{\"close\":\"\",\"color\":\"accent\",\"small\":\"\"},on:{\"click:close\":function($event){return _vm.removeOrder(order)}}},on),[_vm._v(\" \"+_vm._s(order)+\" \")])]}}],null,true)},[_vm._v(\" \"+_vm._s(_vm.orderInfo(order).productType)+\" (\"+_vm._s(_vm.orderInfo(order).quantity)+\") \")])}),1)],1)],1),_c('v-row',{attrs:{\"justify\":\"space-between\",\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-autocomplete',{attrs:{\"items\":_vm.formOptions.technicians,\"rules\":_vm.rules.required,\"label\":\"Personal asignado\",\"solo\":\"\"},model:{value:(_vm.serviceForm.schedule.technician),callback:function ($$v) {_vm.$set(_vm.serviceForm.schedule, \"technician\", $$v)},expression:\"serviceForm.schedule.technician\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 2 : 2}},[_c('DateMenu',{on:{\"setDate\":function (date) { return _vm.dateSubmitted = date; }}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 8 : 4}},[_c('v-text-field',{attrs:{\"label\":\"Fecha de atención\",\"rules\":_vm.rules.required,\"readonly\":\"\",\"error-messages\":_vm.itIsWeekend(_vm.dateSubmitted)\n                  ? 'Seleccione un día de la semana'\n                  : ''},model:{value:(_vm.friendlyDate),callback:function ($$v) {_vm.friendlyDate=$$v},expression:\"friendlyDate\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-select',{attrs:{\"items\":_vm.maintenanceStatus,\"label\":\"Status\",\"rules\":_vm.rules.required},model:{value:(_vm.serviceForm.status),callback:function ($$v) {_vm.$set(_vm.serviceForm, \"status\", $$v)},expression:\"serviceForm.status\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-btn',{attrs:{\"color\":\"success\",\"disabled\":!_vm.maintenanceForm,\"loading\":_vm.loader,\"block\":\"\"},on:{\"click\":function($event){return _vm.save(_vm.serviceForm)}}},[_vm._v(\" Registrar \")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n\r\n    <Header\r\n      closable=\"1\"\r\n      title=\"Actualización\"\r\n      :subtitle=\"`${updating.officeName} - Mantenimiento`\"\r\n      @hideInterface=\"$emit('hideInterface')\"\r\n    />\r\n\r\n    <v-card>\r\n      <v-card-text>\r\n        <v-form ref=\"maintenanceForm\" v-model=\"maintenanceForm\">\r\n          <v-row>\r\n            <v-col :cols=\"mobile ? 7 : 3\">\r\n              <v-text-field\r\n                v-model=\"inventorySlot.serviceOrder\"\r\n                :rules=\"inventorySlot.serviceOrder ? rules.serviceOrder : []\"\r\n                label=\"#Orden\"\r\n                :maxlength=\"6\"\r\n              />\r\n            </v-col>\r\n            <v-col :cols=\"mobile ? 5 : 2\">\r\n              <v-text-field\r\n                v-model=\"inventorySlot.quantity\"\r\n                label=\"Cantidad\"\r\n                type=\"number\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-row justify=\"space-between\">\r\n            <v-col :cols=\"mobile ? 10 : 9\">\r\n              <v-select\r\n                v-model=\"inventorySlot.productType\"\r\n                :items=\"formLists.clientProducts\"\r\n                label=\"Producto(s)\"\r\n              />\r\n            </v-col>\r\n            <v-col :cols=\"mobile ? 12 : 3\">\r\n              <v-btn\r\n                @click=\"attachOrder(inventorySlot)\"\r\n                :block=\"mobile\"\r\n                small\r\n                color=\"secondary\"\r\n              >\r\n                <v-icon>mdi-plus</v-icon>\r\n              </v-btn>\r\n            </v-col>\r\n          </v-row>\r\n          <v-row>\r\n            <v-col>\r\n              <v-chip-group>\r\n                <v-tooltip\r\n                  v-for=\"(order, index) in serviceOrders\"\r\n                  :key=\"index\"\r\n                  bottom\r\n                >\r\n                  <template v-slot:activator=\"{ on }\">\r\n                    <v-chip\r\n                      close\r\n                      @click:close=\"removeOrder(order)\"\r\n                      v-on=\"on\"\r\n                      color=\"accent\"\r\n                      small\r\n                    >\r\n                      {{ order }}\r\n                    </v-chip>\r\n                  </template>\r\n                  {{ orderInfo(order).productType }} ({{ orderInfo(order).quantity }})\r\n                </v-tooltip>\r\n              </v-chip-group>\r\n            </v-col>\r\n          </v-row>\r\n          <v-row justify=\"space-between\" align=\"center\">\r\n            <v-col :cols=\"mobile ? 12 : 6\">\r\n              <v-autocomplete\r\n                v-model=\"serviceForm.schedule.technician\"\r\n                :items=\"formOptions.technicians\"\r\n                :rules=\"rules.required\"\r\n                label=\"Personal asignado\"\r\n                solo\r\n              />\r\n            </v-col>\r\n            <v-col :cols=\"mobile ? 2 : 2\">\r\n              <DateMenu @setDate=\"(date) => dateSubmitted = date\" />\r\n            </v-col>\r\n            <v-col :cols=\"mobile ? 8 : 4\">\r\n              <v-text-field\r\n                v-model=\"friendlyDate\"\r\n                label=\"Fecha de atención\"\r\n                :rules=\"rules.required\"\r\n                readonly\r\n                :error-messages=\"\r\n                  itIsWeekend(dateSubmitted)\r\n                    ? 'Seleccione un día de la semana'\r\n                    : ''\r\n                \"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-row>\r\n            <v-col>\r\n              <v-select\r\n                v-model=\"serviceForm.status\"\r\n                :items=\"maintenanceStatus\"\r\n                label=\"Status\"\r\n                :rules=\"rules.required\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-row>\r\n            <v-col>\r\n              <v-btn\r\n                @click=\"save(serviceForm)\"\r\n                color=\"success\"\r\n                :disabled=\"!maintenanceForm\"\r\n                :loading=\"loader\"\r\n                block\r\n              >\r\n                Registrar\r\n              </v-btn>\r\n            </v-col>\r\n          </v-row>\r\n        </v-form>\r\n      </v-card-text>\r\n    </v-card>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Vue from 'vue'\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport moment from 'moment-timezone'\r\nimport Header from '@/components/generals/Header'\r\nimport DateMenu from '@/components/generals/DateMenu'\r\nimport { rules, maintenanceStatus } from '@/helpers/form'\r\n\r\nmoment.locale('es')\r\n\r\nexport default Vue.extend({\r\n\r\n  name: 'MaintenanceUpdate',\r\n  components: { Header, DateMenu },\r\n  props: ['collections', 'mobile', 'updating'],\r\n\r\n  data: () => ({\r\n    maintenanceForm: false,\r\n    datePicker: false,\r\n    serviceForm: {},\r\n    inventorySlot: {\r\n      serviceOrder: '',\r\n      quantity: 0,\r\n      productType: '',\r\n      status: ''\r\n    },\r\n    maintenanceStatus,\r\n    technician: {},\r\n    dateSubmitted: new Date().toISOString().substr(0, 10),\r\n    loader: false,\r\n    friendlyDate: '',\r\n    rules\r\n\r\n  }),\r\n\r\n  created () {\r\n    this.serviceForm = Object.assign({}, this.updating)\r\n    this.serviceForm.status = ''\r\n    this.dateSubmitted = this.serviceForm.schedule.scheduledDate\r\n    this.friendlyDate = `${moment(this.dateSubmitted).format('DD [de] MMMM')}`\r\n  },\r\n\r\n  computed: {\r\n\r\n    ...mapGetters(['formOptions']),\r\n\r\n    formLists () {\r\n      const clientInfo = this.serviceForm.clientName\r\n        ? this.collections.Client.find(client => client.clientName === this.serviceForm.clientName)\r\n        : {}\r\n      const activeContract = clientInfo.contracts.find(contract => contract.active)\r\n      const clientProducts = activeContract\r\n        ? activeContract.products.map(product => product.productType)\r\n        : this.collections.Product.map(product => product.productType)\r\n      return { clientInfo, clientProducts }\r\n    },\r\n\r\n    serviceOrders () {\r\n      let orderNumbers = this.serviceForm.inventory.map(order => order.serviceOrder)\r\n      orderNumbers = new Set([...orderNumbers])\r\n      return orderNumbers\r\n    }\r\n\r\n  },\r\n\r\n  methods: {\r\n\r\n    ...mapActions(['createDocument', 'updateDocument']),\r\n\r\n    attachOrder (inventorySlot) {\r\n      const { productType, serviceOrder, quantity } = inventorySlot\r\n      const { clientName, officeName, officeRegion, officeState, schedule } = this.serviceForm\r\n      let index = 0\r\n      while (index < quantity) {\r\n        this.serviceForm.inventory.push({\r\n          clientName,\r\n          officeName,\r\n          officeState,\r\n          officeRegion,\r\n          location: '',\r\n          observations: '',\r\n          productType,\r\n          productName: '',\r\n          serialCode: '',\r\n          schedule,\r\n          serviceOrder,\r\n          status: ''\r\n        })\r\n        index++\r\n      }\r\n      this.inventorySlot = {}\r\n    },\r\n\r\n    itIsWeekend (date) {\r\n      return moment(date).format('dddd') === 'sábado' || moment(date).format('dddd') === 'domingo'\r\n    },\r\n\r\n    removeOrder (orderNumber) {\r\n      let filteredInventory = this.serviceForm.inventory.filter(order => order.serviceOrder !== orderNumber)\r\n      this.serviceForm.inventory = filteredInventory\r\n    },\r\n\r\n    orderInfo (order) {\r\n      const orderData = this.serviceForm.inventory.filter(product => product.serviceOrder === order)\r\n      const productType = orderData[0].productType\r\n      const quantity = orderData.length\r\n      return { productType, quantity }\r\n    },\r\n\r\n    async save (body) {\r\n      this.loader = true\r\n      body.schedule.scheduledDate = this.dateSubmitted\r\n      body.finished = body.status === 'Culminado'\r\n      this.updateDocument({ collection: 'Maintenance', body })\r\n        .then(() => this.$emit('hideInterface'))\r\n        .catch(() => this.loader = false)\r\n    }\r\n\r\n  },\r\n  watch: {\r\n    dateSubmitted: function () {\r\n      this.friendlyDate = `${moment(this.dateSubmitted).format('DD [de] MMMM')}`\r\n    }\r\n  }\r\n})\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaintenanceUpdate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaintenanceUpdate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MaintenanceUpdate.vue?vue&type=template&id=4bb47c83&\"\nimport script from \"./MaintenanceUpdate.vue?vue&type=script&lang=js&\"\nexport * from \"./MaintenanceUpdate.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VAutocomplete,VBtn,VCard,VCardText,VChip,VChipGroup,VCol,VContainer,VForm,VIcon,VRow,VSelect,VTextField,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"closable\":\"1\",\"title\":\"Validación\",\"subtitle\":\"Mantenimiento preventivo\"},on:{\"hideInterface\":function($event){return _vm.$emit('hideInterface')}}}),_c('v-card',[_c('v-card-text',[_c('v-card-title',[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-account-tie\")]),_vm._v(\" \"+_vm._s(_vm.updating.clientName)+\" \")],1),_c('v-card-subtitle',[_vm._v(\" \"+_vm._s(_vm.updating.officeName)+\" \")]),_c('section',[_c('v-card-subtitle',[_c('v-icon',[_vm._v(\"mdi-card-text-outline\")]),_vm._v(\" Órdenes de servicio \")],1),_c('v-tabs',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tabs-slider',{attrs:{\"color\":\"accent\"}}),_vm._l((_vm.serviceOrders),function(order,index){return _c('v-tab',{key:index},[_vm._v(\" \"+_vm._s(order.orderNumber)+\" \")])})],2)],1),_c('v-tabs-items',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},_vm._l((_vm.serviceOrders),function(order,indx){return _c('v-tab-item',{key:indx},[_c('v-chip-group',[_c('v-card-subtitle',[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-barcode\")]),_vm._v(\" Seriales \")],1),_vm._l((order.inventory),function(product,index){return _c('v-chip',{key:index,staticClass:\"mt-3\",attrs:{\"small\":\"\",\"close\":\"\",\"color\":product.serialCode ? 'secondary' : 'error lighten-1'},on:{\"click\":function($event){return _vm.selectProduct(product)},\"click:close\":function($event){return _vm.removeProduct(product)}}},[_vm._v(\" \"+_vm._s(product.serialCode ? product.serialCode : 'Por validar')+\" \")])}),_c('v-chip',{staticClass:\"mt-3\",attrs:{\"small\":\"\",\"color\":\"secondary lighten-1\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.addProduct(order)}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-plus\")]),_vm._v(\" Agregar \")],1)],2)],1)}),1),_c('v-stepper',{attrs:{\"vertical\":\"\"},model:{value:(_vm.step),callback:function ($$v) {_vm.step=$$v},expression:\"step\"}},[_c('v-stepper-step',{attrs:{\"step\":\"1\",\"editable\":_vm.step > 1}},[_vm._v(\" Información general \")]),_c('v-stepper-content',{attrs:{\"step\":\"1\"}},[_c('v-form',{ref:\"step1Form\",model:{value:(_vm.step1Form),callback:function ($$v) {_vm.step1Form=$$v},expression:\"step1Form\"}},[_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"space-between\"}},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 7 : 3}},[_c('v-text-field',{attrs:{\"rules\":_vm.rules.serviceOrder,\"label\":\"#Orden\",\"maxlength\":6},model:{value:(_vm.selectedProduct.serviceOrder),callback:function ($$v) {_vm.$set(_vm.selectedProduct, \"serviceOrder\", $$v)},expression:\"selectedProduct.serviceOrder\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 5 : 6,\"align\":\"end\"}},[_c('DateMenu',{on:{\"setDate\":function (date) { return _vm.dateSubmitted = date; }}})],1)],1),_c('v-row',{attrs:{\"justify\":\"space-between\",\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-autocomplete',{attrs:{\"items\":_vm.formOptions.technicians,\"rules\":_vm.rules.required,\"label\":\"Personal asignado\",\"solo\":\"\"},model:{value:(_vm.serviceForm.schedule.technician),callback:function ($$v) {_vm.$set(_vm.serviceForm.schedule, \"technician\", $$v)},expression:\"serviceForm.schedule.technician\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-select',{attrs:{\"items\":_vm.formLists.productTypes,\"rules\":_vm.rules.required,\"label\":\"Producto\",\"solo\":\"\"},model:{value:(_vm.selectedProduct.productType),callback:function ($$v) {_vm.$set(_vm.selectedProduct, \"productType\", $$v)},expression:\"selectedProduct.productType\"}})],1)],1),_c('v-btn',{attrs:{\"disabled\":!_vm.step1Form,\"color\":\"primary\",\"small\":\"\",\"text\":\"\",\"block\":\"\"},on:{\"click\":function($event){_vm.step++}}},[_vm._v(\" Siguiente \")])],1)],1),_c('v-stepper-step',{attrs:{\"step\":\"2\"}},[_vm._v(\" Información específica \")]),_c('v-stepper-content',{attrs:{\"step\":\"2\"}},[_c('v-form',{ref:\"step2Form\",model:{value:(_vm.step2Form),callback:function ($$v) {_vm.step2Form=$$v},expression:\"step2Form\"}},[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-text-field',{attrs:{\"readonly\":_vm.serialNotSubmitted,\"rules\":_vm.rules.required,\"label\":\"Serial\"},model:{value:(_vm.selectedProduct.serialCode),callback:function ($$v) {_vm.$set(_vm.selectedProduct, \"serialCode\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"selectedProduct.serialCode\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-switch',{attrs:{\"label\":\"Sin serial\"},model:{value:(_vm.serialNotSubmitted),callback:function ($$v) {_vm.serialNotSubmitted=$$v},expression:\"serialNotSubmitted\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-autocomplete',{attrs:{\"items\":_vm.formLists.specificProducts,\"rules\":_vm.rules.required,\"auto-select-first\":\"\",\"label\":\"Modelo\"},model:{value:(_vm.selectedProduct.productName),callback:function ($$v) {_vm.$set(_vm.selectedProduct, \"productName\", $$v)},expression:\"selectedProduct.productName\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 7 : 3}},[_c('v-select',{attrs:{\"rules\":_vm.rules.required,\"items\":_vm.productLocations,\"label\":\"Ubicación\"},model:{value:(_vm.selectedProduct.location),callback:function ($$v) {_vm.$set(_vm.selectedProduct, \"location\", $$v)},expression:\"selectedProduct.location\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 5 : 3}},[_c('v-select',{attrs:{\"items\":[1, 2, 3, 4, 5, 6, 7, 8, 9, 10,\n                    11, 12, 13, 14, 15, 16, 18, 19, 20\n                  ],\"label\":\"#\"},model:{value:(_vm.selectedProduct.locationNumber),callback:function ($$v) {_vm.$set(_vm.selectedProduct, \"locationNumber\", $$v)},expression:\"selectedProduct.locationNumber\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-select',{attrs:{\"items\":['Operativo', 'Inoperativo'],\"label\":\"Status\",\"rules\":_vm.rules.required},model:{value:(_vm.selectedProduct.status),callback:function ($$v) {_vm.$set(_vm.selectedProduct, \"status\", $$v)},expression:\"selectedProduct.status\"}})],1)],1),_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',[_c('v-textarea',{attrs:{\"label\":\"Observaciones (opcional)\",\"outlined\":\"\"},model:{value:(_vm.selectedProduct.observations),callback:function ($$v) {_vm.$set(_vm.selectedProduct, \"observations\", $$v)},expression:\"selectedProduct.observations\"}})],1)],1),_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',[_c('v-btn',{attrs:{\"color\":\"success\",\"disabled\":!_vm.step1Form || !_vm.step2Form,\"loading\":_vm.loader},on:{\"click\":function($event){return _vm.productValidation(_vm.selectedIndex, _vm.selectedProduct)}}},[_vm._v(\" Guardar \")])],1)],1)],1)],1)],1)],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"success\",\"small\":\"\",\"block\":\"\",\"disabled\":_vm.invalidStatus},on:{\"click\":_vm.finishValidation}},[_vm._v(\" Archivar \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <Header\r\n      closable=\"1\"\r\n      title=\"Validación\"\r\n      subtitle=\"Mantenimiento preventivo\"\r\n      @hideInterface=\"$emit('hideInterface')\"\r\n    />\r\n    <v-card>\r\n      <v-card-text>\r\n        <v-card-title>\r\n          <v-icon left>mdi-account-tie</v-icon>\r\n          {{ updating.clientName }}\r\n        </v-card-title>\r\n        <v-card-subtitle>\r\n          {{ updating.officeName }}\r\n        </v-card-subtitle>\r\n        <section>\r\n          <v-card-subtitle>\r\n            <v-icon>mdi-card-text-outline</v-icon>\r\n            Órdenes de servicio\r\n          </v-card-subtitle>\r\n          <v-tabs v-model=\"tab\">\r\n            <v-tabs-slider color=\"accent\" />\r\n            <v-tab v-for=\"(order, index) in serviceOrders\" :key=\"index\">\r\n              {{ order.orderNumber }}\r\n            </v-tab>\r\n          </v-tabs>\r\n        </section>\r\n        <v-tabs-items v-model=\"tab\">\r\n          <v-tab-item v-for=\"(order, indx) in serviceOrders\" :key=\"indx\">\r\n            <v-chip-group>\r\n              <v-card-subtitle>\r\n                <v-icon left>mdi-barcode</v-icon>\r\n                Seriales\r\n              </v-card-subtitle>\r\n              <v-chip\r\n                v-for=\"(product, index) in order.inventory\"\r\n                :key=\"index\"\r\n                class=\"mt-3\"\r\n                @click=\"selectProduct(product)\"\r\n                @click:close=\"removeProduct(product)\"\r\n                small\r\n                close\r\n                :color=\"product.serialCode ? 'secondary' : 'error lighten-1'\"\r\n              >\r\n                {{ product.serialCode ? product.serialCode : 'Por validar' }}\r\n              </v-chip>\r\n              <v-chip\r\n                class=\"mt-3\"\r\n                @click=\"addProduct(order)\"\r\n                small\r\n                color=\"secondary lighten-1\"\r\n                outlined\r\n              >\r\n                <v-icon left>mdi-plus</v-icon>\r\n                Agregar\r\n              </v-chip>\r\n            </v-chip-group>\r\n          </v-tab-item>\r\n        </v-tabs-items>\r\n\r\n        <!-- Form -->\r\n\r\n        <v-stepper v-model=\"step\" vertical>\r\n          <v-stepper-step step=\"1\" :editable=\"step > 1\">\r\n            Información general\r\n          </v-stepper-step>\r\n          <v-stepper-content step=\"1\">\r\n            <v-form ref=\"step1Form\" v-model=\"step1Form\">\r\n              <v-row align=\"center\" justify=\"space-between\">\r\n                <v-col :cols=\"mobile ? 7 : 3\">\r\n                  <v-text-field\r\n                    v-model=\"selectedProduct.serviceOrder\"\r\n                    :rules=\"rules.serviceOrder\"\r\n                    label=\"#Orden\"\r\n                    :maxlength=\"6\"\r\n                  />\r\n                </v-col>\r\n                <v-col :cols=\"mobile ? 5 : 6\" align=\"end\">\r\n                  <DateMenu @setDate=\"(date) => dateSubmitted = date\" />\r\n                </v-col>\r\n              </v-row>\r\n              <v-row justify=\"space-between\" align=\"center\">\r\n                <v-col :cols=\"mobile ? 12 : 6\">\r\n                  <v-autocomplete\r\n                    v-model=\"serviceForm.schedule.technician\"\r\n                    :items=\"formOptions.technicians\"\r\n                    :rules=\"rules.required\"\r\n                    label=\"Personal asignado\"\r\n                    solo\r\n                  />\r\n                </v-col>\r\n                <v-col :cols=\"mobile ? 12 : 6\">\r\n                  <v-select\r\n                    v-model=\"selectedProduct.productType\"\r\n                    :items=\"formLists.productTypes\"\r\n                    :rules=\"rules.required\"\r\n                    label=\"Producto\"\r\n                    solo\r\n                  />\r\n                </v-col>\r\n              </v-row>\r\n              <v-btn @click=\"step++\" :disabled=\"!step1Form\" color=\"primary\" small text block>\r\n                Siguiente\r\n              </v-btn>\r\n            </v-form>\r\n          </v-stepper-content>\r\n\r\n          <v-stepper-step step=\"2\">\r\n            Información específica\r\n          </v-stepper-step>\r\n          <v-stepper-content step=\"2\">\r\n            <v-form ref=\"step2Form\" v-model=\"step2Form\">\r\n              <v-row align=\"center\">\r\n                <v-col :cols=\"mobile ? 12 : 6\">\r\n                  <v-text-field\r\n                    v-model.trim=\"selectedProduct.serialCode\"\r\n                    :readonly=\"serialNotSubmitted\"\r\n                    :rules=\"rules.required\"\r\n                    label=\"Serial\"\r\n                  />\r\n                </v-col>\r\n                <v-col :cols=\"mobile ? 12 : 6\">\r\n                  <v-switch v-model=\"serialNotSubmitted\" label=\"Sin serial\" />\r\n                </v-col>\r\n                <v-col :cols=\"mobile ? 12 : 6\">\r\n                  <v-autocomplete\r\n                    v-model=\"selectedProduct.productName\"\r\n                    :items=\"formLists.specificProducts\"\r\n                    :rules=\"rules.required\"\r\n                    auto-select-first\r\n                    label=\"Modelo\"\r\n                  />\r\n                </v-col>\r\n              </v-row>\r\n              <v-row>\r\n                <v-col :cols=\"mobile ? 7 : 3\">\r\n                  <v-select\r\n                    v-model=\"selectedProduct.location\"\r\n                    :rules=\"rules.required\" :items=\"productLocations\"\r\n                    label=\"Ubicación\"\r\n                  />\r\n                </v-col>\r\n                <v-col :cols=\"mobile ? 5 : 3\">\r\n                  <v-select\r\n                    v-model=\"selectedProduct.locationNumber\"\r\n                    :items=\"[1, 2, 3, 4, 5, 6, 7, 8, 9, 10,\r\n                      11, 12, 13, 14, 15, 16, 18, 19, 20\r\n                    ]\"\r\n                    label=\"#\"\r\n                  />\r\n                </v-col>\r\n                <v-col :cols=\"mobile ? 12 : 6\">\r\n                  <v-select\r\n                    v-model=\"selectedProduct.status\"\r\n                    :items=\"['Operativo', 'Inoperativo']\"\r\n                    label=\"Status\"\r\n                    :rules=\"rules.required\"\r\n                  />\r\n                </v-col>\r\n              </v-row>\r\n              <v-row align=\"center\">\r\n                <v-col>\r\n                  <v-textarea\r\n                    v-model=\"selectedProduct.observations\"\r\n                    label=\"Observaciones (opcional)\"\r\n                    outlined\r\n                  ></v-textarea>\r\n                </v-col>\r\n              </v-row>\r\n              <v-row align=\"center\">\r\n                <v-col>\r\n                  <v-btn\r\n                    @click=\"productValidation(selectedIndex, selectedProduct)\"\r\n                    color=\"success\"\r\n                    :disabled=\"!step1Form || !step2Form\"\r\n                    :loading=\"loader\"\r\n                  >\r\n                    Guardar\r\n                  </v-btn>\r\n                </v-col>\r\n              </v-row>\r\n            </v-form>\r\n          </v-stepper-content>\r\n\r\n        </v-stepper>\r\n      </v-card-text>\r\n      <v-card-actions>\r\n        <v-btn\r\n          @click=\"finishValidation\"\r\n          color=\"success\"\r\n          small\r\n          block\r\n          :disabled=\"invalidStatus\"\r\n        >\r\n          Archivar\r\n        </v-btn>\r\n      </v-card-actions>\r\n    </v-card>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Vue from 'vue'\r\n\r\nimport moment from 'moment-timezone'\r\nimport { mapGetters, mapActions, mapMutations } from 'vuex'\r\nimport { maintenanceStatus, productLocations, rules } from '@/helpers/form'\r\nimport Header from '@/components/generals/Header'\r\nimport DateMenu from '@/components/generals/DateMenu'\r\n\r\nmoment.locale('es')\r\n\r\nexport default Vue.extend({\r\n  name: 'MaintenanceValidation',\r\n  components: { Header, DateMenu },\r\n  props: ['collections', 'mobile', 'updating'],\r\n  data: () => ({\r\n    tab: 0,\r\n    step: 0,\r\n    step1Form: false,\r\n    step2Form: false,\r\n    datePicker: false,\r\n    serviceForm: {},\r\n    selectedProduct: {\r\n      serviceOrder: '',\r\n      quantity: 0,\r\n      productType: '',\r\n      status: ''\r\n    },\r\n    serialNotSubmitted: false,\r\n    productLocations,\r\n    selectedIndex: 0,\r\n    status: maintenanceStatus,\r\n    dateSubmitted: new Date().toISOString().substr(0, 10),\r\n    loader: false,\r\n    friendlyDate: '',\r\n    rules\r\n  }),\r\n\r\n  created () {\r\n    this.serviceForm = Object.assign({}, this.updating)\r\n    this.dateSubmitted = this.serviceForm.schedule.scheduledDate\r\n    this.friendlyDate = `${moment(this.dateSubmitted).format('DD [de] MMMM')}`\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters(['formOptions']),\r\n\r\n    formLists () {\r\n      const clientInfo = this.serviceForm.clientName\r\n        ? this.collections.Client.find(client => client.clientName === this.serviceForm.clientName)\r\n        : {}\r\n      const activeContract = clientInfo.contracts.find(contract => contract.active)\r\n      const productTypes = activeContract\r\n        ? activeContract.products.map(product => product.productType)\r\n        : this.collections.Product.map(product => product.productType)\r\n      let specificProducts = activeContract\r\n        ? activeContract.products.filter(product => product.productType === this.selectedProduct.productType)\r\n        : this.collections.Product.filter(product => product.productType === this.selectedProduct.productType)\r\n      specificProducts = specificProducts.map(product => product.productName)\r\n      return { clientInfo, productTypes, specificProducts }\r\n    },\r\n\r\n    serviceOrders () {\r\n      let orderNumbers = this.serviceForm.inventory.map(order => order.serviceOrder)\r\n      orderNumbers = new Set([...orderNumbers])\r\n      const orders = []\r\n      for (let orderNumber of orderNumbers) {\r\n        orders.push({\r\n          orderNumber,\r\n          inventory: this.serviceForm.inventory.filter(product => product.serviceOrder === orderNumber)\r\n        })\r\n      }\r\n      return orders\r\n    },\r\n\r\n    invalidStatus () {\r\n      const serviceUnfinished = this.serviceForm.status !== 'Culminado'\r\n      const validationIncomplete = this.serviceForm.inventory.find(product => product.serialCode === '') !== undefined\r\n      return serviceUnfinished || validationIncomplete\r\n    }\r\n\r\n  },\r\n\r\n  methods: {\r\n\r\n    ...mapActions(['createDocument', 'updateDocument']),\r\n    ...mapMutations(['showSnackbar']),\r\n\r\n    itIsWeekend (date) {\r\n      return moment(date).format('dddd') === 'sábado' || moment(date).format('dddd') === 'domingo'\r\n    },\r\n\r\n    removeOrder (index) {\r\n      this.serviceOrders.splice(index, 1)\r\n    },\r\n\r\n    finishValidation () {\r\n      this.createInventory(this.serviceForm.inventory)\r\n        .then(this.updateOfficeInventory())\r\n        .then(this.serviceForm.fullValidated = true)\r\n      this.serviceForm.status = 'Validado'\r\n      this.saveChanges(true)\r\n    },\r\n\r\n    createInventory (inventory) {\r\n      const actions = []\r\n      for (const document of inventory) {\r\n        actions.push(this.createDocument({ collection: 'Inventory', body: document }))\r\n      }\r\n      return Promise.all(actions)\r\n    },\r\n\r\n    updateOfficeInventory () {\r\n      const lastMaintenance = this.serviceForm.schedule.scheduledDate\r\n      const { inventory } = this.serviceForm\r\n      const { _id } = this.collections.Office.find(office =>\r\n        office.officeName === this.updating.officeName && office.clientName === this.updating.clientName\r\n      )\r\n      return this.updateDocument({\r\n        collection: 'Office',\r\n        body: { lastMaintenance, inventory, _id }\r\n      })\r\n    },\r\n\r\n    selectProduct (product) {\r\n      this.selectedIndex = this.serviceForm.inventory.findIndex(originalProduct => originalProduct === product)\r\n      this.selectedProduct = Object.assign({}, product)\r\n      if (this.formLists.specificProducts.length === 1) {\r\n        this.selectedProduct.productName = this.formLists.specificProducts[0]\r\n      }\r\n      this.step = 1\r\n    },\r\n\r\n    removeProduct (product) {\r\n      this.selectedIndex = this.serviceForm.inventory.findIndex(originalProduct => originalProduct === product)\r\n      this.serviceForm.inventory.splice(this.selectedIndex, 1)\r\n      this.selectedIndex = -1\r\n    },\r\n\r\n    addProduct (order) {\r\n      let newProduct = Object.assign({}, order.inventory[0])\r\n      newProduct.serialCode = ''\r\n      newProduct.location = ''\r\n      this.serviceForm.inventory.push(newProduct)\r\n    },\r\n\r\n    productValidation (index, product) {\r\n      product.serialCode = product.serialCode.toUpperCase()\r\n      const itsDuplicated = this.serialNotSubmitted\r\n        ? false\r\n        : this.serviceForm.inventory.find(inventory => inventory.serialCode === product.serialCode)\r\n      if (itsDuplicated) return this.showSnackbar({ error: 'El serial indicado ya se ha sido registrado'})\r\n      product.location = product.location + product.locationNumber\r\n      product.clientName = this.updating.clientName\r\n      product.officeName = this.updating.officeName\r\n      this.serviceForm.inventory.splice(index, 1, product)\r\n      this.step = 0\r\n      this.selectedIndex = -1\r\n      this.selectedProduct = Object.assign({}, {})\r\n      this.saveChanges()\r\n    },\r\n\r\n    saveChanges (fullyValidated) {\r\n      this.loader = true\r\n      this.updateDocument({ collection: 'Maintenance', body: this.serviceForm })\r\n        .then(() => { if (fullyValidated) this.$emit('hideInterface') })\r\n        .catch((e) => console.error(e))\r\n        .finally(() => this.loader = false)\r\n    }\r\n\r\n  },\r\n\r\n  watch: {\r\n    dateSubmitted: function () {\r\n      this.friendlyDate = `${moment(this.dateSubmitted).format('DD [de] MMMM')}`\r\n      this.serviceForm.schedule.scheduledDate = this.dateSubmitted\r\n    },\r\n    tab: function () {\r\n      this.step = 0\r\n    },\r\n    serialNotSubmitted: function () {\r\n      if (this.serialNotSubmitted) this.selectedProduct.serialCode = 'SIN SERIAL'\r\n      else this.selectedProduct.serialCode = ''\r\n    }\r\n  }\r\n})\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaintenanceValidation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaintenanceValidation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MaintenanceValidation.vue?vue&type=template&id=2babb267&\"\nimport script from \"./MaintenanceValidation.vue?vue&type=script&lang=js&\"\nexport * from \"./MaintenanceValidation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VStepper } from 'vuetify/lib/components/VStepper';\nimport { VStepperContent } from 'vuetify/lib/components/VStepper';\nimport { VStepperStep } from 'vuetify/lib/components/VStepper';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VTabsSlider } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VAutocomplete,VBtn,VCard,VCardActions,VCardSubtitle,VCardText,VCardTitle,VChip,VChipGroup,VCol,VContainer,VForm,VIcon,VRow,VSelect,VStepper,VStepperContent,VStepperStep,VSwitch,VTab,VTabItem,VTabs,VTabsItems,VTabsSlider,VTextField,VTextarea})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"closable\":\"1\",\"title\":(\"Servicio \" + (_vm.selectedDocument.reportCode)),\"subtitle\":(\"Serial \" + (_vm.selectedDocument.serialCode) + \", Oficina \" + (_vm.selectedDocument.officeName))},on:{\"hideInterface\":function($event){return _vm.$emit('hideInterface')}}}),_c('v-stepper',{attrs:{\"vertical\":\"\"},model:{value:(_vm.activeStep),callback:function ($$v) {_vm.activeStep=$$v},expression:\"activeStep\"}},[_c('v-stepper-step',{attrs:{\"step\":\"1\",\"editable\":\"\",\"complete\":_vm.step1Completed}},[_vm._v(\" Observaciones \")]),_c('v-stepper-content',{attrs:{\"step\":\"1\"}},[(_vm.selectedDocument.serialCode === 'SIN SERIAL')?_c('v-alert',{attrs:{\"type\":\"warning\",\"text\":\"\",\"rounded\":\"pill\"}},[_vm._v(\" Si cierras el servicio sin asociar el serial, no será posible relacionarlo con otros. \")]):_vm._e(),_c('v-form',{ref:\"step1Completed\",model:{value:(_vm.step1Completed),callback:function ($$v) {_vm.step1Completed=$$v},expression:\"step1Completed\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-radio-group',{staticClass:\"ml-2\",attrs:{\"row\":\"\"},model:{value:(_vm.documentation.visit),callback:function ($$v) {_vm.$set(_vm.documentation, \"visit\", $$v)},expression:\"documentation.visit\"}},_vm._l((['Visita', 'Seguimiento']),function(n,i){return _c('v-radio',{key:i,attrs:{\"label\":n,\"value\":n === 'Visita'}})}),1)],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 7 : 3}},[_c('v-text-field',{attrs:{\"rules\":this.documentation.visit || this.documentation.serviceOrder.number\n                ? _vm.rules.serviceOrder\n                : [],\"maxlength\":6,\"hint\":_vm.documentation.visit ? 'Requerido' : 'Opcional',\"persistent-hint\":\"\",\"label\":\"#Orden\"},model:{value:(_vm.documentation.serviceOrder.number),callback:function ($$v) {_vm.$set(_vm.documentation.serviceOrder, \"number\", $$v)},expression:\"documentation.serviceOrder.number\"}})],1)],1),_c('v-textarea',{staticClass:\"mt-1\",attrs:{\"rules\":_vm.rules.required,\"maxlength\":400,\"outlined\":\"\",\"counter\":\"\",\"label\":\"Observaciones\"},model:{value:(_vm.documentation.observations),callback:function ($$v) {_vm.$set(_vm.documentation, \"observations\", $$v)},expression:\"documentation.observations\"}}),_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-autocomplete',{attrs:{\"items\":_vm.statusOptions,\"rules\":_vm.rules.required,\"solo\":\"\",\"label\":\"Status\"},model:{value:(_vm.documentation.status),callback:function ($$v) {_vm.$set(_vm.documentation, \"status\", $$v)},expression:\"documentation.status\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[(_vm.documentation.status === 'Cerrado - Reemplazado')?_c('v-text-field',{attrs:{\"rules\":_vm.rules.required,\"label\":\"#Serial (Equipo instalado)\"},model:{value:(_vm.documentation.newSerial),callback:function ($$v) {_vm.$set(_vm.documentation, \"newSerial\", $$v)},expression:\"documentation.newSerial\"}}):_vm._e()],1)],1)],1),_c('v-row',{staticClass:\"pa-2\"},[_c('v-col',[_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\",\"block\":\"\",\"disabled\":!_vm.step1Completed},on:{\"click\":function($event){_vm.activeStep++}}},[_vm._v(\" Continuar \")])],1)],1)],1),_c('v-stepper-step',{attrs:{\"step\":\"2\",\"editable\":_vm.step1Completed,\"complete\":_vm.step2Completed}},[_vm._v(\" Solicite el envío de piezas \")]),_c('v-stepper-content',{attrs:{\"step\":\"2\"}},[_c('v-form',{ref:\"step2Completed\",model:{value:(_vm.step2Completed),callback:function ($$v) {_vm.step2Completed=$$v},expression:\"step2Completed\"}},[_vm._l((_vm.suggestions),function(suggestionKey,indx){return _c('v-chip-group',{key:(suggestionKey + \" (\" + indx + \")\"),attrs:{\"row\":\"\"}},_vm._l((suggestionKey.value),function(suggestionValue,keyValue){return _c('v-chip',{key:keyValue,attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.acceptSuggestion(suggestionValue)}}},[_vm._v(\" \"+_vm._s(suggestionValue)+\" \")])}),1)}),_c('v-row',[_c('v-col',[_c('v-autocomplete',{attrs:{\"items\":_vm.piecesNames,\"disabled\":!_vm.piecesNames.length,\"menu-props\":{ nudgeRight: 150 },\"label\":\"Piezas requeridas\",\"error-messages\":_vm.requiresAssignement,\"hide-no-data\":\"\",\"multiple\":\"\",\"deletable-chips\":\"\",\"small-chips\":\"\",\"prepend-inner-icon\":\"mdi-clipboard-list-outline\"},model:{value:(_vm.selectedPieces),callback:function ($$v) {_vm.selectedPieces=$$v},expression:\"selectedPieces\"}})],1)],1),_vm._l((_vm.assembledRequests),function(request,index){return _c('v-row',{key:index},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 9 : 10}},[_c('v-select',{attrs:{\"items\":_vm.replacementOptions,\"rules\":_vm.rules.required,\"hint\":(\"Causa de reemplazo: \" + (request.pieceName)),\"prepend-inner-icon\":\"mdi-account-question-outline\",\"label\":\"Causa del reemplazo\",\"persistent-hint\":\"\",\"solo\":\"\"},model:{value:(_vm.replacementCauses[index]),callback:function ($$v) {_vm.$set(_vm.replacementCauses, index, $$v)},expression:\"replacementCauses[index]\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 3 : 2}},[_c('v-text-field',{attrs:{\"type\":\"number\",\"value\":\"1\",\"min\":\"1\",\"solo\":\"\"},model:{value:(request.quantity),callback:function ($$v) {_vm.$set(request, \"quantity\", $$v)},expression:\"request.quantity\"}})],1)],1)}),_c('v-row',{staticClass:\"pa-2\"},[_c('v-col',[(_vm.documentation.visit)?_c('v-btn',{attrs:{\"disabled\":!_vm.step1Completed || !_vm.step2Completed,\"color\":\"primary\",\"text\":\"\",\"block\":\"\"},on:{\"click\":function($event){_vm.activeStep++}}},[_vm._v(\" Continuar \")]):_c('v-btn',{attrs:{\"disabled\":!_vm.step1Completed || !_vm.step2Completed,\"loading\":_vm.loader,\"color\":\"primary\",\"text\":\"\",\"block\":\"\"},on:{\"click\":_vm.save}},[_vm._v(\" Actualizar \")])],1)],1)],2)],1),(_vm.documentation.visit)?_c('v-stepper-step',{attrs:{\"step\":\"3\",\"editable\":_vm.step2Completed,\"complete\":_vm.step3Completed}},[_vm._v(\" Indique los datos de la visita \")]):_vm._e(),(_vm.documentation.visit)?_c('v-stepper-content',{attrs:{\"step\":\"3\"}},[_c('v-form',{ref:\"step3Completed\",model:{value:(_vm.step3Completed),callback:function ($$v) {_vm.step3Completed=$$v},expression:\"step3Completed\"}},[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 6 : 4}},[_c('DateMenu',{on:{\"setDate\":function (date) { return _vm.dateSubmitted = date; }}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 6 : 4}},[_c('TimeMenu',{on:{\"setTime\":function (time) { return _vm.timeSubmitted = time; }}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 4}},[_c('v-text-field',{attrs:{\"rules\":_vm.rules.required,\"error-messages\":_vm.itIsWeekend(_vm.dateSubmitted) ? 'Seleccione un día de la semana' : '',\"readonly\":\"\",\"label\":\"Fecha de visita\"},model:{value:(_vm.friendlyDate),callback:function ($$v) {_vm.friendlyDate=$$v},expression:\"friendlyDate\"}}),_c('v-text-field',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],attrs:{\"rules\":_vm.rules.required},model:{value:(_vm.timeSubmitted),callback:function ($$v) {_vm.timeSubmitted=$$v},expression:\"timeSubmitted\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-autocomplete',{attrs:{\"items\":_vm.formOptions.technicians,\"hint\":\"Requerido\",\"rules\":_vm.rules.required,\"label\":\"Personal asignado\",\"persistent-hint\":\"\",\"solo\":\"\"},model:{value:(_vm.documentation.technician),callback:function ($$v) {_vm.$set(_vm.documentation, \"technician\", $$v)},expression:\"documentation.technician\"}})],1)],1),_c('v-row',{staticClass:\"pa-2\"},[_c('v-col',[_c('v-btn',{attrs:{\"color\":\"success\",\"disabled\":!_vm.step1Completed || !_vm.step2Completed || !_vm.step3Completed || !_vm.documentation.technician._id,\"loading\":_vm.loader,\"block\":\"\"},on:{\"click\":_vm.save}},[_vm._v(\" Actualizar \")])],1)],1)],1)],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-menu',{ref:\"menu\",attrs:{\"close-on-content-click\":false,\"nudge-right\":40,\"return-value\":_vm.timeSubmitted,\"max-width\":\"290px\",\"min-width\":\"290px\"},on:{\"update:returnValue\":function($event){_vm.timeSubmitted=$event},\"update:return-value\":function($event){_vm.timeSubmitted=$event}},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"ma-1\",attrs:{\"outlined\":!_vm.timeSubmitted,\"color\":_vm.timeSubmitted ? 'primary' : 'error',\"small\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-clock-time-four-outline\")])],1)]}}]),model:{value:(_vm.timePicker),callback:function ($$v) {_vm.timePicker=$$v},expression:\"timePicker\"}},[(_vm.timePicker)?_c('v-time-picker',{attrs:{\"allowed-hours\":(function (v) { return v < 17 && v > 7; }),\"full-width\":\"\",\"format\":\"24hr\"},on:{\"click:minute\":function($event){return _vm.$refs.menu.save(_vm.timeSubmitted)}},model:{value:(_vm.timeSubmitted),callback:function ($$v) {_vm.timeSubmitted=$$v},expression:\"timeSubmitted\"}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <v-menu\r\n      v-model=\"timePicker\"\r\n      ref=\"menu\"\r\n      :close-on-content-click=\"false\"\r\n      :nudge-right=\"40\"\r\n      :return-value.sync=\"timeSubmitted\"\r\n      max-width=\"290px\"\r\n      min-width=\"290px\"\r\n    >\r\n      <template v-slot:activator=\"{ on, attrs }\">\r\n        <v-btn\r\n          class=\"ma-1\"\r\n          v-on=\"on\"\r\n          v-bind=\"attrs\"\r\n          :outlined=\"!timeSubmitted\"\r\n          :color=\"timeSubmitted ? 'primary' : 'error'\"\r\n          small\r\n        >\r\n          <v-icon>mdi-clock-time-four-outline</v-icon>\r\n        </v-btn>\r\n      </template>\r\n      <v-time-picker\r\n        v-if=\"timePicker\"\r\n        @click:minute=\"$refs.menu.save(timeSubmitted)\"\r\n        v-model=\"timeSubmitted\"\r\n        :allowed-hours=\"(v => v < 17 && v > 7)\"\r\n        full-width\r\n        format=\"24hr\"\r\n      />\r\n    </v-menu>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'TimeMenu',\r\n  props: [],\r\n  data: () => ({\r\n    timePicker: false,\r\n    timeSubmitted: ''\r\n  }),\r\n\r\n  watch: {\r\n    timeSubmitted: function () {\r\n      this.$emit('setTime', this.timeSubmitted)\r\n    }\r\n  }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimeMenu.vue?vue&type=template&id=648bbb84&\"\nimport script from \"./TimeMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./TimeMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VTimePicker } from 'vuetify/lib/components/VTimePicker';\ninstallComponents(component, {VBtn,VContainer,VIcon,VMenu,VTimePicker})\n","<template>\r\n  <v-container>\r\n\r\n    <Header\r\n      closable=\"1\"\r\n      :title=\"`Servicio ${selectedDocument.reportCode}`\"\r\n      :subtitle=\"`Serial ${selectedDocument.serialCode}, Oficina ${selectedDocument.officeName}`\"\r\n      @hideInterface=\"$emit('hideInterface')\"\r\n    />\r\n\r\n    <v-stepper v-model=\"activeStep\" vertical>\r\n\r\n      <v-stepper-step step=\"1\" editable :complete=\"step1Completed\">\r\n        Observaciones\r\n      </v-stepper-step>\r\n\r\n      <v-stepper-content step=\"1\">\r\n        <v-alert v-if=\"selectedDocument.serialCode === 'SIN SERIAL'\" type=\"warning\" text rounded=\"pill\">\r\n          Si cierras el servicio sin asociar el serial, no será posible relacionarlo con otros.\r\n        </v-alert>\r\n        <v-form ref=\"step1Completed\" v-model=\"step1Completed\">\r\n          <v-row>\r\n            <v-col cols=\"6\">\r\n              <v-radio-group class=\"ml-2\" v-model=\"documentation.visit\" row>\r\n                <v-radio\r\n                  v-for=\"(n, i) in ['Visita', 'Seguimiento']\"\r\n                  :key=\"i\"\r\n                  :label=\"n\"\r\n                  :value=\"n === 'Visita'\"\r\n                />\r\n              </v-radio-group>\r\n            </v-col>\r\n            <v-col :cols=\"mobile ? 7 : 3\">\r\n              <v-text-field\r\n                v-model=\"documentation.serviceOrder.number\"\r\n                :rules=\"this.documentation.visit || this.documentation.serviceOrder.number\r\n                  ? rules.serviceOrder\r\n                  : []\"\r\n                :maxlength=\"6\"\r\n                :hint=\"documentation.visit ? 'Requerido' : 'Opcional'\"\r\n                persistent-hint\r\n                label=\"#Orden\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-textarea\r\n            class=\"mt-1\"\r\n            v-model=\"documentation.observations\"\r\n            :rules=\"rules.required\"\r\n            :maxlength=\"400\"\r\n            outlined counter\r\n            label=\"Observaciones\"\r\n          />\r\n          <v-row>\r\n            <v-col :cols=\"mobile ? 12 : 6\">\r\n              <v-autocomplete\r\n                v-model=\"documentation.status\"\r\n                :items=\"statusOptions\"\r\n                :rules=\"rules.required\"\r\n                solo\r\n                label=\"Status\"\r\n              />\r\n            </v-col>\r\n            <v-col :cols=\"mobile ? 12 : 6\">\r\n              <v-text-field\r\n                v-if=\"documentation.status === 'Cerrado - Reemplazado'\"\r\n                v-model=\"documentation.newSerial\"\r\n                :rules=\"rules.required\"\r\n                label=\"#Serial (Equipo instalado)\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n        </v-form>\r\n        <v-row class=\"pa-2\">\r\n          <v-col>\r\n            <v-btn\r\n              @click=\"activeStep++\"\r\n              color=\"primary\"\r\n              text block\r\n              :disabled=\"!step1Completed\"\r\n            >\r\n              Continuar\r\n            </v-btn>\r\n          </v-col>\r\n        </v-row>\r\n      </v-stepper-content>\r\n\r\n      <v-stepper-step\r\n        step=\"2\"\r\n        :editable=\"step1Completed\"\r\n        :complete=\"step2Completed\"\r\n      >\r\n        Solicite el envío de piezas\r\n      </v-stepper-step>\r\n\r\n      <v-stepper-content step=\"2\">\r\n        <v-form ref=\"step2Completed\" v-model=\"step2Completed\">\r\n          <v-chip-group\r\n            v-for=\"(suggestionKey, indx) in suggestions\"\r\n            :key=\"`${suggestionKey} (${indx})`\"\r\n            row\r\n          >\r\n            <v-chip\r\n              v-for=\"(suggestionValue, keyValue) in suggestionKey.value\"\r\n              :key=\"keyValue\"\r\n              @click=\"acceptSuggestion(suggestionValue)\"\r\n              small\r\n            >\r\n              {{ suggestionValue }}\r\n            </v-chip>\r\n          </v-chip-group>\r\n          <v-row>\r\n            <v-col>\r\n              <v-autocomplete\r\n                v-model=\"selectedPieces\"\r\n                :items=\"piecesNames\"\r\n                :disabled=\"!piecesNames.length\"\r\n                :menu-props=\"{ nudgeRight: 150 }\"\r\n                label=\"Piezas requeridas\"\r\n                :error-messages=\"requiresAssignement\"\r\n                hide-no-data\r\n                multiple deletable-chips small-chips\r\n                prepend-inner-icon=\"mdi-clipboard-list-outline\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-row v-for=\"(request, index) in assembledRequests\" :key=\"index\">\r\n            <v-col :cols=\"mobile ? 9 : 10\">\r\n              <v-select\r\n                v-model=\"replacementCauses[index]\"\r\n                :items=\"replacementOptions\"\r\n                :rules=\"rules.required\"\r\n                :hint=\"`Causa de reemplazo: ${request.pieceName}`\"\r\n                prepend-inner-icon=\"mdi-account-question-outline\"\r\n                label=\"Causa del reemplazo\"\r\n                persistent-hint\r\n                solo\r\n              />\r\n            </v-col>\r\n            <v-col :cols=\"mobile ? 3 : 2\">\r\n              <v-text-field\r\n                v-model=\"request.quantity\"\r\n                type=\"number\"\r\n                value=\"1\"\r\n                min=\"1\"\r\n                solo\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-row class=\"pa-2\">\r\n            <v-col>\r\n              <v-btn\r\n                v-if=\"documentation.visit\"\r\n                :disabled=\"!step1Completed || !step2Completed\"\r\n                color=\"primary\" text block\r\n                @click=\"activeStep++\"\r\n              >\r\n                Continuar\r\n              </v-btn>\r\n              <v-btn\r\n                v-else  \r\n                :disabled=\"!step1Completed || !step2Completed\"\r\n                :loading=\"loader\"\r\n                color=\"primary\"\r\n                text\r\n                block\r\n                @click=\"save\"\r\n              >\r\n                Actualizar\r\n              </v-btn>\r\n            </v-col>\r\n          </v-row>\r\n        </v-form>\r\n      </v-stepper-content>\r\n\r\n      <v-stepper-step\r\n        v-if=\"documentation.visit\"\r\n        step=\"3\"\r\n        :editable=\"step2Completed\"\r\n        :complete=\"step3Completed\"\r\n      >\r\n        Indique los datos de la visita\r\n      </v-stepper-step>\r\n\r\n      <v-stepper-content v-if=\"documentation.visit\" step=\"3\">\r\n        <v-form ref=\"step3Completed\" v-model=\"step3Completed\">\r\n          <v-row align=\"center\">\r\n\r\n            <v-col :cols=\"mobile ? 6 : 4\">\r\n              <DateMenu @setDate=\"(date) => dateSubmitted = date\" />\r\n            </v-col>\r\n            <v-col :cols=\"mobile ? 6 : 4\">\r\n              <TimeMenu @setTime=\"(time) => timeSubmitted = time\" />\r\n            </v-col>\r\n            <v-col :cols=\"mobile ? 12 : 4\">\r\n              <v-text-field\r\n                v-model=\"friendlyDate\"\r\n                :rules=\"rules.required\"\r\n                :error-messages=\"itIsWeekend(dateSubmitted) ? 'Seleccione un día de la semana' : ''\"\r\n                readonly\r\n                label=\"Fecha de visita\"\r\n              />\r\n              <v-text-field v-model=\"timeSubmitted\" :rules=\"rules.required\" v-show=\"false\" />\r\n            </v-col>\r\n          </v-row>\r\n          <v-row>\r\n            <v-col>\r\n              <v-autocomplete\r\n                v-model=\"documentation.technician\"\r\n                :items=\"formOptions.technicians\"\r\n                hint=\"Requerido\"\r\n                :rules=\"rules.required\"\r\n                label=\"Personal asignado\"\r\n                persistent-hint solo\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-row class=\"pa-2\">\r\n            <v-col>\r\n              <v-btn\r\n                color=\"success\" @click=\"save\"\r\n                :disabled=\"!step1Completed || !step2Completed || !step3Completed || !documentation.technician._id\"\r\n                :loading=\"loader\"\r\n                block\r\n              >\r\n                Actualizar\r\n              </v-btn>\r\n            </v-col>\r\n          </v-row>\r\n        </v-form>          \r\n      </v-stepper-content>\r\n\r\n    </v-stepper>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport email from '../../helpers/emails/email'\r\nimport Vue from 'vue'\r\nimport { mapState, mapActions, mapGetters } from 'vuex'\r\nimport moment from 'moment-timezone'\r\nimport DateMenu from '@/components/generals/DateMenu'\r\nimport TimeMenu from '@/components/generals/TimeMenu'\r\nimport Header from '@/components/generals/Header'\r\nimport { rules, statusOptions, replacementOptions } from '@/helpers/form'\r\n\r\nmoment.locale('es')\r\n\r\nexport default Vue.extend({\r\n\r\n  name: 'CorrectiveUpdate',\r\n  components: { Header, DateMenu, TimeMenu },\r\n  props: ['mobile', 'selectedDocument'],\r\n  \r\n  data: () => ({\r\n    // Helpers\r\n    replacementOptions,\r\n    statusOptions,\r\n    rules,\r\n\r\n    // Vuetify components\r\n    activeStep: 1,\r\n    step1Completed: false,\r\n    step2Completed: false,\r\n    step3Completed: false,\r\n\r\n    // Form data\r\n    documentation: {\r\n      author: '',\r\n      date: '',\r\n      observations: '',\r\n      newSerial: '',\r\n      serviceOrder: { number: '', validated: false },\r\n      status: '',\r\n      technician: {\r\n        fullName: '',\r\n        id: ''\r\n      },\r\n      type: 'Actualizado',\r\n      updatedAt: moment(Date.now()).format(),\r\n      visit: true\r\n    },\r\n    replacementCauses: [],\r\n    selectedPieces: [],\r\n    pieces: [],\r\n    dateSubmitted: new Date().toISOString().substr(0, 10),\r\n    timeSubmitted: '',\r\n    loader: false,\r\n    friendlyDate: '',\r\n\r\n    suggestions: [ { key: 'pieceNames', value: [] } ]\r\n  }),\r\n\r\n  created () {\r\n    this.documentation.technician = this.selectedDocument.schedule.technician\r\n  },\r\n\r\n  computed: {\r\n\r\n    ...mapState(['collections']),\r\n    ...mapGetters(['formOptions']),\r\n\r\n    piecesNames () {\r\n      const findPieces = piece => piece.asociatedProducts.includes(this.selectedDocument.productName)\r\n      let productPieces = this.collections.Piece.filter(piece => piece.asociatedProducts.length)\r\n      productPieces = this.collections.Piece.filter(findPieces)\r\n      const piecesNames = productPieces.map(piece => piece.pieceName).sort()\r\n      return piecesNames\r\n    },\r\n\r\n    requiresAssignement () {\r\n      const hasRequests = this.selectedPieces.length\r\n      const itsAssigned = this.documentation.technician._id\r\n      const itsAVisit = this.documentation.visit\r\n      if (!hasRequests) return ''\r\n      else if (itsAVisit) return ''\r\n      else if (hasRequests && !itsAssigned && !itsAVisit) return 'Asigne un responsable para realizar solicitudes'\r\n      else return ''\r\n    },\r\n\r\n    assembledRequests () {\r\n      const requests = []\r\n      for (const n in this.selectedPieces) {\r\n        const {\r\n          clientName,\r\n          officeName,\r\n          productName,\r\n          productType,\r\n          reportCode,\r\n          serialCode\r\n        } = this.selectedDocument\r\n        requests[n] = {\r\n          clientName, officeName, productName, productType, reportCode, serialCode,\r\n          pieceName: this.selectedPieces[n],\r\n          replacementCause: 'Indefinida',\r\n          requestDate: moment(Date.now()).format(),\r\n          requestedBy: this.formOptions.user,\r\n          requestStatus: 'Enviada a Almacén',\r\n          technician: this.documentation.technician,\r\n          quantity: 1 // quantity is not saved on MongoDB but required to create multiple requests on same piece\r\n        }\r\n      }\r\n      return requests\r\n    },\r\n\r\n    emailNotification () {\r\n      return this.collections.Email.find(email => email.subject === 'Solicitud de piezas')\r\n    }\r\n\r\n  },\r\n\r\n  methods: {\r\n\r\n    ...mapActions(['createDocument', 'updateDocument', 'deleteDocument', 'sendEmail']),\r\n\r\n    itIsWeekend (date) {\r\n      const submittedDay = moment(date).format('dddd')\r\n      return submittedDay === 'sábado' || submittedDay === 'domingo'\r\n    },\r\n\r\n    acceptSuggestion (suggestion) {\r\n      this.selectedPieces.push(suggestion)\r\n    },\r\n\r\n    findSuggestions (submittedValue, requiredKey, searchIn) {\r\n      if (!submittedValue) return\r\n      if (submittedValue.length < 3) return\r\n\r\n      let keyWords = submittedValue.split(' ')\r\n      keyWords = keyWords.filter(a => a.length > 3)\r\n      let setIn = this.suggestions.find(item => item.key === requiredKey)\r\n      for (const option of searchIn) {\r\n        for (const keyWord of keyWords) {\r\n          const match = option.toLowerCase().match(keyWord.toLowerCase())\r\n          const repeated = setIn.value.find(item => item === option)\r\n          if (match && !repeated) setIn.value.push(option)\r\n        }\r\n      }\r\n    },\r\n\r\n    save () {\r\n      this.loader = true\r\n      if (this.assembledRequests.length) this.requestPieces()\r\n      const body = this.consolidateBody()\r\n      if (this.documentation.status.includes('Cerrado')) this.closeService(body)\r\n      else this.update(body)\r\n    },\r\n\r\n    closeService (body) {\r\n      this.createDocument({ collection: 'Closed', body })\r\n        .then(() => this.deleteDocument({ collection: 'Active', body }))\r\n        .then(() => this.$emit('hideInterface'))\r\n        .catch(() => this.loader = false)\r\n    },\r\n\r\n    update (body) {\r\n      this.updateDocument({ collection: 'Active', body })\r\n        .then(() => this.$emit('hideInterface'))\r\n        .catch(() => this.loader = false)\r\n    },\r\n\r\n    consolidateBody () {\r\n      let body = Object.assign({}, this.selectedDocument)\r\n      \r\n      this.documentation.date = moment(`${this.dateSubmitted} ${this.timeSubmitted}`)\r\n        .format('YYYY-MM-DD[T]HH:mm[:00.000+00:00]')\r\n      const minutesToExpire = moment(this.selectedDocument.expireDate).diff(new Date(), 'minutes')\r\n      const expired = minutesToExpire < 0\r\n\r\n      body.documentation.push(this.documentation)\r\n      body.status = this.documentation.status\r\n      body.expired = expired\r\n      if (this.documentation.visit) body.schedule.technician = this.documentation.technician\r\n      if (this.documentation.visit) body.schedule.scheduledDate = this.documentation.date\r\n\r\n      if (this.assembledRequests.length) {\r\n        for (const piece of this.assembledRequests) body.pieces.push({ pieceName: piece.pieceName, quantity: piece.quantity })\r\n      }\r\n      this.documentation.author = this.formOptions.user\r\n      return body\r\n    },\r\n\r\n    requestPieces () {\r\n      const actions = []\r\n      const emails = []\r\n      for (const body of this.assembledRequests) {\r\n        let counter = 0\r\n        do {\r\n          counter++\r\n          actions.push(this.createDocument({ collection: 'Request', body }))\r\n        } while (counter < body.quantity)\r\n        if (!this.emailNotification.enabled) return\r\n        const addressee = this.collections.User.find(user => user._id === body.technician._id)\r\n        emails.push(\r\n          email({ email: this.emailNotification, data: body, author: this.formOptions.user.fullName, addressee })\r\n        )\r\n      }\r\n      this.sendEmail(emails)\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    activeStep: function () {\r\n      if (this.activeStep === 2) {\r\n        this.findSuggestions(this.documentation.observations, 'pieceNames', this.piecesNames)\r\n      }\r\n    },\r\n    timeSubmitted: function () {\r\n      this.friendlyDate = `${moment(this.dateSubmitted).format('DD [de] MMMM,')} ${this.timeSubmitted}`\r\n    },\r\n    dateSubmitted: function () {\r\n      this.friendlyDate = `${moment(this.dateSubmitted).format('DD [de] MMMM,')} ${this.timeSubmitted}`\r\n    }\r\n  }\r\n})\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CorrectiveUpdate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CorrectiveUpdate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CorrectiveUpdate.vue?vue&type=template&id=3c99995a&\"\nimport script from \"./CorrectiveUpdate.vue?vue&type=script&lang=js&\"\nexport * from \"./CorrectiveUpdate.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VStepper } from 'vuetify/lib/components/VStepper';\nimport { VStepperContent } from 'vuetify/lib/components/VStepper';\nimport { VStepperStep } from 'vuetify/lib/components/VStepper';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VAlert,VAutocomplete,VBtn,VChip,VChipGroup,VCol,VContainer,VForm,VRadio,VRadioGroup,VRow,VSelect,VStepper,VStepperContent,VStepperStep,VTextField,VTextarea})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"closable\":\"1\",\"title\":\"Documentación\",\"subtitle\":\"Detalles del servicio\"},on:{\"hideInterface\":function($event){return _vm.$emit('hideInterface')}}}),(_vm.serviceCopy.reportCode)?_c('v-card',{staticClass:\"mx-auto\",attrs:{\"elevation\":\"2\"}},[_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',{attrs:{\"align\":\"center\"}},[_c('v-avatar',{staticClass:\"mb-2\"},[_c('v-img',{attrs:{\"src\":require(\"@/assets/logo.svg\")}})],1)],1)],1),_c('v-divider'),_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-card-title',[_vm._v(\"Servicio \"+_vm._s(_vm.serviceCopy.reportCode))]),_c('v-card-subtitle',[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-tools\")]),_vm._v(\" \"+_vm._s(_vm.serviceCopy.itsSpecial ? 'Especial' : 'Correctivo')+\" \")],1),_c('v-card-text',[_c('div',{staticClass:\"my-1 text-subtitle-2\"},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-calendar-outline\")]),_vm._v(\" Reporte: \"+_vm._s(_vm._f(\"friendlyDate\")(_vm.serviceCopy.reportedAt))+\" \")],1),_c('div',{staticClass:\"my-1 text-subtitle-2\"},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-timer-outline\")]),_vm._v(\" Expira: \"),(_vm.serviceCopy.itsSpecial)?_c('span',[_vm._v(\"S. L. A. No aplicado\")]):_c('span',[_vm._v(_vm._s(_vm._f(\"friendlyDate\")(_vm.serviceCopy.expireDate)))])],1),_c('div',{staticClass:\"my-1 text-subtitle-2\"},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-cog\")]),_vm._v(\" Piezas solicitadas: \"+_vm._s(_vm.serviceCopy.pieces.length)+\" \")],1),_c('v-chip',{attrs:{\"color\":_vm.colorsXStatus[_vm.serviceCopy.status],\"label\":\"\",\"dark\":\"\",\"small\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.serviceCopy.status)+\" \")])],1)],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6,\"align\":\"end\"}},[_c('v-card-title',{staticClass:\"justify-end\"},[_vm._v(\" \"+_vm._s(_vm.serviceCopy.clientName)+\" \")]),_c('v-card-subtitle',[_vm._v(\" \"+_vm._s(_vm.serviceCopy.officeName)+\" \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-bank\")])],1),_c('v-card-text',[_c('div',{staticClass:\"my-1 text-subtitle-2\"},[_vm._v(\" \"+_vm._s(_vm.serviceCopy.productName)+\" \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-printer\")])],1),_c('div',{staticClass:\"my-1 text-subtitle-2\"},[_vm._v(\" \"+_vm._s(_vm.serviceCopy.serialCode)+\" \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-barcode\")])],1),_c('div',{staticClass:\"my-1 text-subtitle-2\"},[_vm._v(\" \"+_vm._s(_vm.serviceCopy.description)+\" \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-comment-text-outline\")])],1),_c('v-chip',{attrs:{\"color\":\"secondary\",\"label\":\"\",\"small\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.serviceCopy.schedule.technician.fullName)+\" \")])],1)],1)],1)],1):_c('MaintenanceInfo',{attrs:{\"selectedDocument\":_vm.serviceCopy,\"hideHeader\":true}}),_c('v-row',{staticClass:\"my-10\"},[_c('v-col',{attrs:{\"align\":\"center\"}},[_c('v-btn',{attrs:{\"small\":\"\",\"outlined\":\"\",\"loading\":_vm.searching},on:{\"click\":function($event){return _vm.searchRelated(_vm.selectedDocument)}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-folder-search\")]),_vm._v(\" Otros servicios del producto \")],1)],1),_c('v-col',{attrs:{\"align\":\"center\"}},[(!_vm.originalIsSelected)?_c('v-btn',{attrs:{\"small\":\"\",\"outlined\":\"\",\"color\":\"error\"},on:{\"click\":_vm.selectOriginal}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-undo\")]),_vm._v(\" Volver al servicio original \")],1):_vm._e()],1)],1),(_vm.serviceCopy.reportCode)?_c('v-row',[_c('v-col',[_c('v-alert',{attrs:{\"type\":\"info\",\"icon\":\"mdi-information-outline\",\"rounded\":\"pill\",\"text\":\"\"}},[_vm._v(\" Bitácora del servicio \")]),_c('v-timeline',{attrs:{\"align-top\":\"\",\"reverse\":\"\",\"dense\":_vm.mobile}},_vm._l((_vm.serviceCopy.documentation),function(documentation,index){return _c('v-timeline-item',{key:index,attrs:{\"fill-dot\":\"\",\"color\":_vm.colorsXStatus[documentation.status],\"small\":\"\"}},[_c('v-card',{staticClass:\"elevation-2 my-1\"},[_c('v-card-title',{staticClass:\"text-h6 text-no-wrap\"},[_vm._v(\" \"+_vm._s(documentation.type)+\" \")]),_c('v-card-text',[_c('p',[_vm._v(\" \"+_vm._s(documentation.observations)+\" \")])]),(documentation.serviceOrder)?_c('v-container',[(documentation.serviceOrder.number)?_c('section',[_c('small',{staticClass:\"caption\"},[(documentation.visit)?_c('v-chip',{attrs:{\"label\":\"\",\"x-small\":\"\"}},[_vm._v(\" Visita técnica \")]):_vm._e(),_c('br'),(documentation.technician)?[(documentation.technician.fullName !== 'No asignado')?_c('v-chip',{attrs:{\"label\":\"\",\"x-small\":\"\"}},[_vm._v(\" \"+_vm._s(documentation.technician.fullName)+\" \")]):_vm._e()]:_vm._e(),_c('br'),(documentation.visit)?_c('span',[_vm._v(\" \"+_vm._s(_vm._f(\"friendlyDate\")(documentation.date))+\" \")]):_vm._e(),_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',[_c('v-text-field',{attrs:{\"prepend-inner-icon\":\"mdi-card-bulleted\",\"maxLength\":\"6\",\"rules\":_vm.rules.serviceOrderRules,\"persistent-hint\":\"\",\"hint\":documentation.serviceOrder.validated\n                          ? 'Validado'\n                          : 'No validado'},model:{value:(documentation.serviceOrder.number),callback:function ($$v) {_vm.$set(documentation.serviceOrder, \"number\", $$v)},expression:\"documentation.serviceOrder.number\"}})],1),_c('v-col',[_c('v-tooltip',{attrs:{\"color\":documentation.serviceOrder.validated ? 'warning' : 'primary',\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n                          var on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"outlined\":!documentation.serviceOrder.validated,\"color\":documentation.serviceOrder.validated ? 'primary' : 'warning',\"loading\":_vm.validating,\"small\":\"\",\"disabled\":_vm.$store.state.session.user.userRole > 2},on:{\"click\":function($event){return _vm.validateOrder(_vm.serviceCopy, index)}}},on),[_c('v-icon',[_vm._v(\" \"+_vm._s(documentation.serviceOrder.validated ? 'mdi-check' : 'mdi-exclamation')+\" \")])],1)]}}],null,true)},[_vm._v(\" \"+_vm._s(documentation.serviceOrder.validated ? 'Invalidar' : 'Validar')+\" \")])],1)],1)],2)]):_vm._e()]):_vm._e()],1),_c('small',{staticClass:\"caption ml-4 text--secondary lighten-2 lighten-1\"},[_c('v-tooltip',{attrs:{\"right\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n                          var on = ref.on;\nreturn [_c('v-avatar',_vm._g({attrs:{\"color\":\"secondary\",\"size\":\"20\"}},on),[_c('span',{staticClass:\"white--text\"},[_vm._v(_vm._s(_vm._f(\"initials\")(documentation.author.fullName)))])])]}}],null,true)},[_vm._v(\" \"+_vm._s(documentation.author.fullName)+\" \")]),_vm._v(\" | \"+_vm._s(_vm._f(\"friendlyDate\")(documentation.updatedAt))+\" \"),(documentation.status)?_c('v-chip',{staticClass:\"ml-1\",attrs:{\"dark\":\"\",\"color\":_vm.colorsXStatus[documentation.status],\"label\":\"\",\"x-small\":\"\"}},[_vm._v(\" \"+_vm._s(documentation.status)+\" \")]):_vm._e()],1)],1)}),1)],1)],1):_vm._e(),_c('v-bottom-sheet',{model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-card',[(_vm.drawer)?_c('ProductHistory',{attrs:{\"mobile\":_vm.mobile,\"relatedServices\":_vm.relatedDocuments},on:{\"showInterface\":_vm.selectCopy,\"hideInterface\":function($event){_vm.drawer = false}}}):_vm._e()],1)],1),_c('v-snackbar',{attrs:{\"dark\":\"\",\"outlined\":\"\",\"timeout\":2000,\"rounded\":\"pill\",\"centered\":\"\",\"transition\":\"fab-transition\"},model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',[_c('span',{staticClass:\"white--text\"},[_vm._v(\" \"+_vm._s(_vm.snackbarMessage)+\" \")])]),_c('v-col',{attrs:{\"cols\":\"2\"}},[_c('v-btn',{attrs:{\"color\":_vm.snackbarIconColor,\"fab\":\"\",\"outlined\":\"\",\"small\":\"\"},nativeOn:{\"click\":function($event){_vm.snackbar = false}}},[_c('v-icon',[_vm._v(\" \"+_vm._s(_vm.snackbarIcon)+\" \")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[(!_vm.hideHeader)?_c('Header',{attrs:{\"closable\":\"1\",\"title\":\"Documentación\",\"subtitle\":(\"Serial: \" + (_vm.selectedDocument.serialCode))},on:{\"hideInterface\":function($event){return _vm.$emit('hideInterface')}}}):_vm._e(),_c('v-card',{staticClass:\"mx-auto\",attrs:{\"elevation\":\"2\"}},[_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',{attrs:{\"align\":\"center\"}},[_c('v-avatar',{staticClass:\"mb-2\"},[_c('v-img',{attrs:{\"src\":require(\"@/assets/logo.svg\")}})],1)],1)],1),_c('v-divider'),_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-card-title',[_vm._v(\"Servicio Preventivo\")]),_c('v-card-subtitle',[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-broom\")]),_vm._v(\" Mantenimiento \")],1),_c('v-card-text',[_c('div',{staticClass:\"my-1 text-subtitle-2\"},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-calendar-outline\")]),_c('span',[_vm._v(_vm._s(_vm._f(\"friendlyDate\")(_vm.selectedDocument.schedule.scheduledDate)))])],1),_c('div',{staticClass:\"my-1 text-subtitle-2\"},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-card-bulleted-outline\")]),_vm._v(\" Orden de servicio: \"+_vm._s(_vm.selectedDocument.serviceOrder)+\" \")],1),_c('v-chip',{attrs:{\"color\":_vm.colorsXStatus[_vm.selectedDocument.status],\"label\":\"\",\"dark\":\"\",\"small\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.selectedDocument.status)+\" \")])],1)],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6,\"align\":\"end\"}},[_c('v-card-title',{staticClass:\"justify-end\"},[_vm._v(\" \"+_vm._s(_vm.selectedDocument.clientName)+\" \")]),_c('v-card-subtitle',[_vm._v(\" \"+_vm._s(_vm.selectedDocument.officeName)+\" \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-bank\")])],1),_c('v-card-text',[_c('div',{staticClass:\"my-1 text-subtitle-2\"},[_vm._v(\" \"+_vm._s(_vm.selectedDocument.productName)+\" \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-printer\")])],1),_c('div',{staticClass:\"my-1 text-subtitle-2\"},[_vm._v(\" \"+_vm._s(_vm.selectedDocument.serialCode)+\" \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-barcode\")])],1),_c('v-chip',{attrs:{\"color\":\"secondary\",\"label\":\"\",\"small\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.selectedDocument.schedule.technician.fullName)+\" \")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <Header\r\n      v-if=\"!hideHeader\"\r\n      closable=\"1\"\r\n      title=\"Documentación\"\r\n      :subtitle=\"`Serial: ${selectedDocument.serialCode}`\"\r\n      @hideInterface=\"$emit('hideInterface')\"\r\n    />\r\n    <v-card class=\"mx-auto\" elevation=\"2\">\r\n      <v-row align=\"center\" justify=\"center\">\r\n        <v-col align=\"center\">\r\n          <v-avatar class=\"mb-2\">\r\n            <v-img src=\"@/assets/logo.svg\"></v-img>\r\n          </v-avatar>\r\n        </v-col>\r\n      </v-row>\r\n      <v-divider></v-divider>\r\n      <v-row>\r\n        <v-col :cols=\"mobile ? 12 : 6\">\r\n          <v-card-title>Servicio Preventivo</v-card-title>\r\n          <v-card-subtitle>\r\n            <v-icon small>mdi-broom</v-icon>\r\n            Mantenimiento\r\n          </v-card-subtitle>\r\n          <v-card-text>\r\n            <div class=\"my-1 text-subtitle-2\">\r\n              <v-icon small>mdi-calendar-outline</v-icon>\r\n              <span>{{ selectedDocument.schedule.scheduledDate | friendlyDate }}</span>\r\n            </div>\r\n            <div class=\"my-1 text-subtitle-2\">\r\n              <v-icon small>mdi-card-bulleted-outline</v-icon>\r\n              Orden de servicio: {{ selectedDocument.serviceOrder }}\r\n            </div>\r\n            <v-chip\r\n              :color=\"colorsXStatus[selectedDocument.status]\"\r\n              label\r\n              dark\r\n              small\r\n            >\r\n              {{ selectedDocument.status }}\r\n            </v-chip>\r\n          </v-card-text>\r\n        </v-col>\r\n\r\n        <v-col :cols=\"mobile ? 12 : 6\" align=\"end\">\r\n\r\n          <v-card-title class=\"justify-end\">\r\n            {{ selectedDocument.clientName }}\r\n          </v-card-title>\r\n\r\n          <v-card-subtitle>\r\n            {{ selectedDocument.officeName }}\r\n            <v-icon small>mdi-bank</v-icon>\r\n          </v-card-subtitle>\r\n\r\n          <v-card-text>\r\n            <div class=\"my-1 text-subtitle-2\">\r\n              {{ selectedDocument.productName }}\r\n              <v-icon small>mdi-printer</v-icon>\r\n            </div>\r\n            <div class=\"my-1 text-subtitle-2\">\r\n              {{ selectedDocument.serialCode }}\r\n              <v-icon small>mdi-barcode</v-icon>\r\n            </div>\r\n\r\n            <v-chip\r\n              color=\"secondary\"\r\n              label\r\n              small\r\n            >\r\n              {{ selectedDocument.schedule.technician.fullName }}\r\n            </v-chip>\r\n\r\n          </v-card-text>\r\n        </v-col>\r\n      </v-row>\r\n    </v-card>\r\n\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Vue from 'vue'\r\nimport moment from 'moment-timezone'\r\nimport Header from '@/components/generals/Header'\r\n\r\nmoment.locale('es')\r\n\r\nexport default Vue.extend({\r\n  name: 'MaintenanceInfo',\r\n  props: ['selectedDocument', 'hideHeader'],\r\n  components: { Header },\r\n  filters: {\r\n    friendlyDate (date) {\r\n      return moment(date).parseZone('America/Caracas').format('DD/MM/YYYY')\r\n    }\r\n  },\r\n  computed: {\r\n    mobile () {\r\n      return (\r\n        this.$vuetify.breakpoint.name === 'xs' ||\r\n        this.$vuetify.breakpoint.name === 'sm'\r\n      )\r\n    },\r\n    colorsXStatus () {\r\n      return {\r\n        \"Operativo\": this.$vuetify.theme.currentTheme.success,\r\n        \"Inoperativo\": this.$vuetify.theme.currentTheme.error\r\n      }\r\n    }\r\n  }\r\n})\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaintenanceInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaintenanceInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MaintenanceInfo.vue?vue&type=template&id=623a8be9&\"\nimport script from \"./MaintenanceInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./MaintenanceInfo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAvatar,VCard,VCardSubtitle,VCardText,VCardTitle,VChip,VCol,VContainer,VDivider,VIcon,VImg,VRow})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"closable\":\"1\",\"title\":\"Historial\",\"subtitle\":\"\"},on:{\"hideInterface\":function($event){return _vm.$emit('hideInterface')}}}),_c('v-timeline',{attrs:{\"dense\":_vm.mobile}},_vm._l((_vm.orderedServices),function(service,i){return _c('v-timeline-item',{key:i,attrs:{\"color\":service.reportCode ? 'primary' : 'accent',\"small\":\"\"},scopedSlots:_vm._u([{key:\"opposite\",fn:function(){return [_c('span',{staticClass:\"headline font-weight-bold\"},[_vm._v(\" \"+_vm._s(service.officeName)+\" \")])]},proxy:true}],null,true)},[_c('div',{staticClass:\"py-4\"},[_c('v-chip',{staticClass:\"mb-4\",attrs:{\"color\":service.reportCode ? 'primary' : 'accent',\"label\":\"\"}},[_vm._v(\" \"+_vm._s(service.reportCode ? service.reportCode : 'Mantenimiento')+\" \")]),_c('v-tooltip',{attrs:{\"top\":\"\",\"small\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({staticClass:\"ml-1\",attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.$emit('showInterface', (\"\" + (service.reportCode ? 'details' : 'inventory')), service)}}},on),[_c('v-icon',[_vm._v(\" mdi-information-outline \")])],1)]}}],null,true)},[_c('span',[_vm._v(\"Ver detalle\")])]),_c('br'),(_vm.mobile)?_c('p',[_vm._v(\" \"+_vm._s(service.clientName)+\" \"+_vm._s(service.officeName)+\" \")]):_vm._e(),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(\" \"+_vm._s(service.status)+\" \")]),_c('v-divider'),_c('div',[_c('small',[_vm._v(\" \"+_vm._s(_vm._f(\"dateNoTime\")(service.serviceDate ? service.serviceDate : service.schedule.scheduledDate))+\" \")]),_c('v-chip',{staticClass:\"ma-1\",attrs:{\"small\":\"\",\"label\":\"\"}},[_vm._v(\" \"+_vm._s(service.schedule.technician.fullName)+\" \")])],1)],1)])}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <Header\r\n      closable=\"1\"\r\n      title=\"Historial\"\r\n      subtitle=\"\"\r\n      @hideInterface=\"$emit('hideInterface')\"\r\n    />\r\n    <v-timeline :dense=\"mobile\">\r\n      <v-timeline-item\r\n        v-for=\"(service, i) in orderedServices\"\r\n        :key=\"i\"\r\n        :color=\"service.reportCode ? 'primary' : 'accent'\"\r\n        small\r\n      >\r\n        <template v-slot:opposite>\r\n          <span class=\"headline font-weight-bold\">\r\n            {{ service.officeName }}\r\n          </span>\r\n        </template>\r\n        <div class=\"py-4\">\r\n          <v-chip\r\n            class=\"mb-4\"\r\n            :color=\"service.reportCode ? 'primary' : 'accent'\"\r\n            label\r\n          >\r\n            {{ service.reportCode ? service.reportCode : 'Mantenimiento' }}\r\n          </v-chip>\r\n          <v-tooltip top small>\r\n            <template v-slot:activator=\"{ on }\">\r\n              <v-btn\r\n                class=\"ml-1\"\r\n                @click=\"$emit('showInterface', `${service.reportCode ? 'details' : 'inventory' }`, service)\"\r\n                icon\r\n                small\r\n                v-on=\"on\"\r\n              >\r\n                <v-icon>\r\n                  mdi-information-outline\r\n                </v-icon>\r\n              </v-btn>\r\n            </template>\r\n            <span>Ver detalle</span>\r\n          </v-tooltip>\r\n          <br>\r\n          <p v-if=\"mobile\">\r\n            {{ service.clientName }}\r\n            {{ service.officeName }}\r\n          </p>\r\n          <span class=\"font-weight-bold\">\r\n            {{ service.status }}\r\n          </span>\r\n          <v-divider />\r\n          <div>\r\n            <small>\r\n              {{ service.serviceDate ? service.serviceDate : service.schedule.scheduledDate | dateNoTime }}\r\n            </small>\r\n            <v-chip class=\"ma-1\" small label>\r\n              {{ service.schedule.technician.fullName }}\r\n            </v-chip>\r\n          </div>\r\n        </div>\r\n      </v-timeline-item>\r\n    </v-timeline>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Header from '@/components/generals/Header'\r\nimport moment from 'moment-timezone'\r\n\r\nmoment.locale('es')\r\n\r\nexport default {\r\n  name: 'ProductHistory',\r\n  components: { Header },\r\n  props: ['relatedServices', 'mobile'],\r\n\r\n  data: () => {\r\n    return { orderedServices: [] }\r\n  },\r\n\r\n  created () {\r\n    this.sortServices()\r\n    console.log(this.relatedServices)\r\n  },\r\n\r\n  methods : {\r\n\r\n    sortServices () {\r\n      function chronologic (a, b) {\r\n        const dateA = a.serviceDate ? a.serviceDate : a.schedule.scheduledDate\r\n        const dateB = b.serviceDate ? b.serviceDate : b.schedule.scheduledDate\r\n        if (dateA > dateB) {\r\n          return 1\r\n        } else {\r\n          return -1\r\n        }\r\n      }\r\n      this.orderedServices = this.relatedServices.sort(chronologic)\r\n    }\r\n  },\r\n\r\n  filters: {\r\n\r\n    dateNoTime (date) {\r\n      return moment(date).parseZone('America/Caracas').format('LL')\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductHistory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductHistory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductHistory.vue?vue&type=template&id=da5bcf78&\"\nimport script from \"./ProductHistory.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductHistory.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTimeline } from 'vuetify/lib/components/VTimeline';\nimport { VTimelineItem } from 'vuetify/lib/components/VTimeline';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VChip,VContainer,VDivider,VIcon,VTimeline,VTimelineItem,VTooltip})\n","<template>\r\n  <v-container>\r\n    <Header\r\n      closable=\"1\"\r\n      title=\"Documentación\"\r\n      subtitle=\"Detalles del servicio\"\r\n      @hideInterface=\"$emit('hideInterface')\"\r\n    />\r\n    <v-card v-if=\"serviceCopy.reportCode\" class=\"mx-auto\" elevation=\"2\">\r\n      <v-row align=\"center\" justify=\"center\">\r\n        <v-col align=\"center\">\r\n          <v-avatar class=\"mb-2\">\r\n            <v-img src=\"@/assets/logo.svg\"></v-img>\r\n          </v-avatar>\r\n        </v-col>\r\n      </v-row>\r\n      <v-divider></v-divider>\r\n      <v-row>\r\n        <v-col :cols=\"mobile ? 12 : 6\">\r\n          <v-card-title>Servicio {{ serviceCopy.reportCode }}</v-card-title>\r\n          <v-card-subtitle>\r\n            <v-icon small>mdi-tools</v-icon>\r\n            {{ serviceCopy.itsSpecial ? 'Especial' : 'Correctivo' }}\r\n          </v-card-subtitle>\r\n          <v-card-text>\r\n            <div class=\"my-1 text-subtitle-2\">\r\n              <v-icon small>mdi-calendar-outline</v-icon>\r\n              Reporte: {{ serviceCopy.reportedAt | friendlyDate }}\r\n            </div>\r\n            <div class=\"my-1 text-subtitle-2\">\r\n              <v-icon small>mdi-timer-outline</v-icon>\r\n              Expira:\r\n              <span v-if=\"serviceCopy.itsSpecial\">S. L. A. No aplicado</span>\r\n              <span v-else>{{ serviceCopy.expireDate | friendlyDate }}</span>\r\n            </div>\r\n            <div class=\"my-1 text-subtitle-2\">\r\n              <v-icon small>mdi-cog</v-icon>\r\n              Piezas solicitadas: {{ serviceCopy.pieces.length }}\r\n            </div>\r\n            <v-chip\r\n              :color=\"colorsXStatus[serviceCopy.status]\"\r\n              label\r\n              dark\r\n              small\r\n            >\r\n              {{ serviceCopy.status }}\r\n            </v-chip>\r\n          </v-card-text>\r\n        </v-col>\r\n\r\n        <v-col :cols=\"mobile ? 12 : 6\" align=\"end\">\r\n\r\n          <v-card-title class=\"justify-end\">\r\n            {{ serviceCopy.clientName }}\r\n          </v-card-title>\r\n\r\n          <v-card-subtitle>\r\n            {{ serviceCopy.officeName }}\r\n            <v-icon small>mdi-bank</v-icon>\r\n          </v-card-subtitle>\r\n\r\n          <v-card-text>\r\n            <div class=\"my-1 text-subtitle-2\">\r\n              {{ serviceCopy.productName }}\r\n              <v-icon small>mdi-printer</v-icon>\r\n            </div>\r\n            <div class=\"my-1 text-subtitle-2\">\r\n              {{ serviceCopy.serialCode }}\r\n              <v-icon small>mdi-barcode</v-icon>\r\n            </div>\r\n\r\n            <div class=\"my-1 text-subtitle-2\">\r\n              {{ serviceCopy.description }}\r\n              <v-icon small>mdi-comment-text-outline</v-icon>\r\n            </div>\r\n\r\n            <v-chip\r\n              color=\"secondary\"\r\n              label\r\n              small\r\n            >\r\n              {{ serviceCopy.schedule.technician.fullName }}\r\n            </v-chip>\r\n\r\n          </v-card-text>\r\n        </v-col>\r\n      </v-row>\r\n    </v-card>\r\n\r\n    <MaintenanceInfo v-else :selectedDocument=\"serviceCopy\" :hideHeader=\"true\" />\r\n\r\n    <v-row class=\"my-10\">\r\n      <v-col align=\"center\">\r\n        <v-btn @click=\"searchRelated(selectedDocument)\" small outlined\r\n          :loading=\"searching\">\r\n          <v-icon left>mdi-folder-search</v-icon>\r\n          Otros servicios del producto\r\n        </v-btn>\r\n      </v-col>\r\n      <v-col align=\"center\">\r\n        <v-btn v-if=\"!originalIsSelected\" @click=\"selectOriginal\" small outlined color=\"error\">\r\n          <v-icon left>mdi-undo</v-icon>\r\n          Volver al servicio original\r\n        </v-btn>\r\n      </v-col>\r\n    </v-row>\r\n\r\n    <v-row v-if=\"serviceCopy.reportCode\">\r\n      <v-col>\r\n        <v-alert type=\"info\" icon=\"mdi-information-outline\" rounded=\"pill\" text>\r\n          Bitácora del servicio\r\n        </v-alert>\r\n        <v-timeline\r\n          align-top\r\n          reverse\r\n          :dense=\"mobile\"\r\n        >\r\n          <v-timeline-item\r\n            v-for=\"documentation, index in serviceCopy.documentation\"\r\n            :key=\"index\"\r\n            fill-dot\r\n            :color=\"colorsXStatus[documentation.status]\"\r\n            small\r\n          >\r\n            <v-card class=\"elevation-2 my-1\">\r\n              <v-card-title class=\"text-h6 text-no-wrap\">\r\n                {{ documentation.type }}\r\n              </v-card-title>\r\n              <v-card-text>\r\n                <p>\r\n                {{ documentation.observations }}\r\n                </p>\r\n              </v-card-text>\r\n              <v-container v-if=\"documentation.serviceOrder\">\r\n                <section v-if=\"documentation.serviceOrder.number\">\r\n                  <small class=\"caption\">\r\n                    <v-chip v-if=\"documentation.visit\" label x-small>\r\n                      Visita técnica\r\n                    </v-chip>\r\n                    <br>\r\n                    <template v-if=\"documentation.technician\">\r\n                      <v-chip\r\n                        v-if=\"documentation.technician.fullName !== 'No asignado'\"\r\n                        label\r\n                        x-small\r\n                      >\r\n                        {{ documentation.technician.fullName }}\r\n                      </v-chip>\r\n                    </template>\r\n                    <br>\r\n                    <span v-if=\"documentation.visit\">\r\n                      {{ documentation.date | friendlyDate }}\r\n                    </span>\r\n                    <v-row align=\"center\">\r\n                      <v-col>\r\n                        <v-text-field\r\n                          v-model=\"documentation.serviceOrder.number\"\r\n                          prepend-inner-icon=\"mdi-card-bulleted\"\r\n                          maxLength=\"6\" :rules=\"rules.serviceOrderRules\" persistent-hint\r\n                          :hint=\"documentation.serviceOrder.validated\r\n                            ? 'Validado'\r\n                            : 'No validado'\"\r\n                        />\r\n                      </v-col>\r\n                      <v-col>\r\n                        <v-tooltip :color=\"documentation.serviceOrder.validated ? 'warning' : 'primary'\" top>\r\n                          <template v-slot:activator=\"{ on }\">\r\n                            <v-btn\r\n                              :outlined=\"!documentation.serviceOrder.validated\"\r\n                              :color=\"documentation.serviceOrder.validated ? 'primary' : 'warning'\"\r\n                              :loading=\"validating\"\r\n                              small v-on=\"on\"\r\n                              :disabled=\"$store.state.session.user.userRole > 2\"\r\n                              @click=\"validateOrder(serviceCopy, index)\"\r\n                            >\r\n                              <v-icon>\r\n                                {{ documentation.serviceOrder.validated ? 'mdi-check' : 'mdi-exclamation' }}\r\n                              </v-icon>\r\n                            </v-btn>\r\n                          </template>\r\n                          {{ documentation.serviceOrder.validated ? 'Invalidar' : 'Validar' }}\r\n                        </v-tooltip>\r\n                      </v-col>\r\n                    </v-row>\r\n                  </small>\r\n                </section>\r\n              </v-container>\r\n            </v-card>\r\n            <small class=\"caption ml-4 text--secondary lighten-2 lighten-1\">\r\n              <v-tooltip right>\r\n                <template v-slot:activator=\"{ on }\">\r\n                  <v-avatar\r\n                    v-on=\"on\"\r\n                    color=\"secondary\"\r\n                    size=\"20\"\r\n                  >\r\n                  <span class=\"white--text\">{{ documentation.author.fullName | initials}}</span>\r\n                </v-avatar>\r\n                </template>\r\n                {{ documentation.author.fullName }}\r\n                </v-tooltip>\r\n                | {{ documentation.updatedAt | friendlyDate }}\r\n                <v-chip\r\n                  class=\"ml-1\"\r\n                  v-if=\"documentation.status\"\r\n                  dark\r\n                  :color=\"colorsXStatus[documentation.status]\"\r\n                  label\r\n                  x-small\r\n                >\r\n                  {{ documentation.status }}\r\n                </v-chip>\r\n              </small>\r\n          </v-timeline-item>\r\n        </v-timeline>\r\n      </v-col>\r\n    </v-row>\r\n    <v-bottom-sheet v-model=\"drawer\">\r\n      <v-card>\r\n        <ProductHistory\r\n          v-if=\"drawer\"\r\n          :mobile=\"mobile\"\r\n          :relatedServices=\"relatedDocuments\"\r\n          @showInterface=\"selectCopy\"\r\n          @hideInterface=\"drawer = false\"\r\n        />\r\n      </v-card>\r\n    </v-bottom-sheet>\r\n    <v-snackbar v-model=\"snackbar\" dark outlined :timeout=\"2000\" rounded=\"pill\" centered transition=\"fab-transition\">\r\n      <v-row align=\"center\">\r\n        <v-col>\r\n          <span class=\"white--text\">\r\n            {{ snackbarMessage }}\r\n          </span>\r\n        </v-col>\r\n        <v-col cols=\"2\">\r\n          <v-btn :color=\"snackbarIconColor\" fab outlined small @click.native=\"snackbar = false\">\r\n            <v-icon>\r\n              {{ snackbarIcon }}\r\n            </v-icon>\r\n          </v-btn>\r\n        </v-col>\r\n      </v-row>\r\n    </v-snackbar>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Vue from 'vue'\r\nimport moment from 'moment-timezone'\r\nimport { mapActions, mapMutations } from 'vuex'\r\nimport { rules } from '@/helpers/form.js'\r\nimport MaintenanceInfo from '../preventive/MaintenanceInfo.vue'\r\nimport ProductHistory from '@/components/corrective/ProductHistory.vue'\r\nimport Header from '@/components/generals/Header'\r\n\r\nmoment.locale('es')\r\n\r\nexport default Vue.extend({\r\n\r\n  name: 'CorrectiveInfo',\r\n  components: { MaintenanceInfo, Header, ProductHistory },\r\n  props: ['selectedDocument', 'mobile' ],\r\n  \r\n  data: () => {\r\n    return {\r\n      drawer: false,\r\n      rules,\r\n      validating: false,\r\n      selection: 1,\r\n      snackbar: false,\r\n      snackbarMessage: '',\r\n      snackbarIcon: '',\r\n      snackbarIconColor: '',\r\n      searching: false,\r\n      serviceCopy: {},\r\n      relatedDocuments: [],\r\n      originalIsSelected: true\r\n    }\r\n  },\r\n\r\n  created () {\r\n    this.serviceCopy = this.selectedDocument\r\n    if (this.selectedDocument.relatedDocuments) {\r\n      if (this.selectedDocument.relatedDocuments.length) this.relatedDocuments = this.selectedDocument.relatedDocuments\r\n    }\r\n  },\r\n\r\n  filters: {\r\n\r\n    friendlyDate (date) {\r\n      return moment(date).parseZone('America/Caracas').format('DD/MM/YYYY HH:mm')\r\n    },\r\n\r\n    relativeDate (date) {\r\n      return moment(date).fromNow()\r\n    },\r\n\r\n    initials (name) {\r\n      const fullName = name.split(' ')\r\n      return fullName[0][0] + fullName[1][0]\r\n    }\r\n\r\n  },\r\n\r\n  computed: {\r\n    \r\n    assignedTo () {\r\n      const assignements = this.serviceCopy.documentation.filter(record => record.technician)\r\n      return assignements.length ? assignements.pop().technician.fullName : 'No asignado'\r\n    },\r\n\r\n    colorsXStatus () {\r\n      return {\r\n        \"Cerrado - Operativo\": this.$vuetify.theme.currentTheme.success,\r\n        \"Cerrado - Reemplazado\": this.$vuetify.theme.currentTheme.info,\r\n        \"Cerrado - Desincorporado\": this.$vuetify.theme.currentTheme.secondary,\r\n        \"Pendiente - Por repuestos\": this.$vuetify.theme.currentTheme.warning,\r\n        \"En programación\": this.$vuetify.theme.currentTheme.error,\r\n        \"Atención programada\": this.$vuetify.theme.currentTheme.accent\r\n      }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n\r\n    ...mapActions(['updateDocument', 'findDocuments']),\r\n    ...mapMutations(['setRelatedDocuments', 'showSnackbar']),\r\n\r\n    validateOrder (body, i) {\r\n      this.validating = true\r\n      body.documentation[i].serviceOrder.validated = !body.documentation[i].serviceOrder.validated\r\n      this.updateDocument({\r\n        collection: body.status.includes('Cerrado') ? 'Closed' : 'Active',\r\n        body\r\n      })\r\n        .finally(() => this.validating = false)\r\n    },\r\n\r\n    searchRelated (service) {\r\n      if (service.serialCode === 'SIN SERIAL') return this.showSnackbar({\r\n        error: 'No es posible asociar este servicio con otros mientras no se registre el serial del producto'\r\n      })\r\n      if (this.relatedDocuments.length) return this.drawer = true\r\n      this.searching = true\r\n      const closedsFilter = { \r\n        \"$or\": [\r\n          { serialCode: service.serialCode }, { \"documentation.newSerial\": service.serialCode }\r\n        ],\r\n        _id: { \"$ne\": service._id }\r\n      }\r\n      const searchInCollections = [\r\n        this.findDocuments({ collection: 'Closed', filter: closedsFilter }),\r\n        this.findDocuments({ collection: 'Inventory', filter: { serialCode: service.serialCode } })\r\n      ]\r\n      Promise.all(searchInCollections)\r\n        .then((res) => {\r\n          this.searching = false\r\n          const data = [...res[0], ...res[1]]\r\n          if (data.length) {\r\n            this.setRelatedDocuments({ serialCode: service.serialCode, data })\r\n            this.relatedDocuments = data\r\n            this.drawer = true\r\n            this.alertResult(true)\r\n          } else {\r\n            this.alertResult(false)\r\n          }\r\n        })\r\n        .catch(() => this.searching = false)\r\n    },\r\n\r\n    alertResult (results) {\r\n      if (results) {\r\n        this.snackbarMessage = 'Encontramos servicios relacionados'\r\n        this.snackbarIcon = 'mdi-check'\r\n        this.snackbarIconColor = 'accent lighten-1'\r\n        this.snackbar = true\r\n      } else {\r\n        this.snackbarMessage = 'La búsqueda no arrojó resultados'\r\n        this.snackbarIcon = 'mdi-alert'\r\n        this.snackbarIconColor = 'error lighten-1'\r\n        this.snackbar = true\r\n      }\r\n    },\r\n\r\n    selectCopy (interd, service) {\r\n      this.serviceCopy = service\r\n      this.originalIsSelected = false\r\n      this.drawer = false\r\n    },\r\n\r\n    selectOriginal () {\r\n      this.serviceCopy = this.selectedDocument\r\n      this.originalIsSelected = true\r\n    }\r\n  }\r\n})\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CorrectiveInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CorrectiveInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CorrectiveInfo.vue?vue&type=template&id=5ccbc067&\"\nimport script from \"./CorrectiveInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./CorrectiveInfo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBottomSheet } from 'vuetify/lib/components/VBottomSheet';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTimeline } from 'vuetify/lib/components/VTimeline';\nimport { VTimelineItem } from 'vuetify/lib/components/VTimeline';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VAlert,VAvatar,VBottomSheet,VBtn,VCard,VCardSubtitle,VCardText,VCardTitle,VChip,VCol,VContainer,VDivider,VIcon,VImg,VRow,VSnackbar,VTextField,VTimeline,VTimelineItem,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"closable\":\"1\",\"title\":\"Inventario\",\"subtitle\":\"Último mantenimiento\"},on:{\"hideInterface\":function($event){return _vm.$emit('hideInterface')}}}),_c('v-card',[_c('v-card-text',[_c('v-tabs',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tabs-slider',{attrs:{\"color\":\"accent\"}}),_vm._l((_vm.productTypes),function(product,index){return _c('v-tab',{key:index},[_vm._v(\" \"+_vm._s(product.productType)+\" \")])})],2),(_vm.productTypes.length)?_c('v-tabs-items',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},_vm._l((_vm.productTypes),function(product,index){return _c('v-tab-item',{key:index},[_c('v-data-table',{attrs:{\"items\":product.registeredProducts,\"headers\":_vm.headers}})],1)}),1):_c('v-card-title',[_vm._v(\"Información no registrada\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <Header\r\n      closable=\"1\"\r\n      title=\"Inventario\"\r\n      subtitle=\"Último mantenimiento\"\r\n      @hideInterface=\"$emit('hideInterface')\"\r\n    />\r\n    <v-card>\r\n      <v-card-text>\r\n        <v-tabs v-model=\"tab\">\r\n        <v-tabs-slider color=\"accent\" />\r\n        <v-tab v-for=\"product, index in productTypes\" :key=\"index\">\r\n          {{ product.productType }}\r\n        </v-tab>\r\n      </v-tabs>\r\n      <v-tabs-items v-if=\"productTypes.length\" v-model=\"tab\">\r\n        <v-tab-item v-for=\"product, index in productTypes\" :key=\"index\">\r\n          <v-data-table :items=\"product.registeredProducts\" :headers=\"headers\" />\r\n        </v-tab-item>\r\n      </v-tabs-items>\r\n        <v-card-title v-else>Información no registrada</v-card-title>\r\n      </v-card-text>\r\n    </v-card>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport Header from '@/components/generals/Header'\r\nexport default {\r\n  name: 'OfficeInventory',\r\n  components: { Header },\r\n  props: ['inventory', 'mobile'],\r\n  data: () => {\r\n    return {\r\n      tab: 0,\r\n      headers: [\r\n        { text: 'Producto', value: 'productName' },\r\n        { text: 'Serial', value: 'serialCode' }\r\n      ]\r\n    }\r\n  },\r\n  computed: {\r\n    productTypes () {\r\n      let products = this.inventory.map(product => product.productType)\r\n      products = new Set([...products])\r\n      const filteredProducts = []\r\n      for (let productType of products) {\r\n        const registeredProducts = this.inventory.filter(inventory => inventory.productType === productType)\r\n        filteredProducts.push({ productType, registeredProducts })\r\n      }\r\n      return filteredProducts\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfficeInventory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfficeInventory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OfficeInventory.vue?vue&type=template&id=20014502&\"\nimport script from \"./OfficeInventory.vue?vue&type=script&lang=js&\"\nexport * from \"./OfficeInventory.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VTabsSlider } from 'vuetify/lib/components/VTabs';\ninstallComponents(component, {VCard,VCardText,VCardTitle,VContainer,VDataTable,VTab,VTabItem,VTabs,VTabsItems,VTabsSlider})\n","<template>\r\n  <v-container>\r\n    <v-row align=\"center\">\r\n      <v-col md=\"3\">\r\n        <v-text-field v-model=\"tableFilter\" prepend-inner-icon=\"mdi-magnify\" label=\"Filtrar\" />\r\n      </v-col>\r\n      <v-col align=\"end\">\r\n        <export-excel v-if=\"xlsFormat\" :data=\"xlsFormat\">\r\n          <v-btn\r\n            dark small\r\n            :disabled=\"!result.length\"\r\n            color=\"#2a5\"\r\n          >\r\n            <v-icon>mdi-microsoft-excel</v-icon>\r\n          </v-btn>\r\n        </export-excel>\r\n      </v-col>\r\n    </v-row>\r\n    <v-data-table\r\n      class=\"elevation-2\"\r\n      dense\r\n      :items-per-page=\"5\"\r\n      :headers=\"headers\"\r\n      :items=\"result\"\r\n      :search=\"tableFilter\"\r\n    >\r\n      <template v-slot:item.serviceType=\"{ item }\">\r\n        {{ item | serviceType }}\r\n      </template>\r\n      <template v-slot:item.reportedAt=\"{ item }\">\r\n        {{ item.reportedAt | friendlyDate }}\r\n      </template>\r\n      <template v-slot:item.actions=\"{ item }\">\r\n        <v-menu>\r\n          <template v-slot:activator=\"{ on }\">\r\n            <v-btn :color=\"item.reportCode ? 'primary' : 'accent'\" icon small v-on=\"on\">\r\n              <v-icon>mdi-dots-vertical</v-icon>\r\n            </v-btn>\r\n          </template>\r\n          <v-list :color=\"item.reportCode ? 'primary' : 'accent'\" dark dense>\r\n            <v-list-item-group v-if=\"item.reportCode\">\r\n              <v-list-item\r\n                v-for=\"option, index in reportsMenu\" :key=\"index\"\r\n                @click=\"showDialog(option.action, item)\"\r\n                :disabled=\"\r\n                  item.status.includes('Cerrado') && option.action !== 'details'\r\n                  || (option.requiredRole < $store.state.session.user.userRole)\r\n                \"\r\n              >\r\n                <v-list-item-icon>\r\n                  <v-icon>{{ option.icon }}</v-icon>\r\n                </v-list-item-icon>\r\n                <v-list-item-content>\r\n                  <v-list-item-title>\r\n                    {{ option.title }}\r\n                  </v-list-item-title>\r\n                </v-list-item-content>\r\n              </v-list-item>\r\n            </v-list-item-group>\r\n            <v-list-item-group v-else>\r\n              <v-list-item\r\n                v-for=\"option, index in maintenanceMenu\" :key=\"index\"\r\n                @click=\"showDialog(option.action, item)\"\r\n                :disabled=\"\r\n                  (item.status === 'Asignado' && option.title === 'Validar')\r\n                  || (item.status === 'Culminado' && option.title !== 'Validar')\r\n                  || (option.requiredRole < $store.state.session.user.userRole)\r\n                \"\r\n              >\r\n                <v-list-item-icon>\r\n                  <v-icon>{{ option.icon }}</v-icon>\r\n                </v-list-item-icon>\r\n                <v-list-item-content>\r\n                  <v-list-item-title>\r\n                    {{ option.title }}\r\n                  </v-list-item-title>\r\n                </v-list-item-content>\r\n              </v-list-item>\r\n            </v-list-item-group>\r\n          </v-list>\r\n        </v-menu>\r\n        <v-btn @click=\"showInformation(item)\" icon small\r\n          :color=\"item.reportCode ? 'primary' : 'accent'\">\r\n          <v-icon>mdi-information-outline</v-icon>\r\n        </v-btn>\r\n        <v-btn @click=\"share(item)\" icon small :color=\"item.reportCode ? 'primary' : 'accent'\">\r\n          <v-icon>mdi-share-variant</v-icon>\r\n        </v-btn>\r\n      </template>\r\n    </v-data-table>\r\n    <v-dialog\r\n      v-model=\"dialog\"\r\n      :width=\"mobile ? '90%' : '60%'\"\r\n      persistent\r\n      :fullscreen=\"detailsInterface\"\r\n    >\r\n      <v-card>\r\n        <CorrectiveInfo\r\n          v-if=\"detailsInterface\"\r\n          :selectedDocument=\"selectedDocument\"\r\n          :mobile=\"mobile\"\r\n          @hideInterface=\"hideInterface('details')\"\r\n        />\r\n        <CorrectiveSchedule\r\n          v-if=\"scheduleInterface\"\r\n          :selectedDocument=\"selectedDocument\"\r\n          :mobile=\"mobile\"\r\n          @hideInterface=\"hideInterface('schedule')\"\r\n        />\r\n        <CorrectiveUpdate\r\n          v-if=\"updateInterface\"\r\n          :selectedDocument=\"selectedDocument\"\r\n          :mobile=\"mobile\"\r\n          @hideInterface=\"hideInterface('update')\"\r\n        />\r\n        <MaintenanceForm\r\n          v-if=\"scheduleMaintenanceInterface\"\r\n          :editing=\"selectedDocument\"\r\n          :collections=\"collections\"\r\n          :mobile=\"mobile\"\r\n          @hideInterface=\"hideInterface('scheduleMaintenance')\"\r\n        />\r\n        <MaintenanceUpdate\r\n          v-if=\"updateMaintenanceInterface\"\r\n          :updating=\"selectedDocument\"\r\n          :collections=\"collections\"\r\n          :mobile=\"mobile\"\r\n          @hideInterface=\"hideInterface('updateMaintenance')\"\r\n        />\r\n        <MaintenanceValidation\r\n          v-if=\"validateMaintenanceInterface\"\r\n          :updating=\"selectedDocument\"\r\n          :collections=\"collections\"\r\n          :mobile=\"mobile\"\r\n          @hideInterface=\"hideInterface('validateMaintenance')\"\r\n        />\r\n        <OfficeInventory\r\n          v-if=\"inventoryInterface\"\r\n          :mobile=\"mobile\"\r\n          :inventory=\"selectedInventory\"\r\n          @hideInterface=\"hideInterface('inventory')\"\r\n        />\r\n      </v-card>\r\n    </v-dialog>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport CorrectiveSchedule from './CorrectiveSchedule'\r\nimport MaintenanceForm from '@/components/preventive/MaintenanceForm'\r\nimport MaintenanceUpdate from '@/components/preventive/MaintenanceUpdate'\r\nimport MaintenanceValidation from '@/components/preventive/MaintenanceValidation'\r\nimport CorrectiveUpdate from './CorrectiveUpdate'\r\nimport CorrectiveInfo from '@/components/corrective/CorrectiveInfo'\r\nimport OfficeInventory from '@/components/preventive/OfficeInventory'\r\nimport moment from 'moment-timezone'\r\nimport { mapState, mapMutations } from 'vuex'\r\n\r\nexport default {\r\n  props: ['result', 'xlsFormat', 'mobile'],\r\n  name: 'QueryResult',\r\n  components: { CorrectiveSchedule, CorrectiveUpdate, CorrectiveInfo, MaintenanceUpdate, MaintenanceForm, MaintenanceValidation, OfficeInventory },\r\n  data: () => {\r\n    return {\r\n      scheduleInterface: false,\r\n      scheduleMaintenanceInterface: false,\r\n      updateMaintenanceInterface: false,\r\n      validateMaintenanceInterface: false,\r\n      inventoryInterface: false,\r\n      updateInterface: false,\r\n      detailsInterface: false,\r\n      tableFilter: '',\r\n      selectedInventory: [],\r\n      headers: [\r\n        { text: 'Cliente', value: 'clientName' },\r\n        { text: 'Oficina', value: 'officeName' },\r\n        { text: 'Servicio', value: 'serviceType' },\r\n        { text: 'Técnico', value: 'schedule.technician.fullName' },\r\n        { text: 'Status', value: 'status' },\r\n        { text: 'Acciones', value: 'actions' }\r\n      ],\r\n      reportsMenu: [\r\n        { action: 'schedule', title: 'Re-asignar', icon: 'mdi-account-arrow-left', requiredRole: 2 },\r\n        { action: 'update', title: 'Actualizar', icon: 'mdi-file-refresh-outline', requiredRole: 2 }\r\n      ],\r\n      maintenanceMenu: [\r\n        { action: 'scheduleMaintenance', title: 'Re-asignar', icon: 'mdi-account-arrow-left', requiredRole: 2 },\r\n        { action: 'updateMaintenance', title: 'Actualizar', icon: 'mdi-file-refresh-outline', requiredRole: 2 },\r\n        { action: 'validateMaintenance', title: 'Validar', icon: 'mdi-check', requiredRole: 2 }\r\n      ],\r\n      dialog: false,\r\n      selectedDocument: {}\r\n    }\r\n  },\r\n\r\n  computed: { ...mapState(['collections']) },\r\n\r\n  filters: {\r\n\r\n    friendlyDate (dateSubmitted) {\r\n      return moment(dateSubmitted).parseZone('America/Caracas').format('DD [de] MMMM, HH:mm')\r\n    },\r\n\r\n    serviceType (service) {\r\n      let serviceType = 'Preventivo'\r\n      switch (service.itsSpecial) {\r\n        case true:\r\n          serviceType = 'Especial'\r\n          break\r\n        case false:\r\n          serviceType = service.reportCode\r\n          break\r\n        default:\r\n          break\r\n      }\r\n      return serviceType\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    ...mapMutations(['showSnackbar']),\r\n\r\n    hideInterface (menu) {\r\n      this.selectedDocument = {}\r\n      this.dialog = false\r\n      this[`${menu}Interface`] = false\r\n    },\r\n\r\n    showInformation (service) {\r\n      if (!service.reportCode) return this.showInventory(service.officeName, service.clientName)\r\n      else this.selectedDocument = Object.assign({}, service)\r\n      this.dialog = true\r\n      this.detailsInterface = true\r\n    },\r\n\r\n    showDialog (menu, service) {\r\n      this.selectedDocument = Object.assign({}, service)\r\n      this.dialog = true\r\n      this[`${menu}Interface`] = true\r\n    },\r\n\r\n    showInventory (officeName, clientName) {\r\n      this.selectedInventory = this.collections.Office.find(office => office.officeName === officeName && office.clientName === clientName).inventory\r\n      if (!this.selectedInventory.length) return this.showSnackbar({ message: 'No se ha registrado información de mantenimientos anteriores' })\r\n      else this.dialog = true, this.inventoryInterface = true\r\n    },\r\n\r\n    share ({ clientName, officeName, reportCode, productName, serialCode, description }) {\r\n      const serviceData = reportCode\r\n        ? `reporte ${reportCode}, ${productName}, serial ${serialCode}, ${description}`\r\n        : 'Mantenimiento preventivo'\r\n      navigator.share({\r\n        title: 'Servicio registrado',\r\n        text: `Te comparto los datos de un servicio registrado en Mantra.\r\n          ${clientName} ${officeName}. ${serviceData}\r\n        `\r\n      })\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueryResult.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueryResult.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QueryResult.vue?vue&type=template&id=5a4c2d82&\"\nimport script from \"./QueryResult.vue?vue&type=script&lang=js&\"\nexport * from \"./QueryResult.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCol,VContainer,VDataTable,VDialog,VIcon,VList,VListItem,VListItemContent,VListItemGroup,VListItemIcon,VListItemTitle,VMenu,VRow,VTextField})\n","<template>\r\n  <v-container>\r\n    <v-row>\r\n      <v-col>\r\n        <v-card class=\"text-no-wrap my-2 px-2\" :disabled=\"!cardInfo.data.length\">\r\n          <v-row align=\"center\">\r\n            <v-col cols=\"4\">\r\n              <v-img :src=\"cardInfo.icon\" width=\"70\" />\r\n            </v-col>\r\n            <v-col>\r\n              <v-card-title>\r\n                {{ cardInfo.data.length }}\r\n                <v-btn\r\n                  v-if=\"cardInfo.data.length\"\r\n                  @click=\"showBottomSheet\"\r\n                  icon\r\n                  small\r\n                >\r\n                  <v-icon small color=\"accent\">\r\n                    mdi-eye-settings-outline\r\n                  </v-icon>\r\n                </v-btn>\r\n              </v-card-title>\r\n              <v-card-subtitle>\r\n                {{ cardInfo.title }}\r\n              </v-card-subtitle>\r\n            </v-col>\r\n          </v-row>\r\n        </v-card>\r\n      </v-col>\r\n    </v-row>\r\n    <v-bottom-sheet v-model=\"bottomSheet\" scrollable>\r\n      <v-card>\r\n        <Header\r\n          closable=\"1\"\r\n          :title=\"cardInfo.title\"\r\n          subtitle=\"\"\r\n          @hideInterface=\"bottomSheet = false\"\r\n        />\r\n        <v-card-text>\r\n          <QueryResult :result=\"cardInfo.data\" :mobile=\"mobile\" />\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-bottom-sheet>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport QueryResult from '@/components/corrective/QueryResult'\r\nimport Header from '@/components/generals/Header'\r\n\r\nexport default {\r\n\r\n  name: 'DashboardCard',\r\n  components: { QueryResult, Header },\r\n  props: ['cardInfo', 'mobile'],\r\n  \r\n  data: () => {\r\n    return {\r\n      bottomSheet: false\r\n    }\r\n  },\r\n  \r\n  methods: {\r\n    showBottomSheet () {\r\n      this.bottomSheet = true\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DashboardCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DashboardCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DashboardCard.vue?vue&type=template&id=60cae88e&\"\nimport script from \"./DashboardCard.vue?vue&type=script&lang=js&\"\nexport * from \"./DashboardCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBottomSheet } from 'vuetify/lib/components/VBottomSheet';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBottomSheet,VBtn,VCard,VCardSubtitle,VCardText,VCardTitle,VCol,VContainer,VIcon,VImg,VRow})\n","<template>\r\n  <v-container>\r\n    <Header title=\"Inicio\" :subtitle=\"`Estado general del servicio - ${thisYear}`\" />\r\n    <v-row>\r\n      <v-col v-for=\"card, index in cards\" :key=\"index\" :cols=\"mobile ? 12 : 4\">\r\n        <DashboardCard :cardInfo=\"card\" :mobile=\"mobile\" />\r\n      </v-col>\r\n    </v-row>\r\n    <v-row>\r\n      <v-col>\r\n        <v-card>\r\n          <v-card-title>Asignaciones del día</v-card-title>\r\n          <v-chip-group mandatory active-class=\"primary--text\" light>\r\n            <v-icon>mdi-filter</v-icon>\r\n            <v-chip @click=\"showTodays = true\" small>\r\n              {{ today }}\r\n            </v-chip>\r\n            <v-chip @click=\"showTodays = false\" small>\r\n              {{ nextWorkingDay }}\r\n            </v-chip>\r\n          </v-chip-group>\r\n          <QueryResult :result=\"showTodays ? todaySchedule : nextDaySchedule\" :mobile=\"mobile\" />\r\n        </v-card>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row>\r\n      <v-col :cols=\"mobile ? 12 : 6\">\r\n        <v-sheet class=\"pa-3\" v-if=\"updatingState\">\r\n          <v-skeleton-loader\r\n            class=\"mx-auto\"\r\n            max-width=\"300\"\r\n            type=\"card\"\r\n          ></v-skeleton-loader>\r\n        </v-sheet>\r\n        <Graph v-else id=\"dashboardGraph2\" :updatingState=\"updatingState\"\r\n          :chartData=\"servicesXMonth\" title=\"Servicios por mes\" :subtitle=\"thisYear\"\r\n        />\r\n      </v-col>\r\n      <v-col :cols=\"mobile ? 12 : 6\">\r\n        <v-sheet class=\"pa-3\" v-if=\"updatingState\">\r\n          <v-skeleton-loader\r\n            class=\"mx-auto\"\r\n            max-width=\"300\"\r\n            type=\"card\"\r\n          ></v-skeleton-loader>\r\n        </v-sheet>\r\n        <Graph v-else id=\"dashboardGraph1\" :updatingState=\"updatingState\"\r\n          :chartData=\"servicesXState\" title=\"Servicios por estado\" :subtitle=\"thisYear\"\r\n        />\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { mapState, mapGetters } from 'vuex'\r\nimport Header from '@/components/generals/Header'\r\nimport moment from 'moment-timezone'\r\nimport Graph from '@/components/generals/Graph'\r\nimport DashboardCard from '@/components/generals/DashboardCard'\r\nimport QueryResult from '@/components/corrective/QueryResult'\r\nimport { states } from '../helpers/form'\r\n\r\nexport default {\r\n  name: 'Dashboard',\r\n  components: { Header, DashboardCard, QueryResult, Graph },\r\n  \r\n  data:() => ({ showTodays: true, states }),\r\n\r\n  computed: {\r\n\r\n    ...mapState(['collections', 'updatingState']),\r\n    ...mapGetters(['formOptions']),\r\n\r\n    mobile () {\r\n      return this.$vuetify.breakpoint.name === 'xs' || this.$vuetify.breakpoint.name === 'sm'\r\n    },\r\n\r\n    cards () {\r\n      return [\r\n        { data: this.nextToExpire, title: 'Próximos a vencer', icon: require('@/assets/svg/reminder.svg') },\r\n        { data: this.collections.Closed, title: `Cerrados - ${moment(new Date()).format('yyyy')}` , icon: require('@/assets/svg/calendar.svg') },\r\n        { data: this.expiredServices, title: 'SLA Vencido', icon: require('@/assets/svg/deadline.svg') }\r\n      ]\r\n    },\r\n    \r\n    today () {\r\n      return moment(new Date()).format('dddd')\r\n    },  \r\n\r\n    nextWorkingDay () {\r\n      let daysToAdd = 1\r\n      if (this.today === 'viernes') daysToAdd = 3\r\n      if (this.today === 'sábado') daysToAdd = 2\r\n      return moment(new Date()).add(daysToAdd, 'days').format('dddd')\r\n    },\r\n\r\n    todaySchedule () {\r\n      const todayFilter = service =>\r\n        moment(service.schedule.scheduledDate).parseZone('America/Caracas').format('D-M-yy') === moment(new Date()).format('D-M-yy')\r\n      const allServices = [...this.collections.Active, ...this.collections.Closed, ...this.collections.Maintenance]\r\n      const todaySchedule = allServices.filter(todayFilter)\r\n      return todaySchedule\r\n    },\r\n\r\n    nextDaySchedule () {\r\n      let daysToAdd = 1\r\n      if (this.today === 'viernes') daysToAdd = 3\r\n      if (this.today === 'sábado') daysToAdd = 2\r\n      const tomorrowFilter = service =>\r\n        moment(service.schedule.scheduledDate).parseZone('America/Caracas').format('D-M-yy') === moment(new Date()).add(daysToAdd, 'days').format('D-M-yy')\r\n      const allServices = [...this.collections.Active, ...this.collections.Closed, ...this.collections.Maintenance]\r\n      const nextDaySchedule = allServices.filter(tomorrowFilter)\r\n      return nextDaySchedule\r\n    },\r\n\r\n    nextToExpire () {\r\n      const reports = this.collections.Active.filter(service => !service.itsSpecial)\r\n      const nextToExpire = reports.filter(report => moment(report.expireDate)\r\n        .diff(new Date(), 'hours') < 15\r\n        && moment(report.expireDate)\r\n        .diff(new Date(), 'hours') > -1)\r\n      return nextToExpire\r\n    },\r\n\r\n    expiredServices () {\r\n      return this.collections.Closed.filter(service => service.expired)\r\n    },\r\n\r\n    thisYear () {\r\n      return moment(new Date()).format('YYYY')\r\n    },\r\n    \r\n    corrective () {\r\n      return [...this.collections.Active, ...this.collections.Closed]\r\n    },\r\n\r\n    servicesXMonth () {\r\n      const labels = [\r\n        'enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio',\r\n        'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre'\r\n      ]\r\n      const type = 'bar'\r\n      const options = {}\r\n      const data = {\r\n        labels,\r\n        datasets: [\r\n          { label: 'Correctivo', data: [], backgroundColor: this.$vuetify.theme.currentTheme.primary, borderRadius: 5 },\r\n          { label: 'Preventivo', data: [], backgroundColor: this.$vuetify.theme.currentTheme.accent, borderRadius: 5 }\r\n        ]\r\n      }\r\n      for (const label of labels) {\r\n        const monthServices = service => moment(service.schedule.scheduledDate).format('MMMM') === label\r\n        data.datasets[0].data.push(this.corrective.filter(monthServices).length)\r\n        data.datasets[1].data.push(this.collections.Maintenance.filter(monthServices).length)\r\n      }\r\n      return { type, data, options }\r\n    },\r\n\r\n    servicesXState () {\r\n      const type = 'line'\r\n      const options = {}\r\n      const data = {\r\n        labels: this.states,\r\n        datasets: [\r\n          { label: 'Correctivo', data: [], borderColor: this.$vuetify.theme.currentTheme.primary },\r\n          { label: 'Preventivo', data: [], borderColor: this.$vuetify.theme.currentTheme.accent  }\r\n        ]\r\n      }\r\n      for (const state of data.labels) {\r\n        const stateServices = service => service.officeState === state\r\n        data.datasets[0].data.push(this.corrective.filter(stateServices).length)\r\n        data.datasets[1].data.push(this.collections.Maintenance.filter(stateServices).length)\r\n      }\r\n      return { type, data, options }\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dashboard.vue?vue&type=template&id=2191c395&\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\ninstallComponents(component, {VCard,VCardTitle,VChip,VChipGroup,VCol,VContainer,VIcon,VRow,VSheet,VSkeletonLoader})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"title\":\"Mantenimiento correctivo\",\"subtitle\":\"Bandeja de servicios activos\"}}),_c('v-row',{attrs:{\"justify\":\"center\"}},_vm._l((_vm.cards),function(card,index){return _c('v-col',{key:index,attrs:{\"cols\":_vm.mobile ? 12 : 3}},[_c('DashboardCard',{attrs:{\"cardInfo\":card,\"mobile\":_vm.mobile}})],1)}),1),_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[(_vm.updatingState)?_c('v-sheet',{staticClass:\"pa-3\"},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"300\",\"type\":\"card\"}})],1):_c('Graph',{attrs:{\"id\":\"correctiveGraph2\",\"updatingState\":_vm.updatingState,\"chartData\":_vm.servicesXClient,\"title\":\"Servicios por cliente\",\"subtitle\":(\"Mantenimiento correctivo - \" + _vm.thisYear)}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[(_vm.updatingState)?_c('v-sheet',{staticClass:\"pa-3\"},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"300\",\"type\":\"card\"}})],1):_c('Graph',{attrs:{\"id\":\"correctiveGraph3\",\"updatingState\":_vm.updatingState,\"chartData\":_vm.servicesXTechnician,\"title\":\"Servicios por técnico\",\"subtitle\":(\"Mantenimiento correctivo - \" + _vm.thisYear)}})],1)],1),_c('v-row',{attrs:{\"justify\":\"space-between\"}},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 8}},[(_vm.updatingState)?_c('v-skeleton-loader',{attrs:{\"type\":\"image\",\"width\":\"100%\"}}):_vm._e(),(_vm.updatingState)?_c('v-skeleton-loader',{attrs:{\"type\":\"image\",\"width\":\"100%\"}}):_c('CorrectivePanels',{attrs:{\"mobile\":_vm.mobile,\"collections\":_vm.collections,\"orderedServices\":_vm.orderedServices},on:{\"searchRelated\":function (service) { return _vm.searchRelated(service, _vm.notifyAnyway = true); }}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 4}},[(_vm.updatingState)?_c('v-sheet',{staticClass:\"pa-3\"},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"300\",\"type\":\"card\"}})],1):_c('Graph',{attrs:{\"id\":\"correctiveGraph1\",\"updatingState\":_vm.updatingState,\"chartData\":_vm.servicesXStatus,\"title\":\"Estatus de servicios\",\"subtitle\":(\"Mantenimiento correctivo - \" + _vm.thisYear)}})],1)],1),_c('MainButton',{attrs:{\"disabled\":_vm.$store.state.session.user.userRole > 2,\"updatingState\":_vm.updatingState},on:{\"showForm\":function($event){_vm.dialog = true}}}),_c('v-dialog',{attrs:{\"width\":_vm.mobile ? '90%' : '60%',\"persistent\":\"\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[(_vm.dialog)?_c('CorrectiveForm',{attrs:{\"mobile\":_vm.mobile,\"collections\":_vm.collections},on:{\"hideInterface\":function($event){_vm.dialog = false},\"searchRelated\":_vm.searchRelated}}):_vm._e()],1)],1),_c('v-snackbar',{attrs:{\"dark\":\"\",\"outlined\":\"\",\"timeout\":2000,\"rounded\":\"pill\",\"centered\":\"\",\"transition\":\"fab-transition\"},model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',[_c('span',{staticClass:\"white--text\"},[_vm._v(\" \"+_vm._s(_vm.snackbarMessage)+\" \")])]),_c('v-col',{attrs:{\"cols\":\"2\"}},[_c('v-btn',{attrs:{\"color\":_vm.snackbarIconColor,\"fab\":\"\",\"outlined\":\"\",\"small\":\"\"},nativeOn:{\"click\":function($event){_vm.snackbar = false}}},[_c('v-icon',[_vm._v(\" \"+_vm._s(_vm.snackbarIcon)+\" \")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-tooltip',{attrs:{\"left\":\"\",\"color\":\"primary\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({class:(\"mb-15 mr-10\" + (_vm.disabled ? '' : ' gradients')),attrs:{\"disabled\":_vm.disabled,\"loading\":_vm.updatingState,\"absolute\":\"\",\"dark\":!_vm.disabled,\"bottom\":\"\",\"fixed\":\"\",\"right\":\"\",\"fab\":\"\"},on:{\"click\":function($event){return _vm.$emit('showForm')}}},on),[_c('v-icon',[_vm._v(\"mdi-plus\")])],1)]}}])},[_vm._v(\" Agregar \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <v-tooltip left color=\"primary\">\r\n      <template v-slot:activator=\"{ on }\">\r\n        <v-btn\r\n          :class=\"`mb-15 mr-10${disabled ? '' : ' gradients'}`\"\r\n          :disabled=\"disabled\"\r\n          :loading=\"updatingState\"\r\n          v-on=\"on\"\r\n          absolute\r\n          :dark=\"!disabled\"\r\n          bottom\r\n          fixed\r\n          right\r\n          fab\r\n          @click=\"$emit('showForm')\"\r\n        >\r\n          <v-icon>mdi-plus</v-icon>\r\n        </v-btn>\r\n      </template>\r\n      Agregar\r\n    </v-tooltip>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'MainButton',\r\n  props: ['updatingState', 'disabled']\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainButton.vue?vue&type=template&id=28f08186&\"\nimport script from \"./MainButton.vue?vue&type=script&lang=js&\"\nexport * from \"./MainButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VContainer,VIcon,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"closable\":\"1\",\"title\":\"Formulario de registro\",\"subtitle\":\"Complete la información del servicio\"},on:{\"hideInterface\":function($event){return _vm.$emit('hideInterface')}}}),_c('v-stepper',{attrs:{\"vertical\":\"\"},model:{value:(_vm.activeStep),callback:function ($$v) {_vm.activeStep=$$v},expression:\"activeStep\"}},[_c('v-stepper-step',{attrs:{\"step\":\"1\",\"editable\":\"\",\"complete\":_vm.step1Completed}},[_vm._v(\" Origen del servicio \")]),_c('v-stepper-content',{attrs:{\"step\":\"1\"}},[_c('v-form',{ref:\"step1Completed\",on:{\"submit\":function($event){$event.preventDefault();}},model:{value:(_vm.step1Completed),callback:function ($$v) {_vm.step1Completed=$$v},expression:\"step1Completed\"}},[_c('v-switch',{staticClass:\"ml-4\",attrs:{\"label\":\"Servicio especial\"},model:{value:(_vm.serviceForm.itsSpecial),callback:function ($$v) {_vm.$set(_vm.serviceForm, \"itsSpecial\", $$v)},expression:\"serviceForm.itsSpecial\"}}),_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile? 12 : 6}},[_c('v-switch',{staticClass:\"ml-4\",attrs:{\"label\":\"Sin código\"},model:{value:(_vm.requiresCorrelate),callback:function ($$v) {_vm.requiresCorrelate=$$v},expression:\"requiresCorrelate\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile? 12 : 6}},[_c('v-text-field',{attrs:{\"label\":\"Código\",\"rules\":_vm.requiresCorrelate ? [] : _vm.rules.noSpaces,\"disabled\":_vm.requiresCorrelate,\"maxlength\":20},model:{value:(_vm.serviceForm.reportCode),callback:function ($$v) {_vm.$set(_vm.serviceForm, \"reportCode\", $$v)},expression:\"serviceForm.reportCode\"}})],1)],1),_c('v-btn',{staticClass:\"mb-3\",attrs:{\"disabled\":!_vm.step1Completed,\"color\":\"primary\",\"text\":\"\",\"block\":\"\"},on:{\"click\":function($event){_vm.activeStep++}}},[_vm._v(\" Continuar \")])],1)],1),_c('v-stepper-step',{attrs:{\"step\":\"2\",\"editable\":_vm.step1Completed,\"complete\":_vm.step2Completed}},[_vm._v(\" Información específica \")]),_c('v-stepper-content',{attrs:{\"step\":\"2\"}},[_c('v-form',{ref:\"step2Completed\",model:{value:(_vm.step2Completed),callback:function ($$v) {_vm.step2Completed=$$v},expression:\"step2Completed\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-switch',{staticClass:\"ml-4\",attrs:{\"label\":\"Sin serial\"},model:{value:(_vm.serialNotSubmitted),callback:function ($$v) {_vm.serialNotSubmitted=$$v},expression:\"serialNotSubmitted\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-text-field',{attrs:{\"readonly\":_vm.serialNotSubmitted,\"rules\":_vm.rules.required,\"maxlength\":30,\"label\":\"#Serial\"},model:{value:(_vm.serviceForm.serialCode),callback:function ($$v) {_vm.$set(_vm.serviceForm, \"serialCode\", $$v)},expression:\"serviceForm.serialCode\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-textarea',{attrs:{\"rules\":_vm.rules.required,\"maxlength\":150,\"label\":\"Descripción\",\"outlined\":\"\",\"counter\":\"\"},model:{value:(_vm.serviceForm.description),callback:function ($$v) {_vm.$set(_vm.serviceForm, \"description\", $$v)},expression:\"serviceForm.description\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 6 : 3}},[_c('DateMenu',{on:{\"setDate\":function (date) { return _vm.dateSubmitted = date; }}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 6 : 3}},[_c('TimeMenu',{on:{\"setTime\":function (time) { return _vm.timeSubmitted = time; }}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-text-field',{attrs:{\"error-messages\":_vm.itIsWeekend(_vm.dateSubmitted)\n                ? 'Seleccione un día de la semana'\n                : '',\"rules\":_vm.rules.required,\"label\":\"Fecha de reporte\",\"readonly\":\"\"},model:{value:(_vm.friendlyDate),callback:function ($$v) {_vm.friendlyDate=$$v},expression:\"friendlyDate\"}}),_c('v-text-field',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],attrs:{\"rules\":_vm.rules.required},model:{value:(_vm.timeSubmitted),callback:function ($$v) {_vm.timeSubmitted=$$v},expression:\"timeSubmitted\"}})],1)],1),_c('v-btn',{staticClass:\"mb-3\",attrs:{\"disabled\":!_vm.step2Completed,\"color\":\"primary\",\"text\":\"\",\"block\":\"\"},on:{\"click\":function($event){_vm.activeStep++}}},[_vm._v(\" Continuar \")])],1)],1),_c('v-stepper-step',{attrs:{\"step\":\"3\",\"editable\":_vm.step2Completed}},[_vm._v(\" Información general \")]),_c('v-stepper-content',{attrs:{\"step\":\"3\"}},[_c('v-chip-group',{attrs:{\"multiple\":\"\",\"row\":\"\"}},_vm._l((_vm.suggestions),function(suggestion,index){return _c('span',{key:index},[(suggestion.value)?_c('v-chip',{attrs:{\"color\":suggestion.value === _vm.serviceForm[suggestion.key]\n              ? 'accent'\n              : 'light',\"disabled\":!_vm.formListings[suggestion.key].find(function (item) { return item === suggestion.value; }),\"small\":\"\"},on:{\"click\":function($event){return _vm.acceptSuggestion(suggestion)}}},[_vm._v(\" \"+_vm._s(suggestion.value)+\" \")]):_vm._e()],1)}),0),_c('v-form',{ref:\"step3Completed\",model:{value:(_vm.step3Completed),callback:function ($$v) {_vm.step3Completed=$$v},expression:\"step3Completed\"}},[_c('v-row',[_c('v-col',[_c('v-autocomplete',{attrs:{\"items\":_vm.formListings.clientName,\"rules\":_vm.rules.required,\"label\":\"Cliente\"},on:{\"&change\":function($event){_vm.serviceForm.productName = ''}},model:{value:(_vm.serviceForm.clientName),callback:function ($$v) {_vm.$set(_vm.serviceForm, \"clientName\", $$v)},expression:\"serviceForm.clientName\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-autocomplete',{attrs:{\"items\":_vm.formListings.officeName,\"disabled\":!_vm.serviceForm.clientName,\"rules\":_vm.rules.required,\"label\":\"Oficina\"},model:{value:(_vm.serviceForm.officeName),callback:function ($$v) {_vm.$set(_vm.serviceForm, \"officeName\", $$v)},expression:\"serviceForm.officeName\"}})],1)],1),_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"space-between\"}},[_c('v-col',[_c('v-autocomplete',{attrs:{\"items\":_vm.formListings.productName,\"disabled\":!_vm.serviceForm.clientName,\"rules\":_vm.rules.required,\"label\":\"Producto\"},model:{value:(_vm.serviceForm.productName),callback:function ($$v) {_vm.$set(_vm.serviceForm, \"productName\", $$v)},expression:\"serviceForm.productName\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-autocomplete',{attrs:{\"items\":_vm.formListings.category,\"disabled\":!_vm.serviceForm.productName,\"rules\":_vm.rules.required,\"label\":\"Categoria\"},model:{value:(_vm.serviceForm.category),callback:function ($$v) {_vm.$set(_vm.serviceForm, \"category\", $$v)},expression:\"serviceForm.category\"}})],1)],1),_c('v-btn',{staticClass:\"mb-3\",attrs:{\"disabled\":!_vm.step1Completed || !_vm.step2Completed || !_vm.step3Completed,\"loading\":_vm.loader,\"color\":\"primary\",\"block\":\"\"},on:{\"click\":function($event){return _vm.save(_vm.serviceForm)}}},[_vm._v(\" Registrar \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <Header\r\n      closable=\"1\"\r\n      title=\"Formulario de registro\"\r\n      subtitle=\"Complete la información del servicio\"\r\n      @hideInterface=\"$emit('hideInterface')\"\r\n    />\r\n    <v-stepper v-model=\"activeStep\" vertical>\r\n      <v-stepper-step step=\"1\" editable :complete=\"step1Completed\">\r\n        Origen del servicio\r\n      </v-stepper-step>\r\n      <v-stepper-content step=\"1\">\r\n        <v-form @submit.prevent v-model=\"step1Completed\" ref=\"step1Completed\">\r\n          <v-switch class=\"ml-4\" v-model=\"serviceForm.itsSpecial\" label=\"Servicio especial\" />\r\n          <v-row>\r\n            <v-col :cols=\"mobile? 12 : 6\">\r\n              <v-switch class=\"ml-4\" v-model=\"requiresCorrelate\" label=\"Sin código\" />\r\n            </v-col>\r\n            <v-col :cols=\"mobile? 12 : 6\">\r\n              <v-text-field\r\n                v-model=\"serviceForm.reportCode\"\r\n                label=\"Código\"\r\n                :rules=\"requiresCorrelate ? [] : rules.noSpaces\"\r\n                :disabled=\"requiresCorrelate\"\r\n                :maxlength=\"20\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-btn\r\n            class=\"mb-3\"\r\n            @click=\"activeStep++\"\r\n            :disabled=\"!step1Completed\"\r\n            color=\"primary\"\r\n            text block\r\n          >\r\n            Continuar\r\n          </v-btn>\r\n        </v-form>\r\n      </v-stepper-content>\r\n\r\n      <v-stepper-step step=\"2\" :editable=\"step1Completed\" :complete=\"step2Completed\">\r\n        Información específica\r\n      </v-stepper-step>\r\n\r\n      <v-stepper-content step=\"2\">\r\n        <v-form v-model=\"step2Completed\" ref=\"step2Completed\">\r\n          <v-row>\r\n            <v-col :cols=\"mobile ? 12 : 6\">\r\n              <v-switch class=\"ml-4\" v-model=\"serialNotSubmitted\" label=\"Sin serial\" />\r\n            </v-col>\r\n            <v-col :cols=\"mobile ? 12 : 6\">\r\n              <v-text-field\r\n                v-model=\"serviceForm.serialCode\"\r\n                :readonly=\"serialNotSubmitted\"\r\n                :rules=\"rules.required\"\r\n                :maxlength=\"30\"\r\n                label=\"#Serial\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-row>\r\n            <v-col>\r\n              <v-textarea\r\n                v-model=\"serviceForm.description\"\r\n                :rules=\"rules.required\"\r\n                :maxlength=\"150\"\r\n                label=\"Descripción\"\r\n                outlined\r\n                counter\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-row>\r\n            <v-col :cols=\"mobile ? 6 : 3\">\r\n              <DateMenu @setDate=\"(date) => dateSubmitted = date\" />\r\n            </v-col>\r\n            <v-col :cols=\"mobile ? 6 : 3\">\r\n              <TimeMenu @setTime=\"(time) => timeSubmitted = time\" />\r\n            </v-col>\r\n            <v-col :cols=\"mobile ? 12 : 6\">\r\n              <v-text-field\r\n                v-model=\"friendlyDate\"\r\n                :error-messages=\"itIsWeekend(dateSubmitted)\r\n                  ? 'Seleccione un día de la semana'\r\n                  : ''\r\n                \"\r\n                :rules=\"rules.required\"\r\n                label=\"Fecha de reporte\"\r\n                readonly\r\n              />\r\n              <v-text-field\r\n                v-model=\"timeSubmitted\"\r\n                v-show=\"false\"\r\n                :rules=\"rules.required\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-btn\r\n            class=\"mb-3\"\r\n            @click=\"activeStep++\"\r\n            :disabled=\"!step2Completed\"\r\n            color=\"primary\"\r\n            text block\r\n          >\r\n            Continuar\r\n          </v-btn>\r\n        </v-form>\r\n      </v-stepper-content>\r\n\r\n      <v-stepper-step step=\"3\" :editable=\"step2Completed\">\r\n        Información general\r\n      </v-stepper-step>\r\n\r\n      <v-stepper-content step=\"3\">\r\n\r\n        <v-chip-group multiple row>\r\n          <span v-for=\"suggestion, index of suggestions\" :key=\"index\">\r\n            <v-chip\r\n              @click=\"acceptSuggestion(suggestion)\"\r\n              v-if=\"suggestion.value\"\r\n              :color=\"suggestion.value === serviceForm[suggestion.key]\r\n                ? 'accent'\r\n                : 'light'\"\r\n              :disabled=\"!formListings[suggestion.key].find(item => item === suggestion.value)\"\r\n              small\r\n            >\r\n              {{ suggestion.value }}\r\n            </v-chip>\r\n          </span>\r\n        </v-chip-group>\r\n\r\n        <v-form ref=\"step3Completed\" v-model=\"step3Completed\">\r\n          <v-row>\r\n            <v-col>\r\n              <v-autocomplete\r\n                v-model=\"serviceForm.clientName\"\r\n                :items=\"formListings.clientName\"\r\n                :rules=\"rules.required\"\r\n                label=\"Cliente\"\r\n                @change.passive=\"serviceForm.productName = ''\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-row>\r\n            <v-col>\r\n              <v-autocomplete\r\n                v-model=\"serviceForm.officeName\"\r\n                :items=\"formListings.officeName\"\r\n                :disabled=\"!serviceForm.clientName\"\r\n                :rules=\"rules.required\"\r\n                label=\"Oficina\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-row align=\"center\" justify=\"space-between\">\r\n            <v-col>\r\n              <v-autocomplete\r\n                v-model=\"serviceForm.productName\"\r\n                :items=\"formListings.productName\"\r\n                :disabled=\"!serviceForm.clientName\"\r\n                :rules=\"rules.required\"\r\n                label=\"Producto\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-row>\r\n            <v-col>\r\n              <v-autocomplete\r\n                v-model=\"serviceForm.category\"\r\n                :items=\"formListings.category\"\r\n                :disabled=\"!serviceForm.productName\"\r\n                :rules=\"rules.required\"\r\n                label=\"Categoria\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-btn\r\n            class=\"mb-3\"\r\n            @click=\"save(serviceForm)\"\r\n            :disabled=\"!step1Completed || !step2Completed || !step3Completed\"\r\n            :loading=\"loader\"\r\n            color=\"primary\"\r\n            block\r\n          >\r\n            Registrar\r\n          </v-btn>\r\n        </v-form>\r\n      </v-stepper-content>\r\n    </v-stepper>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport moment from 'moment-timezone'\r\nimport { mapActions, mapMutations, mapGetters } from 'vuex'\r\nimport { rules } from '@/helpers/form.js'\r\nimport Header from '@/components/generals/Header'\r\nimport DateMenu from '@/components/generals/DateMenu'\r\nimport TimeMenu from '@/components/generals/TimeMenu'\r\n\r\nmoment.locale('es')\r\n\r\nexport default Vue.extend({\r\n\r\n  name: 'CorrectiveForm',\r\n  components: { Header, DateMenu, TimeMenu },\r\n  props: ['collections', 'mobile', 'editing'],\r\n\r\n  data: () => ({\r\n    // Form data\r\n    serviceForm: {\r\n      clientName: '',\r\n      productName: '',\r\n      officeName: '',\r\n      category: '',\r\n      reportCode: '',\r\n      description: '',\r\n      itsSpecial: false\r\n    },\r\n    rules,\r\n    friendlyDate: '',\r\n    timeSubmitted: '',\r\n    requiresCorrelate: false,\r\n    serialNotSubmitted: false,\r\n    dateSubmitted: new Date().toISOString().substr(0, 10),\r\n\r\n    // Vuetify components\r\n    activeStep: 1,\r\n    datePicker: false,\r\n    timePicker: false,\r\n    step1Completed: false,\r\n    step2Completed: false,\r\n    step3Completed: false,\r\n\r\n    // Autocomplete\r\n    suggestions: [\r\n      { key: 'clientName', value: '' },\r\n      { key: 'officeName', value: '' },\r\n      { key: 'productName', value: '' },\r\n      { key: 'category', value: '' }\r\n    ],\r\n    loader: false\r\n\r\n  }),\r\n\r\n  created () {\r\n    if (this.editing) {\r\n      this.serviceForm = Object.assign({}, this.editing)\r\n      this.serialNotSubmitted = this.serviceForm.serialCode === 'SIN SERIAL'\r\n      this.dateSubmitted = moment(this.editing.reportedAt).parseZone('America/Caracas').format('YYYY-MM-D')\r\n      this.timeSubmitted = moment(this.editing.reportedAt).parseZone('America/Caracas').format('HH:mm')\r\n    }\r\n  },\r\n\r\n  computed: {\r\n\r\n    ...mapGetters(['formOptions']),\r\n\r\n    formListings () {\r\n      // alias\r\n      const _ = this.collections\r\n      const form = this.serviceForm\r\n\r\n      const clientName = form.itsSpecial\r\n        ? this.formOptions.clientNames\r\n        : this.formOptions.clientsWithContract.map(client => client.clientName)\r\n\r\n      const officeName = form.clientName\r\n        ? _.Office.filter(office => office.clientName === form.clientName).map(office => office.officeName)\r\n        : []\r\n\r\n      let productName = []\r\n\r\n      if (form.itsSpecial) productName = _.Product.map(product => product.productName)\r\n      else if (this.clientContract) productName = this.clientContract.products.map(product => product.productName)\r\n\r\n      const category = form.productName\r\n        ? _.Product.find(product => product.productName === form.productName).categories\r\n        : this.formOptions.categories\r\n\r\n      return { category, clientName, officeName, productName }\r\n    },\r\n\r\n    clientContract () {\r\n      const client = this.collections.Client.find(client => client.clientName === this.serviceForm.clientName)\r\n      return (client) ? client.contracts.find(contract => contract.active) : undefined\r\n    },\r\n\r\n    officeInfo () {\r\n      return this.serviceForm.officeName\r\n        ? this.collections.Office.find(office => office.officeName === this.serviceForm.officeName)\r\n        : {}\r\n    }\r\n\r\n  },\r\n\r\n  methods: {\r\n\r\n    ...mapActions(['createDocument', 'updateDocument', 'findDocuments']),\r\n    ...mapMutations(['showSnackbar']),\r\n\r\n    itIsWeekend (date) {\r\n      return moment(date).format('dddd') === 'sábado' || moment(date).format('dddd') === 'domingo'\r\n    },\r\n\r\n    findSuggestions (form) {\r\n      this.findSuggestion(\r\n        'reportCode',\r\n        form.reportCode,\r\n        'clientName',\r\n        [...this.collections.Active, ...this.collections.Closed]\r\n      )\r\n      this.findSuggestion(\r\n        'serialCode',\r\n        form.serialCode,\r\n        'productName',\r\n        [...this.collections.Active, ...this.collections.Closed]\r\n      )\r\n      this.findFromLongString(form.description, 'category', this.formListings.category)\r\n    },\r\n\r\n    findOffice (serialCode) {\r\n      let suggestedOffice = this.suggestions.find(item => item.key === 'officeName')\r\n\r\n      const findOnServices = product => product.serialCode === serialCode\r\n      const findOnInventory = office => office.inventory.find(product => product.serialCode === serialCode)\r\n\r\n      const matchOnInventory = this.collections.Office.find(findOnInventory)\r\n      if (matchOnInventory) return suggestedOffice.value = matchOnInventory.officeName\r\n\r\n      const matchOnService = this.collections.Closed.find(findOnServices)\r\n      if (matchOnService) return suggestedOffice.value = matchOnService.officeName\r\n\r\n      else suggestedOffice.value = ''\r\n    },\r\n\r\n    findSpecificSerial (serialCode) {\r\n      let suggestedProduct = this.suggestions.find(item => item.key === 'productName')\r\n\r\n      const findOnServices = product => product.serialCode === serialCode\r\n      const findOffice = office => office.inventory.find(product => product.serialCode === serialCode)\r\n\r\n      const matchOnInventory = this.collections.Office.find(findOffice)\r\n      if (matchOnInventory) {\r\n        suggestedProduct.value = matchOnInventory.inventory.find(product => product.serialCode === serialCode).productName\r\n        return\r\n      }\r\n\r\n      const matchOnService = this.collections.Closed.find(findOnServices)\r\n      if (matchOnService) return suggestedProduct.value = matchOnService.productName\r\n      else suggestedProduct.value = ''\r\n    },\r\n\r\n    findSuggestion (submittedKey, submittedValue, requiredKey, searchIn) {\r\n      if (!submittedValue) return\r\n      if (submittedValue.length < 3) return\r\n      if (submittedKey === 'reportCode' && this.requiresCorrelate) return\r\n      if (submittedKey === 'serialCode' && this.serialNotSubmitted) return\r\n      let setIn = this.suggestions.find(item => item.key === requiredKey)\r\n\r\n      const suggestion = searchIn.find(item => item[submittedKey].substr(0, 3) === submittedValue.substr(0, 3)) \r\n\r\n      if (suggestion) setIn.value = suggestion[requiredKey]\r\n      else setIn.value = ''\r\n\r\n      if (submittedKey === 'serialCode') this.findOffice(this.serviceForm.serialCode)\r\n      const suggestedProduct = this.suggestions.find(item => item.key === 'productName').value\r\n      if (submittedKey === 'serialCode' && suggestedProduct === '') this.findSpecificSerial(this.serviceForm.serialCode)\r\n    },\r\n\r\n    findFromLongString (submittedValue, requiredKey, searchIn) {\r\n      if (!submittedValue) return\r\n      if (submittedValue.length < 3) return\r\n\r\n      let keyWords = submittedValue.split(' ')\r\n      keyWords = keyWords.filter(a => a.length > 3)\r\n      let setIn = this.suggestions.find(item => item.key === requiredKey)\r\n\r\n      for (const option of searchIn) {\r\n        for (const keyWord of keyWords) {\r\n          const match = option.toLowerCase().match(keyWord.toLowerCase())\r\n          if (match) return setIn.value = option\r\n          else setIn.value = ''\r\n        }\r\n      }\r\n      \r\n    },\r\n\r\n    acceptSuggestion (suggestion) {\r\n      this.serviceForm[suggestion.key] = suggestion.value\r\n    },\r\n\r\n    getExpireDate () {\r\n      const slaInfo = this.getSLAInfo()\r\n      let expireDate\r\n\r\n      while (expireDate === undefined) {\r\n        if (slaInfo.openingDayMinutes >= slaInfo.hoursPerSLA * 60) {\r\n          expireDate = moment(slaInfo.startingDate).add(slaInfo.hoursPerSLA, 'hour').format()\r\n        } else {\r\n          if (slaInfo.minutesCount <= 540) {\r\n            expireDate = moment(slaInfo.nextDayworking).add(slaInfo.minutesCount, 'minutes').format()\r\n          } else {\r\n            slaInfo.minutesCount = slaInfo.minutesCount - 540\r\n            slaInfo.nextDayworking = this.getNextDayworking(slaInfo.nextDayworking)\r\n          }\r\n        }\r\n      }\r\n      return moment(expireDate).format('YYYY-MM-DD[T]HH:mm[:00.000+00:00]')\r\n    },\r\n\r\n    getSLAInfo () {\r\n      const clientContract = this.clientContract\r\n      const hoursPerSLA = this.officeInfo.isLocal\r\n        ? clientContract.sla.local\r\n        : clientContract.sla.foreign\r\n      const officeOpeningTime = this.officeInfo.openingHour\r\n\r\n      const submittedDate = `${this.dateSubmitted} ${this.timeSubmitted}`\r\n      const isBefore2pm = moment(submittedDate).diff(`${this.dateSubmitted} 14:30`, 'minutes') < 0\r\n      let startingDay = isBefore2pm ? this.dateSubmitted : this.getNextDayworking(moment(this.dateSubmitted))\r\n\r\n      startingDay = moment(startingDay).format('yyyy-MM-DD')\r\n      let startingTime = isBefore2pm ? this.timeSubmitted : officeOpeningTime\r\n\r\n      const startingDate = moment(`${startingDay} ${startingTime}`).format()\r\n      startingTime = officeOpeningTime === '08:30' ? '8:00' : officeOpeningTime\r\n      const limitTime = moment(`${startingDay} 17:00`).format()\r\n\r\n      let nextDayworking = moment(`${startingDay} ${startingTime}`).format()\r\n      nextDayworking = this.getNextDayworking(nextDayworking)\r\n\r\n      const openingDayMinutes = moment(limitTime).diff(startingDate, 'minutes')\r\n\r\n      let minutesCount = hoursPerSLA * 60 - openingDayMinutes\r\n      return {\r\n        minutesCount,\r\n        openingDayMinutes,\r\n        hoursPerSLA,\r\n        nextDayworking,\r\n        startingDate\r\n      }\r\n    },\r\n\r\n    getNextDayworking (date) {\r\n      let nexWorkingday\r\n\r\n      nexWorkingday = moment(date)\r\n        .add(1, 'days')\r\n        .format()\r\n\r\n      if (moment(nexWorkingday).format('dddd') === 'sábado') {\r\n        nexWorkingday = moment\r\n          .utc(date)\r\n          .add(3, 'days')\r\n          .format()\r\n      }\r\n      // const matchFormat = moment(nexWorkingday).format('yyyy-MM-DD')\r\n      // const holidays = ['2021-02-15', '2021-02-16']\r\n      // const itsHoliday = holidays.find(d => d === matchFormat)\r\n      // console.log(itsHoliday)\r\n      // if (itsHoliday) {\r\n      //   nexWorkingday = moment(date)\r\n      //     .add(1, 'days')\r\n      //     .format()\r\n      // }\r\n      return nexWorkingday\r\n    },\r\n\r\n    preventDuplicity (form) {\r\n      return new Promise ((resolve, reject) => {\r\n        const { clientName } = form\r\n        const reportCode = this.requiresCorrelate ? null : form.reportCode\r\n        const serialCode = this.serialNotSubmitted ? null : form.serialCode\r\n        const _id = this.editing ? form._id : null\r\n\r\n        const activesFilter = {\r\n          \"$or\": [\r\n            { \"$and\": [{ reportCode }, { clientName }] },\r\n            { serialCode }\r\n          ],\r\n          _id: { \"$ne\": _id }\r\n        }\r\n\r\n        const closedsFilter = {\r\n          \"$and\": [{ reportCode }, { clientName }],\r\n          _id: { \"$ne\": _id }\r\n        }\r\n        Promise.all([\r\n          this.findDocuments({ collection: 'Active', filter: activesFilter }),\r\n          this.findDocuments({ collection: 'Closed', filter: closedsFilter })\r\n        ])\r\n          .then((res) => {\r\n            const result = [...res[0], ...res[1]]\r\n            if (result.length) {\r\n              this.showSnackbar({ error: 'Registrado anteriormente, verique el código de reporte y serial' })\r\n              resolve(true)\r\n            } else {\r\n              resolve(false)\r\n            }\r\n          })\r\n          .catch(() => reject(false))\r\n      })\r\n    },\r\n\r\n    async save (newService) {\r\n      this.loader = true\r\n      const existOnDB = (!this.requiresCorrelate || !this.serialNotSubmitted)\r\n        ? await this.preventDuplicity(newService)\r\n        : false\r\n      if (existOnDB) return this.loader = false\r\n      const body = await this.completeBody(newService)\r\n      if (body.throwsError) return this.showSnackbar({ error: body.throwsError }), this.loader = false\r\n      if (this.editing) return this.update({ collection: 'Active', body })\r\n      else this.create({ collection: 'Active', body })\r\n    },\r\n\r\n    update (document) {\r\n      this.updateDocument(document)\r\n        .then(() => this.finish())\r\n        .catch(() => this.loader = false)\r\n    },\r\n\r\n    create (document) {\r\n      this.createDocument(document)\r\n        .then(() => this.finish())\r\n        .catch(() => this.loader = false)\r\n    },\r\n\r\n    finish () {\r\n      if (!this.serialNotSubmitted) this.$emit('searchRelated', Object.assign({}, this.serviceForm))\r\n      this.$emit('hideInterface')\r\n    },\r\n\r\n    getCorrelative () {\r\n      return new Promise ((resolve, reject) => {\r\n        axios.put('/Correlative', null, { headers: { 'auth-token': this.formOptions.token } })\r\n          .then(({ data }) => {\r\n            if (data.error) return resolve({ throwsError: data.error, val: null })\r\n            else resolve({ throwsError: false, val: data.val })\r\n          })\r\n          .catch(() => reject(this.showSnackbar({\r\n            error: 'Error inesperado. Verifique la conexión, recargue la página e intente nuevamente'\r\n          })))\r\n      })\r\n    },\r\n\r\n    async completeBody (form) {\r\n      if (this.requiresCorrelate) {\r\n        const correlative = await this.getCorrelative()\r\n        if (correlative.throwsError) return { throwsError: correlative.throwsError }\r\n        else form.reportCode = correlative.val\r\n      }\r\n      const observations = this.setDocumentation('')\r\n      if (this.editing) form.documentation.push(observations)\r\n      else form.documentation = this.setDocumentation('')\r\n      if (!this.serviceForm.itsSpecial) {\r\n        form.expireDate = this.getExpireDate()\r\n        const minutesLeft = moment(form.expireDate).diff(new Date(), 'minutes')\r\n        form.expired = minutesLeft < 0\r\n      } else {\r\n        form.expireDate = new Date()\r\n        form.expired = false\r\n      }\r\n\r\n      return form\r\n    },\r\n\r\n    setDocumentation (observations) {\r\n      return {\r\n        type: this.editing\r\n          ? 'Editado'\r\n          : 'Registrado',\r\n        observations,\r\n        status: this.editing\r\n          ? this.editing.status\r\n          : 'En programación',\r\n        date: this.serviceForm.reportedAt,\r\n        author: this.formOptions.user,\r\n        updatedAt: moment(Date.now()).format()\r\n      }\r\n    }\r\n  },\r\n\r\n  watch: {\r\n\r\n    serialNotSubmitted: function () {\r\n      if (this.serialNotSubmitted) this.serviceForm.serialCode = 'SIN SERIAL'\r\n      else this.serviceForm.serialCode = ''\r\n    },\r\n\r\n    activeStep: function () {\r\n      if (this.activeStep === 3) this.findSuggestions(this.serviceForm)\r\n    },\r\n\r\n    timeSubmitted: function () {\r\n      this.friendlyDate = `${moment(this.dateSubmitted).format('DD [de] MMMM,')} ${this.timeSubmitted}`\r\n      this.serviceForm.reportedAt = moment(`${this.dateSubmitted} ${this.timeSubmitted}`)\r\n        .format('YYYY-MM-DD[T]HH:mm[:00.000+00:00]')\r\n    },\r\n\r\n    dateSubmitted: function () {\r\n      this.friendlyDate = `${moment(this.dateSubmitted).format('DD [de] MMMM,')} ${this.timeSubmitted}`\r\n      this.serviceForm.reportedAt = moment(`${this.dateSubmitted} ${this.timeSubmitted}`)\r\n        .format('YYYY-MM-DD[T]HH:mm[:00.000+00:00]')\r\n    },\r\n\r\n    \"serviceForm.productName\": function () {\r\n      this.serviceForm.productType = this.serviceForm.productName\r\n        ? this.collections.Product.find(item => item.productName === this.serviceForm.productName).productType\r\n        : ''\r\n    },\r\n\r\n    \"serviceForm.officeName\": function () {\r\n      this.serviceForm.officeRegion = this.officeInfo.region\r\n      this.serviceForm.officeState = this.officeInfo.officeState\r\n      this.serviceForm.isLocal = this.officeInfo.isLocal\r\n    }\r\n\r\n  }\r\n\r\n})\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CorrectiveForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CorrectiveForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CorrectiveForm.vue?vue&type=template&id=5ff2c05a&\"\nimport script from \"./CorrectiveForm.vue?vue&type=script&lang=js&\"\nexport * from \"./CorrectiveForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VStepper } from 'vuetify/lib/components/VStepper';\nimport { VStepperContent } from 'vuetify/lib/components/VStepper';\nimport { VStepperStep } from 'vuetify/lib/components/VStepper';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VAutocomplete,VBtn,VChip,VChipGroup,VCol,VContainer,VForm,VRow,VStepper,VStepperContent,VStepperStep,VSwitch,VTextField,VTextarea})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-expansion-panels',_vm._l((_vm.orderedServices),function(client,index){return _c('v-expansion-panel',{key:index,attrs:{\"disabled\":!client.services.length}},[_c('v-expansion-panel-header',[_vm._v(\" \"+_vm._s(client.clientName)+\" \")]),_vm._l((client.services),function(service,indx){return _c('v-expansion-panel-content',{key:indx,staticClass:\"mt-2\"},[_c('CorrectivePanel',{attrs:{\"service\":service,\"mobile\":_vm.mobile},on:{\"searchRelated\":function($event){return _vm.$emit('searchRelated', service)}}})],1)})],2)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item',[_c('v-list-item-avatar',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.mobile),expression:\"!mobile\"}]},[_c('v-icon',{class:_vm.$vuetify.theme.dark ? 'dark' : 'gradients',attrs:{\"dark\":\"\"}},[_vm._v(\" mdi-label \")])],1),_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"font-weight-bold\"},[_c('v-badge',{staticClass:\"subtitle-1 font-weight-bold\",attrs:{\"value\":_vm.service.itsSpecial,\"bordered\":\"\",\"color\":\"accent\",\"icon\":\"mdi-medal-outline\"}},[_c('span',[_vm._v(_vm._s(_vm.service.reportCode))])])],1),_c('v-list-item-subtitle',{staticClass:\"subtitle-1 text-wrap\"},[_vm._v(\" \"+_vm._s(_vm.service.officeName)+\" \")]),_c('v-list-item-subtitle',{staticClass:\"subtitle-2 text-wrap\"},[_vm._v(\" \"+_vm._s(_vm.service.productType)+\" \")]),_c('v-list-item-subtitle',{staticClass:\"subtitle-2\"},[_vm._v(\" \"+_vm._s(_vm.service.serialCode)+\" \")])],1),_c('v-list-item-action',[_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.showInterface('details', _vm.service)}}},[_c('v-icon',[_vm._v(\"mdi-information-outline\")])],1),_c('v-menu',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"primary\"}},on),[_c('v-icon',[_vm._v(\"mdi-dots-vertical\")])],1)]}}])},[_c('v-list',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"dense\":\"\"}},[_c('v-list-item-group',_vm._l((_vm.actionsMenu),function(option,index){return _c('v-list-item',{key:index,attrs:{\"disabled\":option.requiredRole < _vm.$store.state.session.user.userRole},on:{\"click\":function($event){return _vm.showInterface(option.action, _vm.service)}}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(_vm._s(option.icon))])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(option.title)+\" \")])],1)],1)}),1)],1)],1)],1)],1)],1),_c('v-dialog',{attrs:{\"fullscreen\":_vm.detailsInterface,\"width\":_vm.mobile ? '90%' : '60%',\"persistent\":\"\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[(_vm.editInterface)?_c('CorrectiveForm',{attrs:{\"mobile\":_vm.mobile,\"collections\":_vm.collections,\"editing\":_vm.selectedDocument},on:{\"hideInterface\":function($event){return _vm.hideInterface('edit')}}}):_vm._e(),(_vm.detailsInterface)?_c('CorrectiveInfo',{attrs:{\"mobile\":_vm.mobile,\"selectedDocument\":_vm.selectedDocument},on:{\"hideInterface\":function($event){return _vm.hideInterface('details')}}}):_vm._e(),(_vm.inventoryInterface)?_c('MaintenanceInfo',{attrs:{\"selectedDocument\":_vm.selectedDocument},on:{\"hideInterface\":function($event){return _vm.hideInterface('inventory')}}}):_vm._e(),(_vm.scheduleInterface)?_c('CorrectiveSchedule',{attrs:{\"mobile\":_vm.mobile,\"selectedDocument\":_vm.selectedDocument},on:{\"hideInterface\":function($event){return _vm.hideInterface('schedule')}}}):_vm._e(),(_vm.updateInterface)?_c('CorrectiveUpdate',{attrs:{\"mobile\":_vm.mobile,\"selectedDocument\":_vm.selectedDocument},on:{\"hideInterface\":function($event){return _vm.hideInterface('update')}}}):_vm._e(),(_vm.deleteInterface)?_c('CorrectiveDelete',{attrs:{\"mobile\":_vm.mobile,\"selectedDocument\":_vm.selectedDocument},on:{\"hideInterface\":function($event){return _vm.hideInterface('delete')}}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"closable\":\"1\",\"title\":\"Eliminar servicio\",\"subtitle\":(\"Código: \" + (_vm.selectedDocument.reportCode))},on:{\"hideInterface\":function($event){return _vm.$emit('hideInterface')}}}),_c('v-alert',{attrs:{\"type\":\"error\",\"dense\":\"\",\"text\":\"\"}},[_vm._v(\"Esta acción es irreversible\")]),_c('v-form',{ref:\"form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.deleteService(_vm.selectedDocument)}},model:{value:(_vm.form),callback:function ($$v) {_vm.form=$$v},expression:\"form\"}},[_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-text-field',{attrs:{\"rules\":_vm.codesMatch,\"label\":\"Código del servicio\",\"hint\":\"Confirme el código del servicio\"},model:{value:(_vm.reportCode),callback:function ($$v) {_vm.reportCode=$$v},expression:\"reportCode\"}})],1)],1),_c('v-row',{staticClass:\"pb-2\",attrs:{\"align\":\"center\"}},[_c('v-col',{attrs:{\"align\":\"center\"}},[_c('v-btn',{attrs:{\"disabled\":!_vm.form,\"loading\":_vm.loader,\"color\":\"error\"},on:{\"click\":function($event){return _vm.deleteService(_vm.selectedDocument)}}},[_vm._v(\" Eliminar \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <Header\r\n      closable=\"1\"\r\n      title=\"Eliminar servicio\"\r\n      :subtitle=\"`Código: ${selectedDocument.reportCode}`\"\r\n      @hideInterface=\"$emit('hideInterface')\"\r\n    />\r\n    <v-alert type=\"error\" dense text>Esta acción es irreversible</v-alert>\r\n    <v-form @submit.prevent=\"deleteService(selectedDocument)\" ref=\"form\" v-model=\"form\">\r\n      <v-row justify=\"center\">\r\n        <v-col :cols=\"mobile ? 12 : 6\">\r\n          <v-text-field\r\n            v-model=\"reportCode\"\r\n            :rules=\"codesMatch\"\r\n            label=\"Código del servicio\"\r\n            hint=\"Confirme el código del servicio\"\r\n          />\r\n        </v-col>\r\n      </v-row>\r\n      <v-row class=\"pb-2\" align=\"center\">\r\n        <v-col align=\"center\">\r\n          <v-btn :disabled=\"!form\" @click=\"deleteService(selectedDocument)\" :loading=\"loader\" color=\"error\">\r\n            Eliminar\r\n          </v-btn>\r\n        </v-col>\r\n      </v-row>\r\n    </v-form>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Vue from 'vue'\r\nimport { mapActions } from 'vuex'\r\nimport Header from '@/components/generals/Header'\r\n\r\nexport default Vue.extend({\r\n\r\n  name: 'CorrectiveDelete',\r\n  components: { Header },\r\n  props: ['mobile', 'selectedDocument'],\r\n\r\n  data: () => ({\r\n    form: false,\r\n    reportCode: '',\r\n    loader: false\r\n  }),\r\n\r\n  computed: {\r\n\r\n    codesMatch () {\r\n      return [v => v === this.selectedDocument.reportCode || 'Confirme el código del servicio' ]\r\n    }\r\n  \r\n  },\r\n  methods: {\r\n\r\n    ...mapActions(['deleteDocument']),\r\n\r\n    deleteService (body) {\r\n      this.loader = true\r\n      this.deleteDocument({ collection: 'Active', body })\r\n        .then(() => this.$emit('hideInterface'))\r\n        .catch(() => this.loader = false)\r\n    }\r\n\r\n  }\r\n})\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CorrectiveDelete.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CorrectiveDelete.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CorrectiveDelete.vue?vue&type=template&id=088656e8&\"\nimport script from \"./CorrectiveDelete.vue?vue&type=script&lang=js&\"\nexport * from \"./CorrectiveDelete.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VBtn,VCol,VContainer,VForm,VRow,VTextField})\n","<template>\r\n  <v-container>\r\n    <v-list dense>\r\n      <v-list-item>\r\n\r\n        <v-list-item-avatar v-show=\"!mobile\">\r\n          <v-icon :class=\"$vuetify.theme.dark ? 'dark' : 'gradients'\" dark>\r\n            mdi-label\r\n          </v-icon>\r\n        </v-list-item-avatar>\r\n\r\n        <v-list-item-content>\r\n          <v-list-item-title class=\"font-weight-bold\">\r\n            <v-badge\r\n              class=\"subtitle-1 font-weight-bold\"\r\n              :value=\"service.itsSpecial\"\r\n              bordered\r\n              color=\"accent\"\r\n              icon=\"mdi-medal-outline\"\r\n            >\r\n              <span>{{ service.reportCode }}</span>\r\n            </v-badge>\r\n          </v-list-item-title>\r\n          <v-list-item-subtitle class=\"subtitle-1 text-wrap\">\r\n            {{ service.officeName }}\r\n          </v-list-item-subtitle>\r\n          <v-list-item-subtitle class=\"subtitle-2 text-wrap\">\r\n            {{ service.productType }}\r\n          </v-list-item-subtitle>\r\n          <v-list-item-subtitle class=\"subtitle-2\">\r\n            {{ service.serialCode }}\r\n          </v-list-item-subtitle>\r\n        </v-list-item-content>\r\n\r\n        <v-list-item-action>\r\n          <v-btn @click=\"showInterface('details', service)\" icon small color=\"primary\">\r\n            <v-icon>mdi-information-outline</v-icon>\r\n          </v-btn>\r\n          <v-menu>\r\n            <template v-slot:activator=\"{ on }\">\r\n              <v-btn icon small v-on=\"on\" color=\"primary\" >\r\n                <v-icon>mdi-dots-vertical</v-icon>\r\n              </v-btn>\r\n            </template>\r\n            <v-list color=\"primary\" dark dense>\r\n              <v-list-item-group>\r\n                <v-list-item\r\n                  v-for=\"option, index in actionsMenu\" :key=\"index\"\r\n                  @click=\"showInterface(option.action, service)\"\r\n                  :disabled=\"option.requiredRole < $store.state.session.user.userRole\"\r\n                >\r\n                  <v-list-item-icon>\r\n                    <v-icon>{{ option.icon }}</v-icon>\r\n                  </v-list-item-icon>\r\n                  <v-list-item-content>\r\n                    <v-list-item-title>\r\n                      {{ option.title }}\r\n                    </v-list-item-title>\r\n                  </v-list-item-content>\r\n                </v-list-item>\r\n              </v-list-item-group>\r\n            </v-list>\r\n          </v-menu>\r\n        </v-list-item-action>\r\n      </v-list-item>\r\n    </v-list>\r\n\r\n    <v-dialog\r\n      v-model=\"dialog\"\r\n      :fullscreen=\"detailsInterface\"\r\n      :width=\"mobile ? '90%' : '60%'\"\r\n      persistent\r\n    >\r\n      <v-card>\r\n        <CorrectiveForm\r\n          v-if=\"editInterface\"\r\n          :mobile=\"mobile\"\r\n          :collections=\"collections\"\r\n          :editing=\"selectedDocument\"\r\n          @hideInterface=\"hideInterface('edit')\"\r\n        />\r\n        <CorrectiveInfo\r\n          v-if=\"detailsInterface\"\r\n          :mobile=\"mobile\"\r\n          :selectedDocument=\"selectedDocument\"\r\n          @hideInterface=\"hideInterface('details')\"\r\n        />\r\n        <MaintenanceInfo\r\n          v-if=\"inventoryInterface\"\r\n          :selectedDocument=\"selectedDocument\"\r\n          @hideInterface=\"hideInterface('inventory')\"\r\n        />\r\n        <CorrectiveSchedule\r\n          v-if=\"scheduleInterface\"\r\n          :mobile=\"mobile\"\r\n          :selectedDocument=\"selectedDocument\"\r\n          @hideInterface=\"hideInterface('schedule')\"\r\n        />\r\n        <CorrectiveUpdate\r\n          v-if=\"updateInterface\"\r\n          :mobile=\"mobile\"\r\n          :selectedDocument=\"selectedDocument\"\r\n          @hideInterface=\"hideInterface('update')\"\r\n        />\r\n        <CorrectiveDelete\r\n          v-if=\"deleteInterface\"\r\n          :mobile=\"mobile\"\r\n          :selectedDocument=\"selectedDocument\"\r\n          @hideInterface=\"hideInterface('delete')\"\r\n        />\r\n      </v-card>\r\n    </v-dialog>\r\n\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport CorrectiveInfo from './CorrectiveInfo'\r\nimport CorrectiveSchedule from './CorrectiveSchedule'\r\nimport CorrectiveUpdate from './CorrectiveUpdate'\r\nimport CorrectiveForm from './CorrectiveForm'\r\nimport MaintenanceInfo from '@/components/preventive/MaintenanceInfo'\r\nimport CorrectiveDelete from './CorrectiveDelete'\r\nimport { mapState, mapActions, mapMutations } from 'vuex'\r\n\r\nexport default {\r\n  name: 'CorrectivePanel',\r\n  props: ['service', 'mobile'],\r\n  components: {\r\n    CorrectiveInfo,\r\n    CorrectiveSchedule,\r\n    CorrectiveUpdate,\r\n    CorrectiveForm,\r\n    CorrectiveDelete,\r\n    MaintenanceInfo\r\n  },\r\n  data: () => {\r\n    return {\r\n      inventoryInterface: false,\r\n      scheduleInterface: false,\r\n      detailsInterface: false,\r\n      updateInterface: false,\r\n      deleteInterface: false,\r\n      editInterface: false,\r\n      searching: false,\r\n      dialog: false,\r\n\r\n      actionsMenu: [\r\n        { action: 'schedule', title: 'Asignar', icon: 'mdi-account-arrow-left', requiredRole: 2 },\r\n        { action: 'update', title: 'Actualizar', icon: 'mdi-file-refresh-outline', requiredRole: 2 },\r\n        { action: 'edit', title: 'Editar', icon: 'mdi-file-document-edit-outline', requiredRole: 2 },\r\n        { action: 'delete', title: 'Eliminar', icon: 'mdi-delete', requiredRole: 1 }\r\n      ],\r\n      selectedDocument: {},\r\n      selectedServiceRelated: []\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    ...mapState(['collections'])\r\n  },\r\n\r\n  methods: {\r\n\r\n    ...mapMutations(['setRelatedDocuments']),\r\n\r\n    ...mapActions(['findDocuments']),\r\n\r\n    hideInterface (menu) {\r\n      this.dialog = false\r\n      this.selectedDocument = {}\r\n      this[`${menu}Interface`] = false\r\n    },\r\n\r\n    showInterface (menu, service) {\r\n      this.dialog = true\r\n      this.selectedDocument = Object.assign({}, service)\r\n      this[`${menu}Interface`] = true\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CorrectivePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CorrectivePanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CorrectivePanel.vue?vue&type=template&id=3f60de34&\"\nimport script from \"./CorrectivePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./CorrectivePanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBadge } from 'vuetify/lib/components/VBadge';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\ninstallComponents(component, {VBadge,VBtn,VCard,VContainer,VDialog,VIcon,VList,VListItem,VListItemAction,VListItemAvatar,VListItemContent,VListItemGroup,VListItemIcon,VListItemSubtitle,VListItemTitle,VMenu})\n","<template>\r\n  <v-container>\r\n    <v-expansion-panels>\r\n      <v-expansion-panel\r\n        v-for=\"client, index in orderedServices\" :key=\"index\"\r\n        :disabled=\"!client.services.length\"\r\n      >\r\n        <v-expansion-panel-header>\r\n          {{ client.clientName }}\r\n        </v-expansion-panel-header>\r\n        <v-expansion-panel-content\r\n          v-for=\"(service, indx) in client.services\"\r\n          :key=\"indx\"\r\n          class=\"mt-2\"\r\n        >\r\n          <CorrectivePanel\r\n            :service=\"service\"\r\n            :mobile=\"mobile\"\r\n            @searchRelated=\"$emit('searchRelated', service)\"\r\n          />\r\n        </v-expansion-panel-content>\r\n      </v-expansion-panel>\r\n    </v-expansion-panels>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport CorrectivePanel from './CorrectivePanel'\r\nexport default {\r\n  name: 'CorrectivesPanels',\r\n  props: ['collections', 'orderedServices', 'mobile'],\r\n  components: { CorrectivePanel }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CorrectivePanels.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CorrectivePanels.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CorrectivePanels.vue?vue&type=template&id=6a5ddaca&\"\nimport script from \"./CorrectivePanels.vue?vue&type=script&lang=js&\"\nexport * from \"./CorrectivePanels.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\ninstallComponents(component, {VContainer,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels})\n","<template>\r\n  <v-container>\r\n    <Header title=\"Mantenimiento correctivo\" subtitle=\"Bandeja de servicios activos\" />\r\n    <v-row justify=\"center\">\r\n      <v-col :cols=\"mobile ? 12 : 3\" v-for=\"card, index in cards\" :key=\"index\">\r\n        <DashboardCard :cardInfo=\"card\" :mobile=\"mobile\" />\r\n      </v-col>\r\n    </v-row>\r\n    <v-row>\r\n      <v-col :cols=\"mobile ? 12 : 6\">\r\n        <v-sheet class=\"pa-3\" v-if=\"updatingState\">\r\n          <v-skeleton-loader\r\n            class=\"mx-auto\"\r\n            max-width=\"300\"\r\n            type=\"card\"\r\n          ></v-skeleton-loader>\r\n        </v-sheet>\r\n        <Graph\r\n          v-else\r\n          id=\"correctiveGraph2\"\r\n          :updatingState=\"updatingState\"\r\n          :chartData=\"servicesXClient\"\r\n          title=\"Servicios por cliente\"\r\n          :subtitle=\"`Mantenimiento correctivo - ${thisYear}`\"\r\n        />\r\n      </v-col>\r\n      <v-col :cols=\"mobile ? 12 : 6\">\r\n        <v-sheet class=\"pa-3\" v-if=\"updatingState\">\r\n          <v-skeleton-loader\r\n            class=\"mx-auto\"\r\n            max-width=\"300\"\r\n            type=\"card\"\r\n          ></v-skeleton-loader>\r\n        </v-sheet>\r\n        <Graph\r\n          v-else\r\n          id=\"correctiveGraph3\"\r\n          :updatingState=\"updatingState\"\r\n          :chartData=\"servicesXTechnician\"\r\n          title=\"Servicios por técnico\"\r\n          :subtitle=\"`Mantenimiento correctivo - ${thisYear}`\"\r\n        />\r\n      </v-col>\r\n    </v-row>\r\n    <v-row justify=\"space-between\">\r\n      <v-col :cols=\"mobile ? 12 : 8\">\r\n        <v-skeleton-loader v-if=\"updatingState\" type=\"image\" width=\"100%\" />\r\n\t\t\t\t<v-skeleton-loader v-if=\"updatingState\" type=\"image\" width=\"100%\" />\r\n        <CorrectivePanels\r\n          v-else\r\n          :mobile=\"mobile\"\r\n          :collections=\"collections\"\r\n          :orderedServices=\"orderedServices\"\r\n          @searchRelated=\"(service) => searchRelated(service, notifyAnyway = true)\"\r\n        />\r\n\r\n      </v-col>\r\n      <v-col :cols=\"mobile ? 12 : 4\">\r\n        <v-sheet class=\"pa-3\" v-if=\"updatingState\">\r\n          <v-skeleton-loader\r\n            class=\"mx-auto\"\r\n            max-width=\"300\"\r\n            type=\"card\"\r\n          ></v-skeleton-loader>\r\n        </v-sheet>\r\n        <Graph\r\n          v-else\r\n          id=\"correctiveGraph1\"\r\n          :updatingState=\"updatingState\"\r\n          :chartData=\"servicesXStatus\"\r\n          title=\"Estatus de servicios\"\r\n          :subtitle=\"`Mantenimiento correctivo - ${thisYear}`\"\r\n        />\r\n      </v-col>\r\n    </v-row>\r\n\r\n    <MainButton @showForm=\"dialog = true\" :disabled=\"$store.state.session.user.userRole > 2\" :updatingState=\"updatingState\" />\r\n\r\n    <v-dialog :width=\"mobile ? '90%' : '60%'\" persistent v-model=\"dialog\">\r\n      <v-card>\r\n\r\n        <CorrectiveForm\r\n          v-if=\"dialog\"\r\n          :mobile=\"mobile\"\r\n          :collections=\"collections\"\r\n          @hideInterface=\"dialog = false\"\r\n          @searchRelated=\"searchRelated\"\r\n        />\r\n\r\n      </v-card>\r\n    </v-dialog>\r\n\r\n    <v-snackbar v-model=\"snackbar\" dark outlined :timeout=\"2000\" rounded=\"pill\" centered transition=\"fab-transition\">\r\n      <v-row align=\"center\">\r\n        <v-col>\r\n          <span class=\"white--text\">\r\n            {{ snackbarMessage }}\r\n          </span>\r\n        </v-col>\r\n        <v-col cols=\"2\">\r\n          <v-btn :color=\"snackbarIconColor\" fab outlined small @click.native=\"snackbar = false\">\r\n            <v-icon>\r\n              {{ snackbarIcon }}\r\n            </v-icon>\r\n          </v-btn>\r\n        </v-col>\r\n      </v-row>\r\n    </v-snackbar>\r\n\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport moment from 'moment-timezone'\r\nimport Graph from '@/components/generals/Graph'\r\nimport Header from '@/components/generals/Header'\r\nimport MainButton from '@/components/generals/MainButton'\r\nimport CorrectiveForm from '@/components/corrective/CorrectiveForm'\r\nimport CorrectivePanels from '@/components/corrective/CorrectivePanels'\r\nimport DashboardCard from '@/components/generals/DashboardCard'\r\nimport { mapState, mapGetters, mapMutations, mapActions } from 'vuex'\r\n\r\nexport default {\r\n  name: 'Corrective',\r\n  components: {\r\n    CorrectivePanels,\r\n    DashboardCard,\r\n    Graph,\r\n    Header,\r\n    MainButton,\r\n    CorrectiveForm\r\n  },\r\n\r\n  data: () => {\r\n    return {\r\n      dialog: false,\r\n      snackbar: false,\r\n      snackbarMessage: '',\r\n      snackbarIcon: '',\r\n      snackbarIconColor: ''\r\n    }\r\n  },\r\n\r\n  computed: {\r\n\r\n    ...mapState(['collections', 'updatingState']),\r\n\r\n    ...mapGetters(['formOptions']),\r\n\r\n    mobile () {\r\n      return this.$vuetify.breakpoint.name === 'xs' || this.$vuetify.breakpoint.name === 'sm'\r\n    },\r\n\r\n    orderedServices () {\r\n      const services = []\r\n      for (const clientName of this.formOptions.clientNames) {\r\n        services.push(\r\n          {\r\n            clientName,\r\n            services: this.collections.Active.filter(service => service.clientName === clientName)\r\n          }\r\n        )\r\n      }\r\n      return services\r\n    },\r\n\r\n    cards () {\r\n      return [\r\n        { data: this.collections.Active, title: 'Activos', icon: require('@/assets/svg/view.svg') },\r\n        { data: this.pendingXParts, title: 'Por repuestos', icon: require('@/assets/svg/tools.svg') }\r\n      ]\r\n    },\r\n\r\n    pendingXParts () {\r\n      return this.collections.Active.filter(service => service.status === 'Pendiente - Por repuestos')\r\n    },\r\n\r\n    corrective () {\r\n      return [...this.collections.Active, ...this.collections.Closed]\r\n    },\r\n\r\n    thisYear () {\r\n      return moment(new Date()).format('yyyy')\r\n    },\r\n\r\n    servicesXStatus () {\r\n      const type = 'doughnut'\r\n      const options = {}\r\n      let statusOptions = this.corrective.map(service => service.status)\r\n      statusOptions = [...new Set(statusOptions)]\r\n      const data = {\r\n        labels: statusOptions,\r\n        datasets: [{ label: 'Correctivo', data: [], backgroundColor: [] }]\r\n      }\r\n      for (const status of statusOptions) {\r\n        data.datasets[0].backgroundColor.push(this.colorsXStatus[status])\r\n        data.datasets[0].data.push(this.corrective.filter(service => service.status === status).length)\r\n      }\r\n      return { type, data, options }\r\n    },\r\n\r\n    colorsXStatus () {\r\n      return {\r\n        \"Cerrado - Operativo\": this.$vuetify.theme.currentTheme.success,\r\n        \"Cerrado - Reemplazado\": this.$vuetify.theme.currentTheme.info,\r\n        \"Cerrado - Desincorporado\": this.$vuetify.theme.currentTheme.secondary,\r\n        \"Pendiente - Por repuestos\": this.$vuetify.theme.currentTheme.warning,\r\n        \"En programación\": this.$vuetify.theme.currentTheme.error,\r\n        \"Atención programada\": this.$vuetify.theme.currentTheme.accent\r\n      }\r\n    },\r\n\r\n    servicesXClient () {\r\n      const type = 'bar'\r\n      const options = {}\r\n      const data = {\r\n        labels: this.formOptions.clients.map(client => client.clientName),\r\n        datasets: [\r\n          { label: 'Servicios por correctivo', borderRadius: 5, data: [], backgroundColor: this.$vuetify.theme.currentTheme.primary },\r\n        ]\r\n      }\r\n      for (const client of this.formOptions.clients) {\r\n        const clientServices = service => service.clientName === client.clientName\r\n        data.datasets[0].data.push(this.corrective.filter(clientServices).length)\r\n      }\r\n      return { type, data, options }\r\n    },\r\n\r\n    servicesXTechnician () {\r\n      const type = 'line'\r\n      const options = {}\r\n      const data = {\r\n        labels: this.formOptions.technicians.map(tech => tech.text),\r\n        datasets: [\r\n          { label: 'Servicios por correctivo', data: [], borderColor: this.$vuetify.theme.currentTheme.primary },\r\n        ]\r\n      }\r\n      for (const technician of this.formOptions.technicians) {\r\n        const technicianServices = service => service.schedule.technician.fullName === technician.text\r\n        data.datasets[0].data.push(this.corrective.filter(technicianServices).length)\r\n      }\r\n      return { type, data, options }\r\n    }\r\n\r\n  },\r\n\r\n  methods: {\r\n\r\n    ...mapMutations(['setRelatedDocuments']),\r\n\r\n    ...mapActions(['findDocuments']),\r\n\r\n    searchRelated (service, notifyAnyway) {\r\n      const closedsFilter = { \"$or\": [{ serialCode: service.serialCode }, { \"documentation.newSerial\": service.serialCode }] }\r\n      const findOn = [\r\n        this.findDocuments({ collection: 'Closed', filter: closedsFilter }),\r\n        this.findDocuments({ collection: 'Inventory', filter: { serialCode: service.serialCode } })\r\n      ]\r\n      Promise.all(findOn)\r\n        .then((res) => {\r\n          const data = [...res[0], ...res[1]]\r\n          if (data.length) {\r\n            this.setRelatedDocuments({ serialCode: service.serialCode, data })\r\n            this.snackbarMessage = 'Encontramos servicios relacionados'\r\n            this.snackbarIcon = 'mdi-check'\r\n            this.snackbarIconColor = 'accent lighten-1'\r\n            this.snackbar = true\r\n          } else if (notifyAnyway) {\r\n            this.snackbarMessage = 'La búsqueda no arrojó resultados'\r\n            this.snackbarIcon = 'mdi-alert'\r\n            this.snackbarIconColor = 'error lighten-1'\r\n            this.snackbar = true\r\n          }\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Corrective.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Corrective.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Corrective.vue?vue&type=template&id=775e0fe4&\"\nimport script from \"./Corrective.vue?vue&type=script&lang=js&\"\nexport * from \"./Corrective.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\ninstallComponents(component, {VBtn,VCard,VCol,VContainer,VDialog,VIcon,VRow,VSheet,VSkeletonLoader,VSnackbar})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"title\":\"Mantenimiento preventivo\",\"subtitle\":\"Servicios programados e inventario de clientes\"}}),_c('v-row',{attrs:{\"justify\":\"center\"}},_vm._l((_vm.cards),function(card,index){return _c('v-col',{key:index,attrs:{\"cols\":_vm.mobile ? 12 : 3}},[_c('DashboardCard',{attrs:{\"cardInfo\":card,\"mobile\":_vm.mobile}})],1)}),1),_c('v-row',[_c('v-col',[(_vm.updatingState)?_c('v-sheet',{staticClass:\"pa-3\"},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"300\",\"type\":\"card\"}})],1):_c('Graph',{attrs:{\"id\":\"preventiveGraph2\",\"updatingState\":_vm.updatingState,\"chartData\":_vm.servicesXClient,\"title\":\"Servicios por cliente\",\"subtitle\":(\"Mantenimiento preventivo - \" + _vm.thisYear)}})],1),_c('v-col',[(_vm.updatingState)?_c('v-sheet',{staticClass:\"pa-3\"},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"300\",\"type\":\"card\"}})],1):_c('Graph',{attrs:{\"id\":\"preventiveGraph3\",\"updatingState\":_vm.updatingState,\"chartData\":_vm.servicesXTechnician,\"title\":\"Servicios por técnico\",\"subtitle\":(\"Mantenimiento preventivo - \" + _vm.thisYear)}})],1)],1),_c('v-row',{attrs:{\"justify\":\"space-between\"}},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 8}},[(_vm.updatingState)?_c('v-skeleton-loader',{attrs:{\"type\":\"image\",\"width\":\"100%\"}}):_vm._e(),(_vm.updatingState)?_c('v-skeleton-loader',{attrs:{\"type\":\"image\",\"width\":\"100%\"}}):_c('MaintenancePanels',{attrs:{\"collections\":_vm.collections,\"mobile\":_vm.mobile}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 4}},[(_vm.updatingState)?_c('v-sheet',{staticClass:\"pa-3\"},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"300\",\"type\":\"card\"}})],1):_c('Graph',{attrs:{\"id\":\"preventiveGraph1\",\"updatingState\":_vm.updatingState,\"chartData\":_vm.servicesXStatus,\"title\":\"Estatus de servicios\",\"subtitle\":(\"Mantenimiento preventivo - \" + _vm.thisYear)}})],1)],1),_c('MainButton',{attrs:{\"disabled\":_vm.$store.state.session.user.userRole > 2,\"updatingState\":_vm.updatingState},on:{\"showForm\":function($event){_vm.dialog = true}}}),_c('v-dialog',{attrs:{\"width\":_vm.mobile ? '90%' : '60%',\"persistent\":\"\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[(_vm.dialog)?_c('MaintenanceForm',{attrs:{\"mobile\":_vm.mobile,\"collections\":_vm.collections},on:{\"hideInterface\":function($event){_vm.dialog =  false}}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-data-table',{attrs:{\"items\":_vm.formOptions.clients,\"headers\":_vm.table1Headers},scopedSlots:_vm._u([{key:\"item.offices\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-menu',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\",\"color\":\"primary\"}},on),[_c('v-icon',[_vm._v(\"mdi-dots-vertical\")])],1)]}}],null,true)},[_c('v-list',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"dense\":\"\"}},[_c('v-list-item-group',_vm._l((_vm.serviceMenu),function(option,index){return _c('v-list-item',{key:index,on:{\"click\":function($event){return _vm.showBottomSheet(item.clientName, option.action, option.title)}}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(_vm._s(option.icon))])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(option.title)+\" \")])],1)],1)}),1)],1)],1)]}}])}),_c('v-bottom-sheet',{attrs:{\"scrollable\":\"\"},model:{value:(_vm.bottomSheet),callback:function ($$v) {_vm.bottomSheet=$$v},expression:\"bottomSheet\"}},[_c('v-card',[_c('Header',{attrs:{\"closable\":\"1\",\"title\":_vm.bottomSheetTitle,\"subtitle\":_vm.bottomSheetSubtitle},on:{\"hideInterface\":function($event){_vm.bottomSheet = false}}}),_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 6 : 2}},[_c('v-text-field',{attrs:{\"prepend-inner-icon\":\"mdi-magnify\"},model:{value:(_vm.tableFilter),callback:function ($$v) {_vm.tableFilter=$$v},expression:\"tableFilter\"}})],1)],1),_c('v-data-table',{attrs:{\"items\":_vm.maintenanceData,\"search\":_vm.tableFilter,\"headers\":_vm.table2Headers},scopedSlots:_vm._u([{key:\"item.lastMaintenance\",fn:function(ref){\nvar item = ref.item;\nreturn [(item.lastMaintenance)?_c('span',[_vm._v(_vm._s(_vm._f(\"friendlyDate\")(item.lastMaintenance)))]):_c('span',[_vm._v(\"No registrado\")])]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-btn',{attrs:{\"small\":\"\",\"icon\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.showInventory(item)}}},[_c('v-icon',[_vm._v(\"mdi-magnify\")])],1),(_vm.bottomSheetSubtitle === 'Por atender')?_c('v-btn',{attrs:{\"small\":\"\",\"icon\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.assignMaintenance(item)}}},[_c('v-icon',[_vm._v(\"mdi-account-arrow-left\")])],1):_vm._e()]}}])})],1)],1)],1),_c('v-dialog',{attrs:{\"width\":_vm.mobile ? '90%' : '60%',\"persistent\":\"\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[(_vm.inventoryInterface)?_c('OfficeInventory',{attrs:{\"mobile\":_vm.mobile,\"inventory\":_vm.selectedInventory},on:{\"hideInterface\":function($event){return _vm.hideInterface('inventory')}}}):_vm._e(),(_vm.assignInterface)?_c('MaintenanceForm',{attrs:{\"startTemplate\":_vm.startTemplate,\"collections\":_vm.collections,\"mobile\":_vm.mobile,\"pendingMaintenance\":_vm.formOptions.pendingMaintenance},on:{\"hideInterface\":function($event){return _vm.hideInterface('assign')}}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <v-data-table :items=\"formOptions.clients\" :headers=\"table1Headers\">\r\n      <template v-slot:item.offices=\"{ item }\">\r\n        <v-menu>\r\n          <template v-slot:activator=\"{ on }\">\r\n            <v-btn v-on=\"on\" icon color=\"primary\">\r\n              <v-icon>mdi-dots-vertical</v-icon>\r\n            </v-btn>\r\n          </template>\r\n          <v-list color=\"primary\" dark dense>\r\n            <v-list-item-group>\r\n              <v-list-item\r\n                v-for=\"option, index in serviceMenu\" :key=\"index\"\r\n                @click=\"showBottomSheet(item.clientName, option.action, option.title)\"\r\n              >\r\n                <v-list-item-icon>\r\n                  <v-icon>{{ option.icon }}</v-icon>\r\n                </v-list-item-icon>\r\n                <v-list-item-content>\r\n                  <v-list-item-title>\r\n                    {{ option.title }}\r\n                  </v-list-item-title>\r\n                </v-list-item-content>\r\n              </v-list-item>\r\n            </v-list-item-group>\r\n          </v-list>\r\n        </v-menu>\r\n      </template>\r\n    </v-data-table>\r\n\r\n    <v-bottom-sheet v-model=\"bottomSheet\" scrollable>\r\n      <v-card>\r\n\r\n        <Header\r\n          closable=\"1\"\r\n          :title=\"bottomSheetTitle\"\r\n          :subtitle=\"bottomSheetSubtitle\"\r\n          @hideInterface=\"bottomSheet = false\"\r\n        />\r\n\r\n        <v-card-text>\r\n          <v-row>\r\n            <v-col :cols=\"mobile ? 6 : 2\">\r\n              <v-text-field v-model=\"tableFilter\" prepend-inner-icon=\"mdi-magnify\" />\r\n            </v-col>\r\n          </v-row>\r\n          <v-data-table :items=\"maintenanceData\" :search=\"tableFilter\" :headers=\"table2Headers\">\r\n            <template v-slot:item.lastMaintenance=\"{ item }\">\r\n              <span v-if=\"item.lastMaintenance\">{{ item.lastMaintenance | friendlyDate }}</span>\r\n              <span v-else>No registrado</span>\r\n            </template>\r\n            <template v-slot:item.actions=\"{ item }\">\r\n              <v-btn @click=\"showInventory(item)\" small icon color=\"primary\">\r\n                <v-icon>mdi-magnify</v-icon>\r\n              </v-btn>\r\n              <v-btn\r\n                v-if=\"bottomSheetSubtitle === 'Por atender'\"\r\n                small\r\n                icon\r\n                color=\"primary\"\r\n                @click=\"assignMaintenance(item)\"\r\n              >\r\n                <v-icon>mdi-account-arrow-left</v-icon>\r\n              </v-btn>\r\n            </template>\r\n          </v-data-table>\r\n        </v-card-text>\r\n\r\n      </v-card>\r\n    </v-bottom-sheet>\r\n\r\n    <v-dialog :width=\"mobile ? '90%' : '60%'\" persistent v-model=\"dialog\">\r\n      <v-card>\r\n        <OfficeInventory\r\n          v-if=\"inventoryInterface\"\r\n          :mobile=\"mobile\"\r\n          :inventory=\"selectedInventory\"\r\n          @hideInterface=\"hideInterface('inventory')\"\r\n        />\r\n        <MaintenanceForm\r\n          v-if=\"assignInterface\"\r\n          :startTemplate=\"startTemplate\"\r\n          :collections=\"collections\"\r\n          :mobile=\"mobile\"\r\n          :pendingMaintenance=\"formOptions.pendingMaintenance\"\r\n          @hideInterface=\"hideInterface('assign')\"\r\n        />\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport moment from 'moment-timezone'\r\nimport OfficeInventory from '@/components/preventive/OfficeInventory'\r\nimport MaintenanceForm from '@/components/preventive/MaintenanceForm'\r\nimport Header from '@/components/generals/Header'\r\nimport { mapState, mapMutations, mapGetters } from 'vuex'\r\n\r\nexport default {\r\n  name: 'PreventivePanels',\r\n  components: { Header, OfficeInventory, MaintenanceForm },\r\n  props: ['collections', 'mobile'],\r\n  data: () => {\r\n    return {\r\n      inventoryInterface: false,\r\n      assignInterface: false,\r\n      bottomSheet: false,\r\n      bottomSheetTitle: '',\r\n      bottomSheetSubtitle: '',\r\n      tableFilter: '',\r\n      serviceMenu: [\r\n        { action: 'finished', title: 'Atendidas', icon: 'mdi-check' },\r\n        { action: 'pending', title: 'Por atender', icon: 'mdi-exclamation' },\r\n      ],\r\n      table1Headers: [\r\n        { text: 'Cliente', value: 'clientName' },\r\n        { text: 'Oficinas', value: 'offices' }\r\n      ],\r\n      table2Headers: [\r\n        { text: 'Oficina', value: 'officeName' },\r\n        { text: 'Último mantenimiento', value: 'lastMaintenance'},\r\n        { text: 'Acciones', value: 'actions'}\r\n      ],\r\n      startTemplate: {},\r\n      maintenanceData: [],\r\n      dialog: false,\r\n      selectedInventory: []\r\n    }\r\n  },\r\n  filters: {\r\n    friendlyDate (dateSubmitted) {\r\n      return moment(dateSubmitted).parseZone('America/Caracas').format('DD [de] MMMM [de] YYYY')\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['selectedDocument']),\r\n    ...mapGetters(['formOptions']),\r\n    visitedThisYear () {\r\n      const thisYearFirst = new Date(new Date().getFullYear(), 1, 1)\r\n      const fromThisYear = (office) => moment(office.lastMaintenance).parseZone('America/Caracas').isSameOrAfter(thisYearFirst)\r\n      const result = this.collections.Office.filter(office => fromThisYear(office))\r\n      return result\r\n    },\r\n    notVisitedThisYear () {\r\n      const thisYearFirst = new Date(new Date().getFullYear(), 1, 1)\r\n      const beforeThisYear = (office) => moment(office.lastMaintenance).parseZone('America/Caracas').isBefore(thisYearFirst)\r\n      const result = this.collections.Office.filter(office => beforeThisYear(office))\r\n      return result\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations(['showSnackbar']),\r\n\r\n    activeContract (client) {\r\n      return client.contracts.find(contract => contract.active)\r\n    },\r\n\r\n    showBottomSheet (client, status, subtitle) {\r\n      this.maintenanceData = status === 'finished'\r\n        ? this.visitedThisYear.filter(office => office.clientName === client)\r\n        : this.notVisitedThisYear.filter(office => office.clientName === client)\r\n      this.bottomSheetTitle = client\r\n      this.bottomSheetSubtitle = subtitle\r\n      this.bottomSheet = true\r\n    },\r\n\r\n    showInventory (officeInfo) {\r\n      this.selectedInventory = this.collections.Office.find(office => office.officeName === officeInfo.officeName).inventory\r\n      if (!this.selectedInventory.length) return this.showSnackbar({ message: 'El inventario no se ha registrado aún' })\r\n      else this.dialog = true, this.inventoryInterface = true\r\n    },\r\n\r\n    assignMaintenance (office) {\r\n      const registeredAlready = this.collections.Maintenance.find(service => service.officeName === office.officeName)\r\n      if (registeredAlready) return this.showSnackbar({ message: 'Registrado actualmente' })\r\n      this.assignInterface = true\r\n      this.startTemplate = {\r\n        clientName: office.clientName,\r\n        officeName: office.officeName\r\n      }\r\n      this.dialog = true\r\n    },\r\n\r\n    hideInterface (menu) {\r\n      this[`${menu}Interface`] = false\r\n      this.dialog = false\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaintenancePanels.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaintenancePanels.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MaintenancePanels.vue?vue&type=template&id=777e5753&\"\nimport script from \"./MaintenancePanels.vue?vue&type=script&lang=js&\"\nexport * from \"./MaintenancePanels.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBottomSheet } from 'vuetify/lib/components/VBottomSheet';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBottomSheet,VBtn,VCard,VCardText,VCol,VDataTable,VDialog,VIcon,VList,VListItem,VListItemContent,VListItemGroup,VListItemIcon,VListItemTitle,VMenu,VRow,VTextField})\n","<template>\r\n  <v-container>\r\n    <Header title=\"Mantenimiento preventivo\" subtitle=\"Servicios programados e inventario de clientes\" />\r\n    <v-row justify=\"center\">\r\n      <v-col :cols=\"mobile ? 12 : 3\" v-for=\"card, index in cards\" :key=\"index\">\r\n        <DashboardCard :cardInfo=\"card\" :mobile=\"mobile\" />\r\n      </v-col>\r\n    </v-row>\r\n    <v-row>\r\n      <v-col>\r\n        <v-sheet class=\"pa-3\" v-if=\"updatingState\">\r\n          <v-skeleton-loader\r\n            class=\"mx-auto\"\r\n            max-width=\"300\"\r\n            type=\"card\"\r\n          ></v-skeleton-loader>\r\n        </v-sheet>\r\n        <Graph\r\n          v-else\r\n          id=\"preventiveGraph2\"\r\n          :updatingState=\"updatingState\"\r\n          :chartData=\"servicesXClient\"\r\n          title=\"Servicios por cliente\"\r\n          :subtitle=\"`Mantenimiento preventivo - ${thisYear}`\"\r\n        />\r\n      </v-col>\r\n      <v-col>\r\n        <v-sheet class=\"pa-3\" v-if=\"updatingState\">\r\n          <v-skeleton-loader\r\n            class=\"mx-auto\"\r\n            max-width=\"300\"\r\n            type=\"card\"\r\n          ></v-skeleton-loader>\r\n        </v-sheet>\r\n        <Graph\r\n          v-else\r\n          id=\"preventiveGraph3\"\r\n          :updatingState=\"updatingState\"\r\n          :chartData=\"servicesXTechnician\"\r\n          title=\"Servicios por técnico\"\r\n          :subtitle=\"`Mantenimiento preventivo - ${thisYear}`\"\r\n        />\r\n      </v-col>\r\n    </v-row>\r\n    <v-row justify=\"space-between\">\r\n      <v-col :cols=\"mobile ? 12 : 8\">\r\n        <v-skeleton-loader v-if=\"updatingState\" type=\"image\" width=\"100%\" />\r\n\t\t\t\t<v-skeleton-loader v-if=\"updatingState\" type=\"image\" width=\"100%\" />\r\n        <MaintenancePanels\r\n          v-else\r\n          :collections=\"collections\"\r\n          :mobile=\"mobile\"\r\n        />\r\n      </v-col>\r\n      <v-col :cols=\"mobile ? 12 : 4\">\r\n        <v-sheet class=\"pa-3\" v-if=\"updatingState\">\r\n          <v-skeleton-loader\r\n            class=\"mx-auto\"\r\n            max-width=\"300\"\r\n            type=\"card\"\r\n          ></v-skeleton-loader>\r\n        </v-sheet>\r\n        <Graph\r\n          v-else\r\n          id=\"preventiveGraph1\"\r\n          :updatingState=\"updatingState\"\r\n          :chartData=\"servicesXStatus\"\r\n          title=\"Estatus de servicios\"\r\n          :subtitle=\"`Mantenimiento preventivo - ${thisYear}`\"\r\n        />\r\n      </v-col>\r\n    </v-row>\r\n    <MainButton @showForm=\"dialog = true\" :disabled=\"$store.state.session.user.userRole > 2\" :updatingState=\"updatingState\" />\r\n\r\n    <v-dialog :width=\"mobile ? '90%' : '60%'\" persistent v-model=\"dialog\">\r\n      <v-card>\r\n        <MaintenanceForm\r\n          v-if=\"dialog\"\r\n          :mobile=\"mobile\"\r\n          :collections=\"collections\"\r\n          @hideInterface=\"dialog =  false\"\r\n        />\r\n      </v-card>\r\n    </v-dialog>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Graph from '@/components/generals/Graph'\r\nimport { mapState, mapGetters } from 'vuex'\r\nimport moment from 'moment-timezone'\r\nimport Header from '@/components/generals/Header'\r\nimport MainButton from '@/components/generals/MainButton'\r\nimport MaintenanceForm from '@/components/preventive/MaintenanceForm'\r\n// import MaintenanceTable from '@/components/preventive/MaintenanceTable'\r\nimport MaintenancePanels from '@/components/preventive/MaintenancePanels.vue'\r\nimport DashboardCard from '@/components/generals/DashboardCard'\r\n\r\nexport default {\r\n  name: 'Preventive',\r\n  components: {\r\n    DashboardCard,\r\n    Graph,\r\n    Header,\r\n    MainButton,\r\n    MaintenancePanels,\r\n    MaintenanceForm,\r\n    // MaintenanceTable\r\n  },\r\n\r\n  data: () => {\r\n    return {\r\n      dialog: false\r\n    }\r\n  },\r\n\r\n  computed: {\r\n\r\n    ...mapState(['collections', 'updatingState']),\r\n    ...mapGetters(['formOptions']),\r\n\r\n    mobile () {\r\n      return this.$vuetify.breakpoint.name === 'xs' || this.$vuetify.breakpoint.name === 'sm'\r\n    },\r\n\r\n    thisYearFirst () {\r\n      return `${moment(new Date()).format('yyyy')}-01-01`\r\n    },\r\n\r\n    thisYear () {\r\n      return moment(new Date()).format('yyyy')\r\n    },\r\n\r\n    servicesXStatus () {\r\n      const type = 'polarArea'\r\n      const options = {}\r\n      let statusOptions = this.collections.Maintenance.map(service => service.status)\r\n      statusOptions = [...new Set(statusOptions)]\r\n      const data = {\r\n        labels: statusOptions,\r\n        datasets: [{ label: 'Preventivo', data: [], backgroundColor: [] }]\r\n      }\r\n      for (const status of statusOptions) {\r\n        data.datasets[0].backgroundColor.push(this.colorsXStatus[status])\r\n        data.datasets[0].data.push(this.collections.Maintenance.filter(service => service.status === status).length)\r\n      }\r\n      return { type, data, options }\r\n    },\r\n\r\n    colorsXStatus () {\r\n      return {\r\n        \"Validado\": this.$vuetify.theme.currentTheme.success,\r\n        \"Culminado\": this.$vuetify.theme.currentTheme.secondary,\r\n        \"Por culminar\": this.$vuetify.theme.currentTheme.info,\r\n        \"Asignado\": this.$vuetify.theme.currentTheme.warning\r\n      }\r\n    },\r\n\r\n    servicesXClient () {\r\n      const type = 'bar'\r\n      const options = {}\r\n      const data = {\r\n        labels: this.formOptions.clients.map(client => client.clientName),\r\n        datasets: [\r\n          { label: 'Servicios por preventivo', data: [], backgroundColor: this.$vuetify.theme.currentTheme.accent, borderRadius: 5 }\r\n        ]\r\n      }\r\n      for (const client of this.formOptions.clients) {\r\n        const clientServices = service => service.clientName === client.clientName\r\n        data.datasets[0].data.push(this.collections.Maintenance.filter(clientServices).length)\r\n      }\r\n      return { type, data, options }\r\n    },\r\n\r\n    servicesXTechnician () {\r\n      const type = 'line'\r\n      const options = {}\r\n      const data = {\r\n        labels: this.formOptions.technicians.map(tech => tech.text),\r\n        datasets: [\r\n          { label: 'Servicios por preventivo', data: [], borderColor: this.$vuetify.theme.currentTheme.accent  }\r\n        ]\r\n      }\r\n      for (const technician of this.formOptions.technicians) {\r\n        const technicianServices = service => service.schedule.technician.fullName === technician.text\r\n        data.datasets[0].data.push(this.collections.Maintenance.filter(technicianServices).length)\r\n      }\r\n      return { type, data, options }\r\n    },\r\n\r\n    cards () {\r\n      return [\r\n        {\r\n          data: this.collections.Maintenance.filter(service => service.status !== 'Culminado' && service.status !== 'Validado'),\r\n          title: 'Asignados',\r\n          icon: require('@/assets/svg/resume.svg')\r\n        },\r\n        {\r\n          data: this.collections.Maintenance.filter(service => service.status === 'Culminado'),\r\n          title: 'Por validar',\r\n          icon: require('@/assets/svg/messages.svg')\r\n        }\r\n      ]\r\n    }\r\n\r\n  }\r\n\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preventive.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preventive.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Preventive.vue?vue&type=template&id=a353d7fa&\"\nimport script from \"./Preventive.vue?vue&type=script&lang=js&\"\nexport * from \"./Preventive.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\ninstallComponents(component, {VCard,VCol,VContainer,VDialog,VRow,VSheet,VSkeletonLoader})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"title\":\"Consultas\",\"subtitle\":\"Especifique los valores para realizar una consulta\"}}),_c('v-sheet',{staticClass:\"px-3\"},[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',[_c('v-tabs',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tabs-slider',{attrs:{\"color\":\"accent\"}}),_c('v-tab',[_vm._v(\"Filtro\")]),_c('v-tab',{attrs:{\"disabled\":!_vm.result.length}},[_vm._v(\"Resultado\")])],1)],1),_c('v-col',[_c('QueryChips',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.tab),expression:\"!tab\"}],on:{\"submitQuery\":_vm.searchCorrective}})],1)],1),_c('v-tabs-items',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab-item',[_c('v-form',{ref:\"form\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":6}},[_c('v-radio-group',{attrs:{\"row\":\"\"},model:{value:(_vm.serviceType),callback:function ($$v) {_vm.serviceType=$$v},expression:\"serviceType\"}},_vm._l((['Correctivo', 'Preventivo']),function(n,i){return _c('v-radio',{key:i,staticClass:\"ml-2\",attrs:{\"label\":n,\"value\":n}})}),1)],1),_c('v-col',{attrs:{\"align\":\"end\"}},[_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.tab),expression:\"!tab\"}],staticClass:\"my-1\",attrs:{\"block\":_vm.mobile,\"color\":_vm.serviceType === 'Correctivo' ? 'primary' : 'accent',\"small\":\"\"},on:{\"click\":_vm.clearFilter}},[_c('v-icon',[_vm._v(\"mdi-broom\")])],1)],1)],1),_c('v-row',{staticClass:\"mt-0\"},[_c('v-col',[_c('v-autocomplete',{attrs:{\"label\":\"Cliente\",\"items\":_vm.formOptions.clientNames},model:{value:(_vm.filter.clientName),callback:function ($$v) {_vm.$set(_vm.filter, \"clientName\", $$v)},expression:\"filter.clientName\"}})],1)],1),_c('v-row',{staticClass:\"mt-0\"},[_c('v-col',[_c('v-select',{attrs:{\"items\":[\n                      'Dentro del acuerdo',\n                      'Fuera del acuerdo'\n                    ],\"disabled\":_vm.serviceType === 'Preventivo',\"label\":\"S. L. A.\",\"solo\":\"\"},model:{value:(_vm.sla),callback:function ($$v) {_vm.sla=$$v},expression:\"sla\"}})],1),_c('v-col',[_c('v-select',{attrs:{\"items\":_vm.statusOptions,\"disabled\":_vm.serviceType === 'Preventivo',\"label\":\"Status\",\"solo\":\"\"},model:{value:(_vm.filter.status),callback:function ($$v) {_vm.$set(_vm.filter, \"status\", $$v)},expression:\"filter.status\"}})],1)],1),_c('v-row',{staticClass:\"mt-0\"},[_c('v-col',[_c('v-select',{attrs:{\"items\":_vm.formOptions.productTypes,\"label\":\"Producto\",\"solo\":\"\"},model:{value:(_vm.filter.productType),callback:function ($$v) {_vm.$set(_vm.filter, \"productType\", $$v)},expression:\"filter.productType\"}})],1)],1),_c('v-row',{staticClass:\"mt-0\"},[_c('v-col',[_c('v-autocomplete',{attrs:{\"items\":_vm.formOptions.technicians,\"label\":\"Personal asignado\"},model:{value:(_vm.technician),callback:function ($$v) {_vm.technician=$$v},expression:\"technician\"}})],1)],1)],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-row',{staticClass:\"mt-4\"},[_c('v-col',[_c('v-date-picker',{attrs:{\"color\":\"primary\",\"range\":\"\",\"full-width\":\"\",\"no-title\":\"\",\"min\":_vm.minDate},model:{value:(_vm.dates),callback:function ($$v) {_vm.dates=$$v},expression:\"dates\"}})],1)],1),_c('small',{staticClass:\"font-weight-bold\"},[_vm._v(\"Filtrar por fecha de:\")]),_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-radio-group',{attrs:{\"row\":\"\",\"disabled\":_vm.serviceType === 'Preventivo'},model:{value:(_vm.dateFilter),callback:function ($$v) {_vm.dateFilter=$$v},expression:\"dateFilter\"}},_vm._l((['reportedAt', 'schedule.scheduledDate']),function(n,i){return _c('v-radio',{key:i,attrs:{\"label\":n === 'reportedAt' ? 'Reporte' : 'Atención',\"value\":n}})}),1)],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-chip-group',{attrs:{\"color\":\"accent\"}},[_c('v-icon',[_vm._v(\"mdi-filter\")]),_c('v-chip',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.dateQuickFilter('thisYear')}}},[_vm._v(_vm._s(_vm.thisYear))]),_c('v-chip',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.dateQuickFilter('thisMonth')}}},[_vm._v(_vm._s(_vm.thisMonth))]),_c('v-chip',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.dateQuickFilter('lastMonth')}}},[_vm._v(_vm._s(_vm.lastMonth))])],1)],1)],1),_c('v-btn',{staticClass:\"mb-15 mr-10\",attrs:{\"fixed\":\"\",\"absolute\":\"\",\"bottom\":\"\",\"right\":\"\",\"disabled\":_vm.dates.length !== 2,\"color\":\"primary\",\"fab\":\"\",\"loading\":_vm.loader},on:{\"click\":function($event){_vm.serviceType === 'Preventivo' ? _vm.searchInventory(_vm.filter) : _vm.searchCorrective(_vm.filter)}}},[_c('v-icon',[_vm._v(\"mdi-magnify\")])],1)],1)],1)],1)],1),_c('v-tab-item',[(_vm.resultIsCorrective && _vm.result.length)?_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 3}},[_c('DashboardCard',{attrs:{\"cardInfo\":_vm.cardInfo,\"mobile\":_vm.mobile}})],1)],1):_vm._e(),_c('QueryResult',{attrs:{\"xlsFormat\":_vm.xlsFormat,\"result\":_vm.result}}),_c('v-row',_vm._l((_vm.charts),function(chart,index){return _c('v-col',{key:index,attrs:{\"cols\":_vm.mobile ? 12 : 6}},[(_vm.showGraphs)?_c('Graph',{attrs:{\"id\":(\"consultationGraph\" + index),\"title\":chart.title,\"chartData\":chart.config,\"subtitle\":_vm.resultIsCorrective ? 'Correctivo' : 'Preventivo'}}):_vm._e()],1)}),1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-chip-group',{attrs:{\"color\":\"secondary\"}},[_c('v-icon',[_vm._v(\"mdi-filter\")]),_c('v-menu',{attrs:{\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-chip',_vm._g({attrs:{\"small\":\"\"}},on),[_vm._v(\"Serial\")])]}}])},[_c('v-card',{staticClass:\"px-7\",attrs:{\"height\":\"95\"}},[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"10\"}},[_c('v-text-field',{attrs:{\"label\":\"Serial\",\"maxlength\":\"20\",\"counter\":\"20\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.$emit('submitQuery', { serialCode: _vm.serialCode })}},model:{value:(_vm.serialCode),callback:function ($$v) {_vm.serialCode=$$v},expression:\"serialCode\"}})],1),_c('v-col',{attrs:{\"cols\":\"2\"}},[_c('v-btn',{attrs:{\"fab\":\"\",\"x-small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$emit('submitQuery', { serialCode: _vm.serialCode })}}},[_c('v-icon',[_vm._v(\"mdi-magnify\")])],1)],1)],1)],1)],1),_c('v-menu',{attrs:{\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-chip',_vm._g({attrs:{\"small\":\"\"}},on),[_vm._v(\"Código\")])]}}])},[_c('v-card',{staticClass:\"px-7\",attrs:{\"height\":\"95\"}},[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"10\"}},[_c('v-text-field',{attrs:{\"label\":\"Código\",\"maxlength\":\"20\",\"counter\":\"20\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.$emit('submitQuery', { reportCode: _vm.reportCode })}},model:{value:(_vm.reportCode),callback:function ($$v) {_vm.reportCode=$$v},expression:\"reportCode\"}})],1),_c('v-col',{attrs:{\"cols\":\"2\"}},[_c('v-btn',{attrs:{\"fab\":\"\",\"x-small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$emit('submitQuery', { reportCode: _vm.reportCode })}}},[_c('v-icon',[_vm._v(\"mdi-magnify\")])],1)],1)],1)],1)],1),_c('v-menu',{attrs:{\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-chip',_vm._g({attrs:{\"small\":\"\"}},on),[_vm._v(\"#Orden\")])]}}])},[_c('v-card',{staticClass:\"px-7\",attrs:{\"height\":\"95\"}},[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"10\"}},[_c('v-text-field',{attrs:{\"label\":\"#Orden\",\"maxlength\":\"20\",\"counter\":\"20\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.$emit('submitQuery', { 'documentation.serviceOrder': _vm.serviceOrder })}},model:{value:(_vm.serviceOrder),callback:function ($$v) {_vm.serviceOrder=$$v},expression:\"serviceOrder\"}})],1),_c('v-col',{attrs:{\"cols\":\"2\"}},[_c('v-btn',{attrs:{\"fab\":\"\",\"x-small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$emit('submitQuery', { 'documentation.serviceOrder.number': _vm.serviceOrder })}}},[_c('v-icon',[_vm._v(\"mdi-magnify\")])],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <v-chip-group color=\"secondary\">\r\n      <v-icon>mdi-filter</v-icon>\r\n      <v-menu :close-on-content-click=\"false\">\r\n        <template v-slot:activator=\"{ on }\">\r\n          <v-chip v-on=\"on\" small>Serial</v-chip>\r\n        </template>\r\n        <v-card class=\"px-7\" height=\"95\">\r\n          <v-row align=\"center\">\r\n            <v-col cols=\"10\">\r\n              <v-text-field\r\n                v-model=\"serialCode\"\r\n                label=\"Serial\"\r\n                @keyup.enter=\"$emit('submitQuery', { serialCode })\"\r\n                maxlength=\"20\"\r\n                counter=\"20\"\r\n              />\r\n            </v-col>\r\n            <v-col cols=\"2\">\r\n              <v-btn\r\n                @click=\"$emit('submitQuery', { serialCode })\"\r\n                fab\r\n                x-small\r\n                color=\"primary\"\r\n              >\r\n                <v-icon>mdi-magnify</v-icon>\r\n              </v-btn>\r\n            </v-col>\r\n          </v-row>\r\n        </v-card>\r\n      </v-menu>\r\n      <v-menu :close-on-content-click=\"false\">\r\n        <template v-slot:activator=\"{ on }\">\r\n          <v-chip v-on=\"on\" small>Código</v-chip>\r\n        </template>\r\n        <v-card class=\"px-7\" height=\"95\">\r\n          <v-row align=\"center\">\r\n            <v-col cols=\"10\">\r\n              <v-text-field\r\n                v-model=\"reportCode\"\r\n                label=\"Código\"\r\n                @keyup.enter=\"$emit('submitQuery', { reportCode })\"\r\n                maxlength=\"20\"\r\n                counter=\"20\"\r\n              />\r\n            </v-col>\r\n            <v-col cols=\"2\">\r\n              <v-btn\r\n                @click=\"$emit('submitQuery', { reportCode })\"\r\n                fab\r\n                x-small\r\n                color=\"primary\"\r\n              >\r\n                <v-icon>mdi-magnify</v-icon>\r\n              </v-btn>\r\n            </v-col>\r\n          </v-row>\r\n        </v-card>\r\n      </v-menu>\r\n      <v-menu :close-on-content-click=\"false\">\r\n        <template v-slot:activator=\"{ on }\">\r\n          <v-chip v-on=\"on\" small>#Orden</v-chip>\r\n        </template>\r\n        <v-card class=\"px-7\" height=\"95\">\r\n          <v-row align=\"center\">\r\n            <v-col cols=\"10\">\r\n              <v-text-field\r\n                v-model=\"serviceOrder\"\r\n                label=\"#Orden\"\r\n                @keyup.enter=\"$emit('submitQuery', { 'documentation.serviceOrder': serviceOrder })\"\r\n                maxlength=\"20\"\r\n                counter=\"20\"\r\n              />\r\n            </v-col>\r\n            <v-col cols=\"2\">\r\n              <v-btn\r\n                @click=\"$emit('submitQuery', { 'documentation.serviceOrder.number': serviceOrder })\"\r\n                fab\r\n                x-small\r\n                color=\"primary\"\r\n              >\r\n                <v-icon>mdi-magnify</v-icon>\r\n              </v-btn>\r\n            </v-col>\r\n          </v-row>\r\n        </v-card>\r\n      </v-menu>\r\n    </v-chip-group>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'QueryChips',\r\n  data: () => {\r\n    return {\r\n      serviceOrder: '',\r\n      serialCode: '',\r\n      reportCode: '',\r\n      loader: false\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueryChips.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueryChips.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QueryChips.vue?vue&type=template&id=363bbc19&\"\nimport script from \"./QueryChips.vue?vue&type=script&lang=js&\"\nexport * from \"./QueryChips.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VChip,VChipGroup,VCol,VContainer,VIcon,VMenu,VRow,VTextField})\n","<template>\r\n  <v-container>\r\n    <Header\r\n      title=\"Consultas\"\r\n      subtitle=\"Especifique los valores para realizar una consulta\"\r\n    />\r\n    <v-sheet class=\"px-3\">\r\n      <v-row align=\"center\">\r\n        <v-col>\r\n          <v-tabs v-model=\"tab\">\r\n            <v-tabs-slider color=\"accent\" />\r\n            <v-tab>Filtro</v-tab>\r\n            <v-tab :disabled=\"!result.length\">Resultado</v-tab>\r\n          </v-tabs>\r\n        </v-col>  \r\n        <v-col>\r\n          <QueryChips v-show=\"!tab\" @submitQuery=\"searchCorrective\" />\r\n        </v-col>\r\n      </v-row>\r\n      <v-tabs-items v-model=\"tab\">\r\n        <v-tab-item>\r\n          <v-form ref=\"form\">\r\n            <v-row>\r\n              <v-col :cols=\"mobile ? 12 : 6\">\r\n                <v-row align=\"center\">\r\n                  <v-col :cols=\"6\">\r\n                    <v-radio-group row v-model=\"serviceType\">\r\n                      <v-radio\r\n                        class=\"ml-2\"\r\n                        v-for=\"(n, i) in ['Correctivo', 'Preventivo']\"\r\n                        :key=\"i\"\r\n                        :label=\"n\"\r\n                        :value=\"n\"\r\n                      />\r\n                    </v-radio-group>\r\n                  </v-col>\r\n                  <v-col align=\"end\">\r\n                    <v-btn\r\n                      v-show=\"!tab\"\r\n                      class=\"my-1\"\r\n                      @click=\"clearFilter\"\r\n                      :block=\"mobile\"\r\n                      :color=\"serviceType === 'Correctivo' ? 'primary' : 'accent'\"\r\n                      small\r\n                    >\r\n                      <v-icon>mdi-broom</v-icon>\r\n                    </v-btn>\r\n                  </v-col>\r\n                </v-row>\r\n                <v-row class=\"mt-0\">\r\n                  <v-col>\r\n                    <v-autocomplete\r\n                      v-model=\"filter.clientName\"\r\n                      label=\"Cliente\"\r\n                      :items=\"formOptions.clientNames\"\r\n                    />\r\n                  </v-col>\r\n                </v-row>\r\n                <v-row class=\"mt-0\">\r\n                  <v-col>\r\n                    <v-select\r\n                      v-model=\"sla\"\r\n                      :items=\"[\r\n                        'Dentro del acuerdo',\r\n                        'Fuera del acuerdo'\r\n                      ]\"\r\n                      :disabled=\"serviceType === 'Preventivo'\"\r\n                      label=\"S. L. A.\"\r\n                      solo\r\n                    />\r\n                  </v-col>\r\n                  <v-col>\r\n                    <v-select\r\n                      v-model=\"filter.status\"\r\n                      :items=\"statusOptions\"\r\n                      :disabled=\"serviceType === 'Preventivo'\"\r\n                      label=\"Status\"\r\n                      solo\r\n                    />\r\n                  </v-col>\r\n                </v-row>\r\n                <v-row class=\"mt-0\">\r\n                  <v-col>\r\n                    <v-select\r\n                      v-model=\"filter.productType\"\r\n                      :items=\"formOptions.productTypes\"\r\n                      label=\"Producto\"\r\n                      solo\r\n                    />\r\n                  </v-col>\r\n                </v-row>\r\n                <v-row class=\"mt-0\">\r\n                  <v-col>\r\n                    <v-autocomplete\r\n                      v-model=\"technician\"\r\n                      :items=\"formOptions.technicians\"\r\n                      label=\"Personal asignado\"\r\n                    />\r\n                  </v-col>\r\n                </v-row>\r\n              </v-col>\r\n\r\n              <v-col :cols=\"mobile ? 12 : 6\">\r\n                <v-row class=\"mt-4\">\r\n                  \r\n                  <v-col>\r\n                    <v-date-picker\r\n                      v-model=\"dates\"\r\n                      color=\"primary\"\r\n                      range\r\n                      full-width\r\n                      no-title\r\n                      :min=\"minDate\"\r\n                    />\r\n                  </v-col>\r\n                </v-row>\r\n                <small class=\"font-weight-bold\">Filtrar por fecha de:</small>\r\n                <v-row>\r\n                  <v-col :cols=\"mobile ? 12 : 6\">\r\n                    <v-radio-group row v-model=\"dateFilter\" :disabled=\"serviceType === 'Preventivo'\">\r\n                      <v-radio\r\n                        v-for=\"(n, i) in ['reportedAt', 'schedule.scheduledDate']\"\r\n                        :key=\"i\"\r\n                        :label=\"n === 'reportedAt' ? 'Reporte' : 'Atención'\"\r\n                        :value=\"n\"\r\n                      />\r\n                    </v-radio-group>\r\n                  </v-col>\r\n                  <v-col :cols=\"mobile ? 12 : 6\">\r\n                    <v-chip-group color=\"accent\">\r\n                      <v-icon>mdi-filter</v-icon>\r\n                      <v-chip @click=\"dateQuickFilter('thisYear')\" small>{{ thisYear }}</v-chip>\r\n                      <v-chip @click=\"dateQuickFilter('thisMonth')\" small>{{ thisMonth }}</v-chip>\r\n                      <v-chip @click=\"dateQuickFilter('lastMonth')\" small>{{ lastMonth }}</v-chip>\r\n                    </v-chip-group>\r\n                  </v-col>\r\n                </v-row>\r\n                <v-btn\r\n                  class=\"mb-15 mr-10\"\r\n                  @click=\"serviceType === 'Preventivo' ? searchInventory(filter) : searchCorrective(filter)\"\r\n                  fixed absolute\r\n                  bottom right\r\n                  :disabled=\"dates.length !== 2\"\r\n                  color=\"primary\" fab\r\n                  :loading=\"loader\"\r\n                >\r\n                  <v-icon>mdi-magnify</v-icon>\r\n                </v-btn>\r\n              </v-col>\r\n            </v-row>\r\n          </v-form>\r\n        </v-tab-item>\r\n        <v-tab-item>\r\n          <v-row justify=\"center\" v-if=\"resultIsCorrective && result.length\">\r\n            <v-col :cols=\"mobile ? 12 : 3\">\r\n              <DashboardCard :cardInfo=\"cardInfo\" :mobile=\"mobile\" />\r\n            </v-col>\r\n          </v-row>\r\n          <QueryResult :xlsFormat=\"xlsFormat\" :result=\"result\" />\r\n          <v-row>\r\n            <v-col v-for=\"chart, index in charts\" :key=\"index\" :cols=\"mobile ? 12 : 6\">\r\n              <Graph\r\n                v-if=\"showGraphs\"\r\n                :id=\"`consultationGraph${index}`\"\r\n                :title=\"chart.title\"\r\n                :chartData=\"chart.config\"\r\n                :subtitle=\"resultIsCorrective ? 'Correctivo' : 'Preventivo'\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n        </v-tab-item>\r\n      </v-tabs-items>\r\n    </v-sheet>\r\n  </v-container>\r\n</template>\r\n<script>\r\n\r\nimport DashboardCard from '@/components/generals/DashboardCard'\r\nimport Graph from '@/components/generals/Graph'\r\nimport Header from '@/components/generals/Header'\r\nimport QueryChips from '@/components/corrective/QueryChips'\r\nimport QueryResult from '@/components/corrective/QueryResult'\r\nimport moment from 'moment-timezone'\r\nimport { mapMutations, mapGetters, mapActions } from 'vuex'\r\n\r\nexport default {\r\n\r\n  name: 'Consultation',\r\n  components: {\r\n    DashboardCard,\r\n    Graph,\r\n    Header,\r\n    QueryChips,\r\n    QueryResult\r\n  },\r\n\r\n  data: () => {\r\n    return {\r\n      showGraphs: true,\r\n      filter: {},\r\n      dateFilter: 'schedule.scheduledDate',\r\n      technician: '',\r\n      serviceType: 'Correctivo',\r\n      dates: [],\r\n      sla: '',\r\n      result: [],\r\n      tab: 0,\r\n      xlsFormat: [],\r\n      loader: false,\r\n      resultIsCorrective: false\r\n    }\r\n  },\r\n\r\n  computed: {\r\n\r\n    ...mapGetters(['formOptions']),\r\n    \r\n    mobile () {\r\n      return this.$vuetify.breakpoint.name === 'xs' || this.$vuetify.breakpoint.name === 'sm'\r\n    },\r\n\r\n    cardInfo () {\r\n      const withServiceOrders = this.result.filter(\r\n        service => service.documentation.find(\r\n          register => register.serviceOrder && !register.serviceOrder.validated && register.serviceOrder.number !== ''\r\n        )\r\n      )\r\n      return {\r\n        title: 'Por validar',\r\n        data: withServiceOrders,\r\n        icon: require('@/assets/svg/messages.svg')\r\n      }\r\n    },\r\n\r\n    thisYear () {\r\n      return moment(new Date()).format('yyyy')\r\n    },\r\n\r\n    thisMonth () {\r\n      return moment(new Date()).format('MMMM')\r\n    },\r\n\r\n    lastMonth () {\r\n      return moment(new Date()).subtract(1, 'month').format('MMMM')\r\n    },\r\n\r\n    minDate () {\r\n      if (this.dates[0] && !this.dates[1]) return this.dates[0]\r\n      else return ''\r\n    },\r\n\r\n    statusOptions () {\r\n      return ['Cerrado - Operativo', 'Cerrado - Reemplazado', 'Cerrado - Desincorporado']\r\n    },\r\n\r\n    servicesXClient () {\r\n      let labels = this.result.map(service => service.clientName)\r\n      labels = [...new Set(labels)].sort()\r\n      const chart = {\r\n        title: 'Servicios por cliente',\r\n        config: {\r\n          type: 'radar',\r\n          options: {},\r\n          data: {\r\n            labels,\r\n            datasets: [{\r\n              label: 'Servicios registrados',\r\n              data: [],\r\n              backgroundColor: this.chartColor()\r\n            }]\r\n          }\r\n        }\r\n      }\r\n      for (const client of labels) {\r\n        const clientServices = service => service.clientName === client\r\n        chart.config.data.datasets[0].data.push(this.result.filter(clientServices).length)\r\n      }\r\n      return chart\r\n    },\r\n\r\n    servicesXTechnician () {\r\n      let labels = this.result.map(service => service.schedule.technician.fullName)\r\n      labels = [...new Set(labels)].sort()\r\n      const chart = {\r\n        title: 'Servicios por técnico',\r\n        config: {\r\n          type: 'radar',\r\n          options: {},\r\n          data: {\r\n            labels,\r\n            datasets: [{ label: 'Servicios registrados', data: [], borderColor: this.chartColor() }]\r\n          }\r\n        }\r\n      }\r\n      for (const technician of labels) {\r\n        const technicianServices = service => service.schedule.technician.fullName === technician\r\n        chart.config.data.datasets[0].data.push(this.result.filter(technicianServices).length)\r\n      }\r\n      return chart\r\n    },\r\n\r\n    servicesXProduct () {\r\n      let labels = this.result.map(service => service.productType)\r\n      labels = [...new Set(labels)].sort()\r\n      const chart = {\r\n        title: 'Servicios por producto',\r\n        config: {\r\n          type: 'line',\r\n          options: { indexAxis: 'y' },\r\n          data: {\r\n            labels,\r\n            datasets: [{\r\n              label: 'Servicios registrados',\r\n              data: [],\r\n              borderColor: this.chartColor()\r\n            }]\r\n          }\r\n        }\r\n      }\r\n      for (const label of labels) {\r\n        const productCorrectives = service => service.productType === label\r\n        chart.config.data.datasets[0].data.push(this.result.filter(productCorrectives).length)\r\n      }\r\n      return chart\r\n    },\r\n\r\n    servicesXState () {\r\n      let labels = this.result.map(service => service.officeState)\r\n      labels = [...new Set(labels)].sort()\r\n      const chart = {\r\n        title: 'Servicios por estado',\r\n        config: {\r\n          type: 'bar',\r\n          options: {},\r\n          data: {\r\n            labels,\r\n            datasets: [{\r\n              label: 'Servicios registrados',\r\n              data: [],\r\n              backgroundColor: this.chartColor(),\r\n              borderRadius: 5\r\n            }]\r\n          }\r\n        }\r\n      }\r\n      for (const label of labels) {\r\n        const productCorrectives = service => service.officeState === label\r\n        chart.config.data.datasets[0].data.push(this.result.filter(productCorrectives).length)\r\n      }\r\n      return chart\r\n    },\r\n\r\n    servicesXMonth () {\r\n      const labels = [\r\n        'enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio',\r\n        'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre'\r\n      ]\r\n      const chart = {\r\n        title: 'Servicios por mes',\r\n        config: {\r\n          type: 'line',\r\n          options: {},\r\n          data: {\r\n            labels,\r\n            datasets: [{ label: 'Fecha de atención', data: [], borderColor: this.chartColor() }]\r\n          }\r\n        }\r\n      }\r\n      if (this.serviceType === 'Correctivo') chart.config.data.datasets.push(\r\n        { label: 'Fecha de reporte', data: [], borderColor: this.$vuetify.theme.currentTheme.secondary }\r\n      )\r\n      for (const label of labels) {\r\n        const servicesByReportDate = service => moment(service.reportedAt).format('MMMM') === label\r\n        const servicesByScheduledDate = service => moment(service.schedule.scheduledDate).format('MMMM') === label\r\n        chart.config.data.datasets[0].data.push(this.result.filter(servicesByScheduledDate).length)\r\n        if (this.serviceType === 'Correctivo') chart.config.data.datasets[1].data.push(this.result.filter(servicesByReportDate).length)\r\n      }\r\n      return chart\r\n    },\r\n\r\n    slaXClient () {\r\n      let labels = this.result.map(service => service.clientName)\r\n      labels = [...new Set(labels)].sort()\r\n      const chart = {\r\n        title: 'S. L. A. Por cliente',\r\n        config: {\r\n          data: {\r\n            datasets: [\r\n              {\r\n                type: 'bar',\r\n                label: '% Cumplimiento',\r\n                data: [],\r\n                backgroundColor: this.$vuetify.theme.currentTheme.primary,\r\n                borderRadius: 5\r\n              },\r\n              {\r\n                type: 'line',\r\n                label: 'Meta',\r\n                data: [],\r\n                borderColor: this.$vuetify.theme.currentTheme.secondary\r\n              },\r\n              {\r\n                type: 'line',\r\n                label: 'Promedio general',\r\n                data: [],\r\n                borderColor: '',\r\n              }\r\n            ],\r\n            labels\r\n          },\r\n          options: {\r\n            scales: {\r\n              y: { ticks: { callback: (value) => '%' + value}}\r\n            }\r\n          }\r\n        }\r\n      }\r\n      let generalAverage = 0\r\n      for (const label of labels) {\r\n        const clientServices = this.result.filter(service => service.clientName === label && !service.itsSpecial)\r\n        const slaOk = clientServices.filter(service => !service.expired)\r\n        const clientAverage = (slaOk.length / clientServices.length) * 100\r\n        chart.config.data.datasets[0].data.push(clientAverage)\r\n        chart.config.data.datasets[1].data.push(95)\r\n        generalAverage = clientAverage ? generalAverage + clientAverage : generalAverage\r\n      }\r\n      generalAverage = generalAverage / labels.length\r\n      let counter = 0\r\n      do {\r\n        chart.config.data.datasets[2].data.push(generalAverage)\r\n        counter++\r\n      } while (counter <= labels.length)\r\n      chart.config.data.datasets[2].borderColor = (generalAverage >= 95)\r\n        ? this.$vuetify.theme.currentTheme.success\r\n        : this.$vuetify.theme.currentTheme.error\r\n      return chart\r\n    },\r\n\r\n    charts () {\r\n      const correctiveCharts = [\r\n        this.servicesXClient, this.servicesXTechnician, this.servicesXProduct, this.servicesXState, this.servicesXMonth, this.slaXClient\r\n      ]\r\n      const preventiveCharts = [\r\n        this.servicesXClient, this.servicesXTechnician, this.servicesXProduct, this.servicesXState\r\n      ]\r\n      return this.serviceType === 'Correctivo' ? correctiveCharts : preventiveCharts\r\n    }\r\n\r\n  },\r\n\r\n  methods: {\r\n\r\n    ...mapActions(['findDocuments']),\r\n    ...mapMutations(['showSnackbar']),\r\n\r\n    chartColor () {\r\n      return this.serviceType === 'Correctivo' ? this.$vuetify.theme.currentTheme.primary : this.$vuetify.theme.currentTheme.accent\r\n    },\r\n    \r\n    dateQuickFilter (type) {\r\n      this.dates = []\r\n      let firstDate = `${moment(new Date()).format('yyyy-MM-')}01`\r\n      let secondDate = moment(firstDate).add(1, 'M').format('YYYY-MM-DD')\r\n      switch (type) {\r\n        case 'thisMonth':\r\n          secondDate = moment(secondDate).subtract(1, 'days').format('YYYY-MM-DD')\r\n          this.dates.push(firstDate)\r\n          this.dates.push(secondDate)\r\n          break\r\n        case 'lastMonth':\r\n          secondDate = firstDate\r\n          firstDate = moment(firstDate).subtract(1, 'M').format('YYYY-MM-DD')\r\n          secondDate = moment(secondDate).subtract(1, 'days').format('YYYY-MM-DD')\r\n          this.dates.push(firstDate)\r\n          this.dates.push(secondDate)\r\n          break\r\n        case 'thisYear':\r\n          firstDate = `${moment(new Date()).format('yyyy')}-01-01`\r\n          secondDate = moment(firstDate).add(1, 'Y').format('yyyy-MM-DD')\r\n          secondDate = moment(secondDate).subtract(1, 'days').format('YYYY-MM-DD')\r\n          this.dates.push(firstDate)\r\n          this.dates.push(secondDate)\r\n          break\r\n        default:\r\n          break\r\n      }\r\n    \r\n    },\r\n\r\n    clearFilter () {\r\n      this.filter = {}\r\n      this.dates = []\r\n      this.technician = ''\r\n      this.sla = ''\r\n    },\r\n\r\n    searchCorrective (filter) {\r\n      this.showGraphs = false\r\n      this.loader = true\r\n      Promise.all([\r\n        this.findDocuments({ collection: 'Closed', filter }),\r\n        this.findDocuments({ collection: 'Active', filter })\r\n      ])\r\n        .then((res) => {\r\n          this.loader = false\r\n          this.result = [...res[0], ...res[1]]\r\n          this.showSnackbar({ message: `Resultados de su búsqueda: ${this.result.length}` })\r\n          if (this.result.length < 1) return\r\n          this.reportXlsFormat(this.result)\r\n          this.resultIsCorrective =  true\r\n          this.showGraphs = true\r\n        })\r\n        .catch(() => this.loader = false)\r\n    },\r\n\r\n    discardProps (filter) {\r\n      delete filter.expired\r\n      delete filter.status\r\n      return filter\r\n    },\r\n\r\n    searchInventory (filter) {\r\n      this.showGraphs = false\r\n      this.loader = true\r\n      filter = this.discardProps(filter)\r\n      console.log(filter)\r\n      this.findDocuments({ collection: 'Inventory', filter })\r\n        .then((res) => {\r\n          this.result = res\r\n          if (this.result.length) this.inventoryXlsFormat(this.result)\r\n          this.showSnackbar({ message:  `Resultados de su búsqueda: ${this.result.length}`}),\r\n          this.resultIsCorrective =  false\r\n          this.loader = false\r\n          this.showGraphs = true\r\n        })\r\n        .catch(() => this.loader = false)\r\n    },\r\n\r\n    reportXlsFormat (data) {\r\n      const rows = []\r\n      for (const service of data) {\r\n        const filteredVisits = service.documentation.filter(i => i.visit)\r\n        const Visitas = filteredVisits.length\r\n        const lasVisit = Visitas ? filteredVisits[Visitas - 1] : null\r\n        const Documentacion = lasVisit ? lasVisit.observations : service.documentation[service.documentation.length - 1].observations\r\n        const Fecha_atencion = lasVisit\r\n          ? moment(lasVisit.date).parseZone('America/Caracas').format('L LT')\r\n          : moment(service.schedule.scheduledDate).parseZone('America/Caracas').format('L LT')\r\n        const Repuestos = []\r\n        for (const request of service.pieces) Repuestos.push(`${request.pieceName} (${request.quantity})`)\r\n        rows.push({\r\n          Fecha_reporte: moment(service.reportedAt).parseZone('America/Caracas').format('L LT'),\r\n          Fecha_atencion,\r\n          Cliente: service.clientName,\r\n          Oficina: service.officeName,\r\n          Estado: service.officeState,\r\n          Region: service.officeRegion,\r\n          Reporte: service.reportCode,\r\n          Producto: service.productName,\r\n          Serial: service.serialCode,\r\n          Falla: service.description,\r\n          Documentacion,\r\n          Status: service.status,\r\n          SLA: service.expired ? 'Fuera del acuerdo' : 'Dentro del acuerdo',\r\n          Tecnico: lasVisit ? lasVisit.technician.fullName : service.schedule.technician.fullName,\r\n          Categoria: service.category,\r\n          Repuestos,\r\n          Visitas,\r\n          Zona: service.isLocal ? 'Local' : 'Foránea'\r\n        })\r\n      }\r\n      this.xlsFormat = rows\r\n      this.tab = 1\r\n    },\r\n\r\n    inventoryXlsFormat (data) {\r\n      const rows = []\r\n      for (const service of data) {\r\n        rows.push({\r\n          Cliente: service.clientName,\r\n          Oficina: service.officeName,\r\n          Estado: service.officeState,\r\n          Region: service.officeRegion,\r\n          Producto: service.productName,\r\n          Serial: service.serialCode,\r\n          Ubicación: service.location,\r\n          Status: service.status,\r\n          Técnico: service.schedule.technician.fullName,\r\n          Fecha_atencion: service.schedule.scheduledDate,\r\n          Orden_servicio: service.serviceOrder,\r\n          Observaciones: service.observations\r\n        })\r\n      }\r\n      this.xlsFormat = rows\r\n      this.tab = 1\r\n    },\r\n\r\n    assembleFilter () {\r\n      const filterDateBy = this.serviceType === 'Preventivo' ? 'schedule.scheduledDate' : this.dateFilter\r\n      this.filter[\"$and\"] = [\r\n        { [filterDateBy]: { \"$gte\": this.dates[0] } },\r\n        { [filterDateBy]: { \"$lte\": this.dates[1] } },\r\n        { \"schedule.technician.fullName\": this.technician.fullName }\r\n      ]\r\n    }\r\n  },\r\n\r\n  watch: {\r\n\r\n    sla: function () {\r\n      this.filter.expired = this.sla === 'Fuera del acuerdo'\r\n    },\r\n\r\n    technician: function () {\r\n      this.assembleFilter()\r\n    },\r\n\r\n    serviceType: function () {\r\n      this.assembleFilter()\r\n    },\r\n\r\n    dates: function () {\r\n      this.assembleFilter()\r\n    },\r\n  \r\n    dateFilter: function () {\r\n      this.assembleFilter()\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Consultation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Consultation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Consultation.vue?vue&type=template&id=cb704256&\"\nimport script from \"./Consultation.vue?vue&type=script&lang=js&\"\nexport * from \"./Consultation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VTabsSlider } from 'vuetify/lib/components/VTabs';\ninstallComponents(component, {VAutocomplete,VBtn,VChip,VChipGroup,VCol,VContainer,VDatePicker,VForm,VIcon,VRadio,VRadioGroup,VRow,VSelect,VSheet,VTab,VTabItem,VTabs,VTabsItems,VTabsSlider})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"title\":\"Artículos\",\"subtitle\":\"Administre las piezas registradas\"}}),_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{attrs:{\"md\":\"3\"}},[_c('v-text-field',{attrs:{\"prepend-inner-icon\":\"mdi-magnify\",\"label\":\"Filtrar\"},model:{value:(_vm.tableFilter),callback:function ($$v) {_vm.tableFilter=$$v},expression:\"tableFilter\"}})],1)],1),_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.collections.Piece,\"search\":_vm.tableFilter},scopedSlots:_vm._u([{key:\"top\",fn:function(){return [_c('v-btn',{staticClass:\"ma-1\",attrs:{\"small\":\"\",\"color\":\"secondary\"},on:{\"click\":function($event){return _vm.showPieceForm(null)}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-plus\")]),_vm._v(\" Agregar \")],1)]},proxy:true},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.showPieceForm(item)}}},[_vm._v(\" mdi-pencil \")]),_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.deleteItem(item)}}},[_vm._v(\" mdi-delete \")])]}}])}),_c('v-dialog',{attrs:{\"max-width\":\"500px\",\"persistent\":\"\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[(_vm.dialog)?_c('PieceForm',{attrs:{\"editing\":_vm.selectedDocument,\"collections\":_vm.collections,\"mobile\":_vm.mobile},on:{\"hideInterface\":_vm.hideInterface}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"closable\":\"1\",\"title\":\"Formulario de registro\",\"subtitle\":\"Complete la información del formulario\"},on:{\"hideInterface\":function($event){return _vm.$emit('hideInterface')}}}),_c('v-card-text',[_c('v-form',{ref:\"form\",model:{value:(_vm.form),callback:function ($$v) {_vm.form=$$v},expression:\"form\"}},[_c('v-row',[_c('v-text-field',{staticClass:\"mx-1\",attrs:{\"rules\":_vm.rules.required,\"maxlength\":\"30\",\"counter\":\"30\",\"label\":\"Código\"},model:{value:(_vm.pieceForm.code),callback:function ($$v) {_vm.$set(_vm.pieceForm, \"code\", $$v)},expression:\"pieceForm.code\"}})],1),_c('v-row',[_c('v-text-field',{staticClass:\"mx-1\",attrs:{\"rules\":_vm.rules.required,\"label\":\"Nombre\",\"counter\":\"140\",\"maxlength\":\"140\",\"hint\":\"Nombre para mostrar al usuario\"},model:{value:(_vm.pieceForm.pieceName),callback:function ($$v) {_vm.$set(_vm.pieceForm, \"pieceName\", $$v)},expression:\"pieceForm.pieceName\"}})],1),_c('v-row',[_c('v-textarea',{staticClass:\"mx-1\",attrs:{\"label\":\"Descripción\",\"counter\":\"140\",\"maxlength\":\"140\",\"rows\":\"1\",\"auto-grow\":\"\",\"rules\":_vm.rules.required},model:{value:(_vm.pieceForm.description),callback:function ($$v) {_vm.$set(_vm.pieceForm, \"description\", $$v)},expression:\"pieceForm.description\"}})],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-text-field',{attrs:{\"label\":\"Stock\",\"type\":\"number\"},model:{value:(_vm.pieceForm.stock),callback:function ($$v) {_vm.$set(_vm.pieceForm, \"stock\", $$v)},expression:\"pieceForm.stock\"}})],1),_c('v-col',{attrs:{\"cols\":\"9\"}},[_c('v-select',{attrs:{\"label\":\"Categoria\",\"items\":_vm.collections.Product.map(function (i) { return i.productType; })},model:{value:(_vm.pieceForm.pieceCategory),callback:function ($$v) {_vm.$set(_vm.pieceForm, \"pieceCategory\", $$v)},expression:\"pieceForm.pieceCategory\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-autocomplete',{attrs:{\"allow-overflow\":\"\",\"deletable-chips\":\"\",\"multiple\":\"\",\"small-chips\":\"\",\"items\":_vm.filteredItems.map(function (i) { return i.productName; }),\"label\":\"Productos asociados\"},model:{value:(_vm.pieceForm.asociatedProducts),callback:function ($$v) {_vm.$set(_vm.pieceForm, \"asociatedProducts\", $$v)},expression:\"pieceForm.asociatedProducts\"}})],1)],1)],1)],1),(_vm.requiresMassiveUpdate)?_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',[_c('UpdateWarning',{attrs:{\"triggeringProp\":\"Nombre de pieza\",\"modifies\":_vm.DependenciesNames}})],1)],1):_vm._e(),_c('v-card-actions',[_c('v-btn',{staticClass:\"mx-auto\",attrs:{\"disabled\":!_vm.form,\"loading\":_vm.loader,\"color\":\"primary\",\"block\":\"\"},on:{\"click\":function($event){return _vm.save(_vm.pieceForm)}}},[_vm._v(\" Guardar \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-alert',{attrs:{\"type\":\"error\",\"text\":\"\"}},[_vm._v(\" Has modificado una propiedad relacionada a varios datos (\"+_vm._s(_vm.triggeringProp)+\"), será necesario hacer cambios en múltiples colecciones de datos. Asegurate de conocer los cambios, contar con una conexión estable e indicar a tu equipo que reingrese a la app al finalizar. De esta forma, podemos mantener la consistencia de la información. \")]),_c('v-card-subtitle',[_vm._v(\"Propiedades a modificar\")]),_c('v-list',_vm._l((_vm.modifies),function(item,index){return _c('v-list-item',{key:index},[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"small\":\"\",\"left\":\"\"}},[_vm._v(\"mdi-alert-circle-outline\")])],1),_c('v-list-item-title',[_vm._v(\" \"+_vm._s(item)+\" \")])],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <v-alert type=\"error\" text>\r\n      Has modificado una propiedad relacionada a varios datos ({{ triggeringProp }}),\r\n      será necesario hacer cambios en múltiples colecciones de datos. Asegurate de conocer los cambios,\r\n      contar con una conexión estable e indicar a tu equipo que reingrese a la app al finalizar.\r\n      De esta forma, podemos mantener la consistencia de la información.\r\n    </v-alert>\r\n    <v-card-subtitle>Propiedades a modificar</v-card-subtitle>\r\n    <v-list>\r\n      <v-list-item v-for=\"item, index of modifies\" :key=\"index\">\r\n        <v-list-item-icon>\r\n          <v-icon small left>mdi-alert-circle-outline</v-icon>\r\n        </v-list-item-icon>\r\n        <v-list-item-title>\r\n          {{ item }}\r\n        </v-list-item-title>\r\n      </v-list-item>\r\n    </v-list>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'UpdateWarning',\r\n  props: ['triggeringProp', 'modifies']\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateWarning.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateWarning.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UpdateWarning.vue?vue&type=template&id=10b626f9&\"\nimport script from \"./UpdateWarning.vue?vue&type=script&lang=js&\"\nexport * from \"./UpdateWarning.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VAlert,VCardSubtitle,VContainer,VIcon,VList,VListItem,VListItemIcon,VListItemTitle})\n","<template>\r\n  <v-container>\r\n    <Header\r\n      closable=\"1\"\r\n      title=\"Formulario de registro\"\r\n      subtitle=\"Complete la información del formulario\"\r\n      @hideInterface=\"$emit('hideInterface')\"\r\n    />\r\n    <v-card-text>\r\n      <v-form v-model=\"form\" ref=\"form\">\r\n        <v-row>\r\n          <v-text-field\r\n            class=\"mx-1\"\r\n            v-model=\"pieceForm.code\"\r\n            :rules=\"rules.required\"\r\n            maxlength=\"30\"\r\n            counter=\"30\"\r\n            label=\"Código\"\r\n          />\r\n        </v-row>\r\n        <v-row>\r\n          <v-text-field\r\n            class=\"mx-1\"\r\n            v-model=\"pieceForm.pieceName\"\r\n            :rules=\"rules.required\"\r\n            label=\"Nombre\"\r\n            counter=\"140\"\r\n            maxlength=\"140\"\r\n            hint=\"Nombre para mostrar al usuario\"\r\n          />\r\n        </v-row>\r\n        <v-row>\r\n          <v-textarea\r\n            class=\"mx-1\"\r\n            v-model=\"pieceForm.description\"\r\n            label=\"Descripción\"\r\n            counter=\"140\"\r\n            maxlength=\"140\"\r\n            rows=\"1\"\r\n            auto-grow\r\n            :rules=\"rules.required\"\r\n          />\r\n        </v-row>\r\n        <v-row>\r\n          <v-col cols=\"3\">\r\n            <v-text-field\r\n              v-model=\"pieceForm.stock\"\r\n              label=\"Stock\"\r\n              type=\"number\"\r\n            />\r\n          </v-col>\r\n          <v-col cols=\"9\">\r\n            <v-select\r\n              v-model=\"pieceForm.pieceCategory\"\r\n              label=\"Categoria\"\r\n              :items=\"collections.Product.map((i) => i.productType)\"\r\n            />\r\n          </v-col>\r\n        </v-row>\r\n        <v-row>\r\n          <v-col cols=\"12\">\r\n            <v-autocomplete\r\n              v-model=\"pieceForm.asociatedProducts\"\r\n              allow-overflow\r\n              deletable-chips\r\n              multiple\r\n              small-chips\r\n              :items=\"filteredItems.map((i) => i.productName)\"\r\n              label=\"Productos asociados\"\r\n            />\r\n          </v-col>\r\n        </v-row>\r\n      </v-form>\r\n    </v-card-text>\r\n    <v-row v-if=\"requiresMassiveUpdate\" align=\"center\">\r\n      <v-col>\r\n        <UpdateWarning triggeringProp=\"Nombre de pieza\" :modifies=\"DependenciesNames\" />\r\n      </v-col>\r\n    </v-row>\r\n    <v-card-actions>\r\n      <v-btn\r\n        class=\"mx-auto\"\r\n        :disabled=\"!form\"\r\n        :loading=\"loader\"\r\n        color=\"primary\"\r\n        block\r\n        @click=\"save(pieceForm)\"\r\n      >\r\n        Guardar\r\n      </v-btn>\r\n    </v-card-actions>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { mapMutations, mapActions } from 'vuex'\r\nimport { rules } from '@/helpers/form'\r\nimport Header from '@/components/generals/Header'\r\nimport UpdateWarning from '@/components/generals/UpdateWarning.vue'\r\n\r\nexport default {\r\n  name: 'PieceForm',\r\n  components: { Header, UpdateWarning },\r\n  props: ['collections', 'mobile', 'editing'],\r\n\r\n  data: () => {\r\n    return {\r\n      form: false,\r\n      loader: false,\r\n      pieceForm: {\r\n        asociatedProducts: [],\r\n        pieceName: '',\r\n        stock: '',\r\n        pieceCategory: '',\r\n        code: '',\r\n        description: ''\r\n      },\r\n      defaultItem: {\r\n        asociatedProducts: [],\r\n        pieceName: '',\r\n        stock: 99,\r\n        pieceCategory: '',\r\n        code: '',\r\n        description: ''\r\n      },\r\n      rules,\r\n      DependenciesNames: [\r\n      'Reportes activos', 'Reportes cerrados',\r\n      'Solicitudes', 'Despachos'\r\n    ],\r\n\r\n    }\r\n  },\r\n\r\n  created () {\r\n    if (this.editing) return this.pieceForm = Object.assign({}, this.editing)\r\n    else this.pieceForm = Object.assign({}, this.defaultItem)\r\n  },\r\n\r\n  computed: {\r\n\r\n    filteredItems () {\r\n      const filteredPieces = this.collections.Product.filter(n => n.productType === this.pieceForm.pieceCategory)\r\n      return filteredPieces\r\n    },\r\n\r\n    requiresMassiveUpdate () {\r\n      if (!this.editing) return\r\n      else return (this.editing.pieceName !== this.pieceForm.pieceName)\r\n    }\r\n\r\n  },\r\n\r\n  methods: {\r\n\r\n    ...mapMutations(['showSnackbar']),\r\n    ...mapActions(['createDocument', 'updateDocument', 'updateDocuments', 'findDocuments']),\r\n\r\n    async preventDuplicity (form) {\r\n      const { code, _id } = form\r\n      const filter = { code, _id: { \"$ne\": _id || null } }\r\n      const res = await this.findDocuments({ collection: 'Piece' , filter })\r\n      if (res.length) return this.showSnackbar({ message: 'Registrado anteriormente, verifique el código' }), true\r\n      else return false\r\n    },\r\n\r\n    async save (body) {\r\n      this.loader = true\r\n      const registeredBefore = await this.preventDuplicity(body)\r\n      if (registeredBefore) return this.loader = false\r\n      if (this.editing) return this.update({ collection: 'Piece', body })\r\n      else this.create({ collection: 'Piece', body })\r\n    },\r\n\r\n    update (document) {\r\n      this.updateDocument(document)\r\n        .then(() => { if (this.requiresMassiveUpdate) this.updateDependencies(document) })\r\n        .then(() => this.$emit('hideInterface'))\r\n        .catch(() => this.loader = false)\r\n    },\r\n\r\n    updateDependencies ({ body }) {\r\n      const actions = []\r\n      const query = { pieceName: this.editing.pieceName }\r\n      const update = { pieceName: body.pieceName }\r\n      const collections = this.dependencies(query, update)\r\n      for (const collection of collections) actions.push(this.updateDocuments(collection))\r\n      Promise.all(actions)\r\n    },\r\n\r\n    dependencies (query, update) {\r\n      return [\r\n        {\r\n          collection: 'Active',\r\n          query: { \"pieces.pieceName\": query.pieceName },\r\n          update: { $set: {\"pieces.$[piece].pieceName\": update.pieceName } },\r\n          options: {\r\n            arrayFilters: [{ \"piece.pieceName\": query.pieceName }]\r\n          }\r\n        },\r\n        {\r\n          collection: 'Closed',\r\n          query: { \"pieces.pieceName\": query.pieceName },\r\n          update: { $set: {\"pieces.$[piece].pieceName\": update.pieceName } },\r\n          options: {\r\n            arrayFilters: [{ \"piece.pieceName\": query.pieceName }]\r\n          }\r\n        },\r\n        { collection: 'Request', query, update, options: {} },\r\n        { collection: 'Dispatch', query, update, options: {} },\r\n      ]\r\n    },\r\n\r\n    create (document) {\r\n      this.createDocument(document)\r\n        .then(() => this.$emit('hideInterface'))\r\n        .catch(() => this.loader = false)\r\n    }\r\n  }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PieceForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PieceForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PieceForm.vue?vue&type=template&id=67d482c7&\"\nimport script from \"./PieceForm.vue?vue&type=script&lang=js&\"\nexport * from \"./PieceForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VAutocomplete,VBtn,VCardActions,VCardText,VCol,VContainer,VForm,VRow,VSelect,VTextField,VTextarea})\n","<template>\r\n  <v-container>\r\n    <Header title=\"Artículos\" subtitle=\"Administre las piezas registradas\" />\r\n    <v-row align=\"center\">\r\n      <v-col md=\"3\">\r\n        <v-text-field v-model=\"tableFilter\" prepend-inner-icon=\"mdi-magnify\" label=\"Filtrar\" />\r\n      </v-col>\r\n    </v-row>\r\n    <v-data-table\r\n      :headers=\"headers\"\r\n      :items=\"collections.Piece\"\r\n      :search=\"tableFilter\"\r\n    >\r\n      <template v-slot:top>\r\n        <v-btn\r\n          class=\"ma-1\"\r\n          @click=\"showPieceForm(null)\"\r\n          small\r\n          color=\"secondary\"\r\n        >\r\n          <v-icon left>mdi-plus</v-icon>\r\n          Agregar\r\n        </v-btn>\r\n      </template>\r\n      <template v-slot:item.actions=\"{ item }\">\r\n        <v-icon\r\n          small\r\n          class=\"mr-2\"\r\n          @click=\"showPieceForm(item)\"\r\n        >\r\n          mdi-pencil\r\n        </v-icon>\r\n        <v-icon\r\n          small\r\n          @click=\"deleteItem(item)\"\r\n        >\r\n          mdi-delete\r\n        </v-icon>\r\n      </template>\r\n    </v-data-table>\r\n    <v-dialog\r\n      v-model=\"dialog\"\r\n      max-width=\"500px\"\r\n      persistent\r\n    >\r\n      <v-card>\r\n        <PieceForm\r\n          v-if=\"dialog\"\r\n          :editing=\"selectedDocument\"\r\n          :collections=\"collections\"\r\n          :mobile=\"mobile\"\r\n          @hideInterface=\"hideInterface\"\r\n        />\r\n      </v-card>\r\n    </v-dialog>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Header from '@/components/generals/Header'\r\nimport PieceForm from '@/components/storehouse/PieceForm'\r\nimport { mapState, mapActions } from 'vuex'\r\n\r\nexport default {\r\n  name: 'Pieces',\r\n  components: { Header, PieceForm },\r\n\r\n  data: () => {\r\n    return {\r\n      tableFilter: '',\r\n      headers: [\r\n        {\r\n          text: 'Descripción',\r\n          align: 'start',\r\n          value: 'description'\r\n        },\r\n        { text: 'Código', value: 'code' },\r\n        { text: 'Categoria', value: 'pieceCategory' },\r\n        { text: 'Acciones', value: 'actions', sortable: false }\r\n      ],\r\n      dialog: false,\r\n      selectedDocument: {}\r\n    }\r\n  },\r\n\r\n  computed: {\r\n\r\n    ...mapState(['collections']),\r\n\r\n    mobile () {\r\n      return this.$vuetify.breakpoint.name === 'xs' || this.$vuetify.breakpoint.name === 'sm'\r\n    }\r\n\r\n  },\r\n\r\n  methods: {\r\n\r\n    ...mapActions(['deleteDocument']),\r\n\r\n    showPieceForm (edit) {\r\n      if (edit) this.selectedDocument = Object.assign({}, edit)\r\n      else this.selectedDocument = null\r\n      this.dialog = true\r\n    },\r\n\r\n    hideInterface () {\r\n      this.dialog = false\r\n      this.selectedDocument = Object.assign({}, {})\r\n    },\r\n\r\n    deleteItem (body) {\r\n      confirm('Por favor confirme que desea eliminar este artículo') && this.deleteDocument({ collection: 'Piece', body })\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pieces.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pieces.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pieces.vue?vue&type=template&id=5384c150&\"\nimport script from \"./Pieces.vue?vue&type=script&lang=js&\"\nexport * from \"./Pieces.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCol,VContainer,VDataTable,VDialog,VIcon,VRow,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"title\":\"Solicitudes\",\"subtitle\":\"Gestione la reposición del stock de repuestos\"}}),_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[(_vm.updatingState)?_c('v-sheet',{staticClass:\"pa-3\"},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"300\",\"type\":\"card\"}})],1):_c('Graph',{attrs:{\"id\":\"requestsGraph1\",\"updatingState\":_vm.updatingState,\"chartData\":_vm.requestsXTechnician,\"title\":\"Solicitudes por técnicos\",\"subtitle\":\"Activas\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[(_vm.updatingState)?_c('v-sheet',{staticClass:\"pa-3\"},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"300\",\"type\":\"card\"}})],1):_c('Graph',{attrs:{\"id\":\"requestsGraph2\",\"updatingState\":_vm.updatingState,\"chartData\":_vm.requestsXProduct,\"title\":\"Solicitudes por productos\",\"subtitle\":\"Activas\"}})],1)],1),_c('v-sheet',[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{staticClass:\"ml-2\",attrs:{\"md\":\"3\"}},[_c('v-text-field',{attrs:{\"prepend-inner-icon\":\"mdi-magnify\",\"label\":\"Filtrar\"},model:{value:(_vm.tableFilter),callback:function ($$v) {_vm.tableFilter=$$v},expression:\"tableFilter\"}})],1)],1),_c('v-data-table',{staticClass:\"elevation-2\",attrs:{\"headers\":_vm.headers,\"items\":_vm.requestPerService,\"search\":_vm.tableFilter},scopedSlots:_vm._u([{key:\"top\",fn:function(){return [_c('v-dialog',{attrs:{\"fullscreen\":\"\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[(_vm.dialog)?_c('RequestDetails',{attrs:{\"originalItem\":_vm.originalItem,\"selectedDocument\":_vm.selectedDocument},on:{\"hideInterface\":function($event){_vm.dialog = false}}}):_vm._e()],1)],1)]},proxy:true},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-btn',{attrs:{\"color\":\"primary\",\"small\":\"\"},on:{\"click\":function($event){return _vm.editItem(item)}}},[_c('v-icon',[_vm._v(\" mdi-dots-vertical \")])],1)]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"closable\":\"1\",\"title\":\"Información de solicitud\",\"subtitle\":(\"Servicio: \" + (_vm.selectedDocument.reportCode))},on:{\"hideInterface\":function($event){return _vm.$emit('hideInterface')}}}),_c('v-form',{ref:\"form\",model:{value:(_vm.formStatus),callback:function ($$v) {_vm.formStatus=$$v},expression:\"formStatus\"}},[_c('v-tabs',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tabs-slider',{attrs:{\"color\":\"accent\"}}),_c('v-tab',[_vm._v(\"Detalles\")]),_c('v-tab',[_vm._v(\"Despacho\")])],1),_c('v-tabs-items',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab-item',[_c('v-card',{attrs:{\"min-height\":\"500\",\"flat\":\"\"}},[_c('v-row',{attrs:{\"justify\":\"space-around\"}},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 4}},[_c('v-list',[_c('v-list-item-group',{attrs:{\"color\":\"primary\"}},_vm._l((_vm.listItems),function(item,index){return _c('v-list-item',{key:index},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(_vm._s(item.icon))])],1),_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(item.title)}})],1)],1)}),1)],1)],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},_vm._l((_vm.selectedDocument.requests),function(item,index){return _c('v-row',{key:index,attrs:{\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"9\"}},[_c('v-select',{attrs:{\"items\":_vm.filteredListOfPieces,\"rules\":_vm.rules.required,\"hint\":item.replacementCause,\"persistent-hint\":\"\"},model:{value:(item.pieceName),callback:function ($$v) {_vm.$set(item, \"pieceName\", $$v)},expression:\"item.pieceName\"}})],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-btn',{attrs:{\"disabled\":_vm.userNotAuthorized,\"small\":\"\",\"color\":\"error\"},on:{\"click\":function($event){return _vm.deleteItem(item)}}},[_c('v-icon',[_vm._v(\"mdi-delete\")])],1)],1)],1)}),1)],1)],1)],1),_c('v-tab-item',[_c('v-card',{attrs:{\"min-height\":\"500\",\"flat\":\"\"}},[_c('v-row',{attrs:{\"justify\":\"space-around\"}},[_c('v-col',{staticClass:\"mt-1\",attrs:{\"cols\":_vm.mobile ? 12 : 4}},[_c('v-row',[_c('v-col',[_c('v-select',{attrs:{\"items\":_vm.formOptions.technicians,\"prepend-inner-icon\":\"mdi-account-arrow-left\",\"label\":\"Destinatario\"},on:{\"change\":function($event){_vm.content = []}},model:{value:(_vm.technician),callback:function ($$v) {_vm.technician=$$v},expression:\"technician\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-menu',{attrs:{\"transition\":\"scale-transition\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"readonly\":\"\",\"label\":\"Fecha de despacho\",\"rules\":_vm.rules.required,\"prepend-inner-icon\":\"mdi-calendar-question\"},model:{value:(_vm.dispatch.date),callback:function ($$v) {_vm.$set(_vm.dispatch, \"date\", $$v)},expression:\"dispatch.date\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.menu1),callback:function ($$v) {_vm.menu1=$$v},expression:\"menu1\"}},[_c('v-date-picker',{attrs:{\"first-day-of-week\":\"1\",\"locale\":\"es\",\"no-title\":\"\"},on:{\"input\":function($event){_vm.menu1 = false}},model:{value:(_vm.dispatch.date),callback:function ($$v) {_vm.$set(_vm.dispatch, \"date\", $$v)},expression:\"dispatch.date\"}})],1)],1)],1),_c('v-row',[_c('v-col',[_c('v-select',{attrs:{\"items\":['Envío', 'Entrega personal'],\"label\":\"Método\",\"prepend-inner-icon\":\"mdi-truck-fast-outline\"},model:{value:(_vm.dispatch.method),callback:function ($$v) {_vm.$set(_vm.dispatch, \"method\", $$v)},expression:\"dispatch.method\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Oficina destino\",\"rules\":_vm.dispatch.method === 'Entrega personal'\n                        ? []\n                        : _vm.rules.required,\"prepend-inner-icon\":\"mdi-store\",\"readonly\":_vm.dispatch.method === 'Entrega personal'},model:{value:(_vm.dispatch.destiny),callback:function ($$v) {_vm.$set(_vm.dispatch, \"destiny\", $$v)},expression:\"dispatch.destiny\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Referencia\",\"rules\":_vm.dispatch.method === 'Entrega personal'\n                        ? []\n                        : _vm.rules.required,\"prepend-inner-icon\":\"mdi-barcode\",\"readonly\":_vm.dispatch.method === 'Entrega personal'},model:{value:(_vm.dispatch.reference),callback:function ($$v) {_vm.$set(_vm.dispatch, \"reference\", $$v)},expression:\"dispatch.reference\"}})],1),_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Costo\",\"rules\":_vm.dispatch.method === 'Entrega personal'\n                        ? []\n                        : _vm.rules.required,\"prepend-inner-icon\":\"mdi-cash\",\"hint\":_vm._f(\"formatNumberAsUSD\")(_vm.dispatch.cost),\"readonly\":_vm.dispatch.method === 'Entrega personal'},model:{value:(_vm.dispatch.cost),callback:function ($$v) {_vm.$set(_vm.dispatch, \"cost\", $$v)},expression:\"dispatch.cost\"}})],1)],1)],1),_c('v-col',{staticClass:\"mt-6\",attrs:{\"cols\":_vm.mobile ? 12 : 6}},_vm._l((_vm.selectedDocument.requests),function(item,index){return _c('v-row',{key:index,attrs:{\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 8}},[_c('v-checkbox',{staticClass:\"my-0\",attrs:{\"value\":item,\"label\":item.pieceName},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})],1)],1)}),1)],1)],1)],1),_c('v-app-bar',{attrs:{\"dense\":\"\",\"bottom\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"align\":\"center\"}},[_c('v-btn',{attrs:{\"color\":\"primary\",\"disabled\":!_vm.formStatus || !_vm.content.length || _vm.userNotAuthorized,\"loading\":_vm.loading},on:{\"click\":function($event){return _vm.save(_vm.dispatch)}}},[_vm._v(\" Despachar selección \")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n\r\n    <Header\r\n      closable=\"1\"\r\n      title=\"Información de solicitud\"\r\n      :subtitle=\"`Servicio: ${selectedDocument.reportCode}`\"\r\n      @hideInterface=\"$emit('hideInterface')\"\r\n    />\r\n\r\n    <v-form ref=\"form\" v-model=\"formStatus\">\r\n      <v-tabs v-model=\"tab\">\r\n        <v-tabs-slider color=\"accent\" />\r\n        <v-tab>Detalles</v-tab>\r\n        <v-tab>Despacho</v-tab>\r\n      </v-tabs>\r\n\r\n      <v-tabs-items v-model=\"tab\">\r\n\r\n        <v-tab-item>\r\n          <v-card min-height=\"500\" flat>\r\n            <v-row justify=\"space-around\">\r\n              <v-col :cols=\"mobile ? 12 : 4\">\r\n                <v-list>\r\n                  <v-list-item-group color=\"primary\">\r\n                    <v-list-item\r\n                      v-for=\"(item, index) in listItems\"\r\n                      :key=\"index\"\r\n                    >\r\n                      <v-list-item-icon>\r\n                        <v-icon>{{ item.icon }}</v-icon>\r\n                      </v-list-item-icon>\r\n                      <v-list-item-content>\r\n                        <v-list-item-title v-text=\"item.title\" />\r\n                      </v-list-item-content>\r\n                    </v-list-item>\r\n                  </v-list-item-group>\r\n                </v-list>\r\n              </v-col>\r\n\r\n              <v-col :cols=\"mobile ? 12 : 6\">\r\n                <v-row\r\n                  v-for=\"(item, index) in selectedDocument.requests\"\r\n                  :key=\"index\"\r\n                  align=\"center\"\r\n                >\r\n                  <v-col cols=\"9\">\r\n                    <v-select\r\n                      v-model=\"item.pieceName\"\r\n                      :items=\"filteredListOfPieces\"\r\n                      :rules=\"rules.required\"\r\n                      :hint=\"item.replacementCause\"\r\n                      persistent-hint\r\n                    />\r\n                  </v-col>\r\n                  <v-col cols=\"3\">\r\n                    <v-btn @click=\"deleteItem(item)\" :disabled=\"userNotAuthorized\" small color=\"error\">\r\n                      <v-icon>mdi-delete</v-icon>\r\n                    </v-btn>\r\n                  </v-col>\r\n                </v-row>\r\n              </v-col>\r\n            </v-row>\r\n          </v-card>\r\n        </v-tab-item>\r\n\r\n        <v-tab-item>\r\n          <v-card min-height=\"500\" flat>\r\n            <v-row justify=\"space-around\">\r\n              <v-col class=\"mt-1\" :cols=\"mobile ? 12 : 4\">\r\n                <v-row>\r\n                  <v-col>\r\n                    <v-select\r\n                      v-model=\"technician\"\r\n                      :items=\"formOptions.technicians\"\r\n                      prepend-inner-icon=\"mdi-account-arrow-left\"\r\n                      label=\"Destinatario\"\r\n                      @change=\"content = []\"\r\n                    />\r\n                  </v-col>\r\n                </v-row>\r\n                <v-row>\r\n                  <v-col>\r\n                    <v-menu\r\n                      v-model=\"menu1\"\r\n                      transition=\"scale-transition\"\r\n                      :close-on-content-click=\"false\"\r\n                    >\r\n                      <template v-slot:activator=\"{ on, attrs }\">\r\n                        <v-text-field\r\n                          v-model=\"dispatch.date\"\r\n                          v-on=\"on\"\r\n                          readonly\r\n                          v-bind=\"attrs\"\r\n                          label=\"Fecha de despacho\"\r\n                          :rules=\"rules.required\"\r\n                          prepend-inner-icon=\"mdi-calendar-question\"\r\n                        />\r\n                      </template>\r\n                      <v-date-picker\r\n                        v-model=\"dispatch.date\"\r\n                        first-day-of-week=\"1\"\r\n                        locale=\"es\"\r\n                        no-title\r\n                        @input=\"menu1 = false\"\r\n                      />\r\n                    </v-menu>\r\n                  </v-col>\r\n                </v-row>\r\n                <v-row>\r\n                  <v-col>\r\n                    <v-select\r\n                      v-model=\"dispatch.method\"\r\n                      :items=\"['Envío', 'Entrega personal']\"\r\n                      label=\"Método\"\r\n                      prepend-inner-icon=\"mdi-truck-fast-outline\"\r\n                    />\r\n                  </v-col>\r\n                </v-row>\r\n                <v-row>\r\n                  <v-col>\r\n                    <v-text-field\r\n                      v-model=\"dispatch.destiny\"\r\n                      label=\"Oficina destino\"\r\n                      :rules=\"\r\n                        dispatch.method === 'Entrega personal'\r\n                          ? []\r\n                          : rules.required\r\n                      \"\r\n                      prepend-inner-icon=\"mdi-store\"\r\n                      :readonly=\"dispatch.method === 'Entrega personal'\"\r\n                    />\r\n                  </v-col>\r\n                </v-row>\r\n                <v-row>\r\n                  <v-col>\r\n                    <v-text-field\r\n                      v-model=\"dispatch.reference\"\r\n                      label=\"Referencia\"\r\n                      :rules=\"\r\n                        dispatch.method === 'Entrega personal'\r\n                          ? []\r\n                          : rules.required\r\n                      \"\r\n                      prepend-inner-icon=\"mdi-barcode\"\r\n                      :readonly=\"dispatch.method === 'Entrega personal'\"\r\n                    />\r\n                  </v-col>\r\n                  <v-col>\r\n                    <v-text-field\r\n                      v-model=\"dispatch.cost\"\r\n                      label=\"Costo\"\r\n                      :rules=\"\r\n                        dispatch.method === 'Entrega personal'\r\n                          ? []\r\n                          : rules.required\r\n                      \"\r\n                      prepend-inner-icon=\"mdi-cash\"\r\n                      :hint=\"dispatch.cost | formatNumberAsUSD\"\r\n                      :readonly=\"dispatch.method === 'Entrega personal'\"\r\n                    />\r\n                  </v-col>\r\n                </v-row>\r\n              </v-col>\r\n              <v-col class=\"mt-6\" :cols=\"mobile ? 12 : 6\">\r\n                <v-row\r\n                  v-for=\"(item, index) in selectedDocument.requests\"\r\n                  :key=\"index\"\r\n                  justify=\"center\"\r\n                >\r\n                  <v-col :cols=\"mobile ? 12 : 8\">\r\n                    <v-checkbox\r\n                      class=\"my-0\"\r\n                      v-model=\"content\"\r\n                      :value=\"item\"\r\n                      :label=\"item.pieceName\"\r\n                    />\r\n                  </v-col>\r\n                </v-row>\r\n              </v-col>\r\n            </v-row>\r\n          </v-card>\r\n        </v-tab-item>\r\n        <v-app-bar dense bottom>\r\n          <v-row>\r\n            <v-col align=\"center\">\r\n              <v-btn\r\n                @click=\"save(dispatch)\"\r\n                color=\"primary\"\r\n                :disabled=\"!formStatus || !content.length || userNotAuthorized\"\r\n                :loading=\"loading\"\r\n              >\r\n                Despachar selección\r\n              </v-btn>\r\n            </v-col>\r\n          </v-row>\r\n        </v-app-bar>\r\n      </v-tabs-items>\r\n    </v-form>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport email from '../../helpers/emails/email'\r\nimport { mapState, mapGetters, mapActions } from 'vuex'\r\nimport Header from '@/components/generals/Header'\r\nimport { rules } from '@/helpers/form'\r\n\r\nexport default {\r\n\r\n  name: 'RequestDetails',\r\n  components: { Header },\r\n  props: ['originalItem', 'selectedDocument'],\r\n\r\n  data: () => {\r\n    return {\r\n      rules,\r\n      tab: 0,\r\n      formStatus: false,\r\n      loading: false,\r\n      menu1: false,\r\n      courierCompany: '',\r\n      courierOffice: '',\r\n      content: [],\r\n      technician: '',\r\n      dispatch: {\r\n        destiny: '',\r\n        cost: '',\r\n        date: '',\r\n        method: '',\r\n        reference: ''\r\n      }\r\n    }\r\n  },\r\n\r\n  filters: {\r\n    formatNumberAsUSD (number) {\r\n      return new Intl.NumberFormat('de-DE', { style: 'currency', currency: 'USD' }).format(number)\r\n    }\r\n  },\r\n\r\n  created () {\r\n    this.technician = this.selectedDocument.technician\r\n  },\r\n\r\n  computed: {\r\n\r\n    ...mapState(['collections']),\r\n    ...mapGetters(['formOptions']),\r\n\r\n    userNotAuthorized () {\r\n      return this.$store.state.session.user.department !== 'Almacén'\r\n    },\r\n    \r\n    listItems () {\r\n      return [\r\n        { icon: 'mdi-email-newsletter', title: `#Reporte: ${this.selectedDocument.reportCode}` },\r\n        { icon: 'mdi-account-tie', title: `Cliente: ${this.selectedDocument.clientName}` },\r\n        { icon: 'mdi-bank', title: `Oficina: ${this.selectedDocument.officeName}` },\r\n        { icon: 'mdi-printer', title: `Producto: ${this.selectedDocument.productName}` },\r\n        { icon: 'mdi-calendar', title: `Fecha de solicitud: ${this.selectedDocument.requestDate}` },\r\n        { icon: 'mdi-phone', title: `Cliente: ${this.selectedDocument.requestedBy}` }\r\n      ]\r\n    },\r\n\r\n    mobile () {\r\n      return this.$vuetify.breakpoint.sm || this.$vuetify.breakpoint.xs\r\n    },\r\n\r\n    filteredListOfPieces () {\r\n      let list = []\r\n      let aux\r\n      for (const i in this.collections.Piece) {\r\n        aux = this.collections.Piece[i].asociatedProducts.find(\r\n          element => element === this.selectedDocument.productName\r\n        )\r\n        if (aux !== undefined) {\r\n          list.push(this.collections.Piece[i])\r\n        }\r\n      }\r\n      list = list.map(n => n.pieceName)\r\n      return list\r\n    },\r\n    // Reposición de piezas\r\n    emailNotification () {\r\n      return this.collections.Email.find(email => email.subject === 'Reposición de piezas')\r\n    }\r\n  },\r\n  methods: {\r\n\r\n    ...mapActions(['createDocument', 'deleteDocument', 'sendEmail']),\r\n\r\n    deleteItem (item) {\r\n      confirm('Esta acción es irreversible') && this.confirmDelete(item)\r\n    },\r\n\r\n    confirmDelete (body) {\r\n      this.deleteDocument({ collection: 'Request', body })\r\n        .then(() => this.$emit('hideInterface'))\r\n    },\r\n\r\n    save (dispatchInfo) {\r\n      this.loading = true\r\n      const dispatchesToCreate = []\r\n      const requestsToDelete = []\r\n      for (let request of this.content) {\r\n        request.dispatch = dispatchInfo\r\n        request.technician = this.technician\r\n        dispatchesToCreate.push(this.createDocument({ collection: 'Dispatch', body: request }))\r\n        requestsToDelete.push(this.deleteDocument({ collection: 'Request', body: request }))\r\n      }\r\n      this.createDispatch(dispatchesToCreate, requestsToDelete)\r\n    },\r\n\r\n    createDispatch (documentsToCreate, documentsToDelete) {\r\n      Promise.all(documentsToCreate)\r\n        .then(() => this.deleteRequest(documentsToDelete))\r\n        .then(() => {\r\n          if (!this.emailNotification.enabled) return\r\n          this.sendEmail([\r\n            this.emailInfo(this.content)\r\n          ])\r\n        })\r\n        .catch(() => this.loading = true)\r\n    },\r\n\r\n    emailInfo (documents) {\r\n      const data = { ...documents[0], content: {} }\r\n      for (const item of documents) data.content[item.reportCode] = data.content[item.reportCode]\r\n        ? data.content[item.reportCode] + `, ${item.pieceName}`\r\n        : item.pieceName\r\n      const addressee = this.collections.User.find(user => user._id === this.technician._id)\r\n      const result = email({ email: this.emailNotification, data, author: this.formOptions.user.fullName, addressee })\r\n      return result\r\n    },\r\n\r\n    deleteRequest (documentsToDelete) {\r\n      Promise.all(documentsToDelete)\r\n        .then(() => this.$emit('hideInterface'))\r\n        .catch(() => this.loading = true)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RequestDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RequestDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RequestDetails.vue?vue&type=template&id=6afa5cfe&\"\nimport script from \"./RequestDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./RequestDetails.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VTabsSlider } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAppBar,VBtn,VCard,VCheckbox,VCol,VContainer,VDatePicker,VForm,VIcon,VList,VListItem,VListItemContent,VListItemGroup,VListItemIcon,VListItemTitle,VMenu,VRow,VSelect,VTab,VTabItem,VTabs,VTabsItems,VTabsSlider,VTextField})\n","<template>\r\n  <v-container>\r\n    <Header title=\"Solicitudes\" subtitle=\"Gestione la reposición del stock de repuestos\" />\r\n    <v-row>\r\n      <v-col :cols=\"mobile ? 12 : 6\">\r\n        <v-sheet class=\"pa-3\" v-if=\"updatingState\">\r\n          <v-skeleton-loader\r\n            class=\"mx-auto\"\r\n            max-width=\"300\"\r\n            type=\"card\"\r\n          ></v-skeleton-loader>\r\n        </v-sheet>\r\n        <Graph\r\n          v-else\r\n          id=\"requestsGraph1\"\r\n          :updatingState=\"updatingState\"\r\n          :chartData=\"requestsXTechnician\"\r\n          title=\"Solicitudes por técnicos\"\r\n          subtitle=\"Activas\"\r\n        />\r\n      </v-col>\r\n      <v-col :cols=\"mobile ? 12 : 6\">\r\n        <v-sheet class=\"pa-3\" v-if=\"updatingState\">\r\n          <v-skeleton-loader\r\n            class=\"mx-auto\"\r\n            max-width=\"300\"\r\n            type=\"card\"\r\n          ></v-skeleton-loader>\r\n        </v-sheet>\r\n        <Graph\r\n          v-else\r\n          id=\"requestsGraph2\"\r\n          :updatingState=\"updatingState\"\r\n          :chartData=\"requestsXProduct\"\r\n          title=\"Solicitudes por productos\"\r\n          subtitle=\"Activas\"\r\n        />\r\n      </v-col>\r\n    </v-row>\r\n    <v-sheet>\r\n      <v-row align=\"center\">\r\n        <v-col class=\"ml-2\" md=\"3\">\r\n          <v-text-field v-model=\"tableFilter\" prepend-inner-icon=\"mdi-magnify\" label=\"Filtrar\" />\r\n        </v-col>\r\n      </v-row>\r\n      <v-data-table\r\n        class=\"elevation-2\"\r\n        :headers=\"headers\"\r\n        :items=\"requestPerService\"\r\n        :search=\"tableFilter\"\r\n      >\r\n        <template v-slot:top>\r\n          <v-dialog v-model=\"dialog\" fullscreen>\r\n            <v-card>\r\n              <RequestDetails\r\n                v-if=\"dialog\"\r\n                :originalItem=\"originalItem\"\r\n                :selectedDocument=\"selectedDocument\"\r\n                @hideInterface=\"dialog = false\"\r\n              />\r\n            </v-card>\r\n          </v-dialog>\r\n        </template>\r\n        <template v-slot:item.actions=\"{ item }\">\r\n          <v-btn @click=\"editItem(item)\" color=\"primary\" small>\r\n            <v-icon>\r\n              mdi-dots-vertical\r\n            </v-icon>\r\n          </v-btn>\r\n        </template>\r\n      </v-data-table>\r\n    </v-sheet>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Graph from '@/components/generals/Graph'\r\nimport Header from '@/components/generals/Header'\r\nimport RequestDetails from '@/components/storehouse/RequestDetails'\r\nimport moment from 'moment-timezone'\r\nimport { mapState, mapGetters } from 'vuex'\r\n\r\nexport default {\r\n\r\n  name: 'Requests',\r\n  components: { Graph, Header, RequestDetails },\r\n\r\n  data: () => {\r\n    return {\r\n      tableFilter: '',\r\n      headers: [\r\n        { text: 'F. Solicitud', value: 'requestDate' },\r\n        { text: 'Reporte', value: 'reportCode' },\r\n        { text: 'Técnico', value: 'technician' },\r\n        { text: 'Cliente', value: 'clientName' },\r\n        { text: 'Oficina', value: 'officeName' },\r\n        { text: 'Producto', value: 'productName' },\r\n        { text: 'Acciones', value: 'actions' }\r\n      ],\r\n      dialog: false,\r\n      selectedDocument: {},\r\n      originalItem: {},\r\n      timeout: 4000\r\n    }\r\n  },\r\n\r\n  computed: {\r\n\r\n    ...mapState(['collections', 'updatingState']),\r\n    ...mapGetters(['formOptions']),\r\n\r\n    mobile () {\r\n      return this.$vuetify.breakpoint.name === 'xs' || this.$vuetify.breakpoint.name === 'sm'\r\n    },\r\n    \r\n    requestPerService () {\r\n      let reports = this.collections.Request.map(f => f.reportCode)\r\n      reports = [...new Set(reports)]\r\n      const requestsByReports = []\r\n      for (const n in reports) {\r\n        const requests =  this.collections.Request.filter(b => b.reportCode === reports[n])\r\n        requestsByReports.push({\r\n          reportCode: requests[0].reportCode,\r\n          technician: requests[0].technician,\r\n          clientName: requests[0].clientName,\r\n          officeName: requests[0].officeName,\r\n          productName: requests[0].productName,\r\n          courierCompany: '',\r\n          courierOffice: '',\r\n          dispatchDate: moment(new Date()).format('YYYY-MM-DD'),\r\n          requestDate: moment(requests[0].requestDate).format('DD [de] MMMM'),\r\n          requestedBy: requests[0].requestedBy,\r\n          // destination: `${requests[0].courierCompany} ${requests[0].courierOffice}`,\r\n          requests\r\n        })\r\n      }\r\n      return requestsByReports\r\n    },\r\n\r\n    requestsXTechnician () {\r\n      const type = 'line'\r\n      const options = {}\r\n      const data = {\r\n        labels: this.formOptions.technicians.map(tech => tech.text),\r\n        datasets: [\r\n          { label: 'Solicitudes por técnico', data: [], borderColor: this.$vuetify.theme.currentTheme.primary },\r\n        ]\r\n      }\r\n      for (const technician of this.formOptions.technicians) {\r\n        const technicianRequests = request => request.technician.fullName === technician.text\r\n        data.datasets[0].data.push(this.collections.Request.filter(technicianRequests).length)\r\n      }\r\n      return { type, data, options }\r\n    },\r\n\r\n    requestsXProduct () {\r\n      let labels = this.collections.Request.map(request => request.productType)\r\n      labels = [...new Set(labels)]\r\n      const type = 'bar'\r\n      const options = { indexAxis: 'y' }\r\n      const data = {\r\n        labels,\r\n        datasets: [\r\n          { label: 'Solicitudes por producto', data: [], backgroundColor: this.$vuetify.theme.currentTheme.primary, borderRadius: 5 },\r\n        ]\r\n      }\r\n      for (const product of labels) {\r\n        const productRequests = request => request.productType === product\r\n        data.datasets[0].data.push(this.collections.Request.filter(productRequests).length)\r\n      }\r\n      return { type, data, options }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n\r\n    editItem (item) {\r\n      this.selectedDocument = Object.assign({}, item)\r\n      this.originalItem = JSON.parse(JSON.stringify(item))\r\n      this.dialog = true\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Requests.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Requests.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Requests.vue?vue&type=template&id=460367fc&\"\nimport script from \"./Requests.vue?vue&type=script&lang=js&\"\nexport * from \"./Requests.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCol,VContainer,VDataTable,VDialog,VIcon,VRow,VSheet,VSkeletonLoader,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"title\":\"Despachos\",\"subtitle\":\"Especifique los parámetros y realice una consulta\"}}),_c('v-sheet',{staticClass:\"px-3\"},[_c('v-tabs',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tabs-slider',{attrs:{\"color\":\"accent\"}}),_c('v-tab',[_vm._v(\"Filtro\")]),_c('v-tab',{attrs:{\"disabled\":!_vm.result.length}},[_vm._v(\"Resultado\")])],1),_c('v-tabs-items',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab-item',[_c('v-form',{ref:\"form\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('QueryChips',{on:{\"submitQuery\":_vm.search}}),_c('v-btn',{staticClass:\"my-1\",attrs:{\"block\":\"\",\"small\":\"\"},on:{\"click\":_vm.clearFilter}},[_c('v-icon',{attrs:{\"color\":\"accent\"}},[_vm._v(\"mdi-broom\")])],1),_c('v-row',{staticClass:\"mt-0\"},[_c('v-col',[_c('v-autocomplete',{attrs:{\"items\":_vm.formOptions.technicians,\"label\":\"Personal asignado\"},model:{value:(_vm.filter.technician),callback:function ($$v) {_vm.$set(_vm.filter, \"technician\", $$v)},expression:\"filter.technician\"}})],1)],1),_vm._v(\" \"),_c('v-row',{staticClass:\"mt-0\"},[_c('v-col',[_c('v-autocomplete',{attrs:{\"label\":\"Cliente\",\"items\":_vm.formOptions.clientNames},model:{value:(_vm.filter.clientName),callback:function ($$v) {_vm.$set(_vm.filter, \"clientName\", $$v)},expression:\"filter.clientName\"}})],1)],1),_c('v-row',{staticClass:\"mt-0\"},[_c('v-col',[_c('v-select',{attrs:{\"items\":_vm.formOptions.productTypes,\"label\":\"Categoria\",\"solo\":\"\"},model:{value:(_vm.filter.productType),callback:function ($$v) {_vm.$set(_vm.filter, \"productType\", $$v)},expression:\"filter.productType\"}})],1)],1),_c('v-row',{staticClass:\"mt-0\"},[_c('v-col',[_c('v-select',{attrs:{\"items\":_vm.productsByCategory,\"label\":\"Producto\",\"solo\":\"\"},model:{value:(_vm.filter.productName),callback:function ($$v) {_vm.$set(_vm.filter, \"productName\", $$v)},expression:\"filter.productName\"}})],1)],1)],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-chip-group',{attrs:{\"color\":\"accent\"}},[_c('v-icon',[_vm._v(\"mdi-filter\")]),_c('v-chip',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.dateQuickFilter('thisYear')}}},[_vm._v(_vm._s(_vm.thisYear))]),_c('v-chip',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.dateQuickFilter('thisMonth')}}},[_vm._v(_vm._s(_vm.thisMonth))]),_c('v-chip',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.dateQuickFilter('lastMonth')}}},[_vm._v(_vm._s(_vm.lastMonth))])],1),_c('v-row',{staticClass:\"mt-4\"},[_c('v-col',[_c('v-date-picker',{attrs:{\"color\":\"primary\",\"range\":\"\",\"full-width\":\"\",\"no-title\":\"\",\"min\":_vm.minDate},model:{value:(_vm.dates),callback:function ($$v) {_vm.dates=$$v},expression:\"dates\"}}),_c('v-text-field',{staticClass:\"mt-5\",attrs:{\"label\":\"Rango\",\"readonly\":\"\"},model:{value:(_vm.dateRangeText),callback:function ($$v) {_vm.dateRangeText=$$v},expression:\"dateRangeText\"}})],1)],1),_c('v-btn',{staticClass:\"mb-15 mr-10\",attrs:{\"fixed\":\"\",\"absolute\":\"\",\"bottom\":\"\",\"right\":\"\",\"disabled\":_vm.dates.length !== 2,\"color\":\"primary\",\"fab\":\"\",\"loading\":_vm.loader},on:{\"click\":function($event){return _vm.search(_vm.filter)}}},[_c('v-icon',[_vm._v(\"mdi-magnify\")])],1)],1)],1)],1)],1),_c('v-tab-item',[_c('v-sheet',[_c('QueryResult',{attrs:{\"excelFormat\":_vm.excelFormat,\"result\":_vm.result}}),_c('v-row',_vm._l((_vm.charts),function(chart,index){return _c('v-col',{key:index,attrs:{\"cols\":_vm.mobile ? 12 : 6}},[(_vm.showGraphs)?_c('Graph',{attrs:{\"id\":(\"dispatchesGraph\" + index),\"title\":chart.title,\"chartData\":chart.config,\"subtitle\":\"Despachos realizados\"}}):_vm._e()],1)}),1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-chip-group',{attrs:{\"color\":\"secondary\"}},[_c('v-icon',[_vm._v(\"mdi-filter\")]),_c('v-menu',{attrs:{\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-chip',_vm._g({attrs:{\"small\":\"\"}},on),[_vm._v(\"#Guía\")])]}}])},[_c('v-card',{staticClass:\"px-7\",attrs:{\"height\":\"95\"}},[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"10\"}},[_c('v-text-field',{attrs:{\"label\":\"#Guía\",\"maxlength\":\"20\",\"counter\":\"20\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.$emit('submitQuery', { 'dispatch.reference': _vm.reference })}},model:{value:(_vm.reference),callback:function ($$v) {_vm.reference=$$v},expression:\"reference\"}})],1),_c('v-col',{attrs:{\"cols\":\"2\"}},[_c('v-btn',{attrs:{\"fab\":\"\",\"x-small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$emit('submitQuery', { 'dispatch.reference': _vm.reference })}}},[_c('v-icon',[_vm._v(\"mdi-magnify\")])],1)],1)],1)],1)],1),_c('v-menu',{attrs:{\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-chip',_vm._g({attrs:{\"small\":\"\"}},on),[_vm._v(\"#Reporte\")])]}}])},[_c('v-card',{staticClass:\"px-7\",attrs:{\"height\":\"95\"}},[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"10\"}},[_c('v-text-field',{attrs:{\"label\":\"Código\",\"maxlength\":\"20\",\"counter\":\"20\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.$emit('submitQuery', { reportCode: _vm.reportCode })}},model:{value:(_vm.reportCode),callback:function ($$v) {_vm.reportCode=$$v},expression:\"reportCode\"}})],1),_c('v-col',{attrs:{\"cols\":\"2\"}},[_c('v-btn',{attrs:{\"fab\":\"\",\"x-small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$emit('submitQuery', { reportCode: _vm.reportCode })}}},[_c('v-icon',[_vm._v(\"mdi-magnify\")])],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <v-chip-group color=\"secondary\">\r\n      <v-icon>mdi-filter</v-icon>\r\n      <v-menu :close-on-content-click=\"false\">\r\n        <template v-slot:activator=\"{ on }\">\r\n          <v-chip v-on=\"on\" small>#Guía</v-chip>\r\n        </template>\r\n        <v-card class=\"px-7\" height=\"95\">\r\n          <v-row align=\"center\">\r\n            <v-col cols=\"10\">\r\n              <v-text-field\r\n                v-model=\"reference\"\r\n                label=\"#Guía\"\r\n                @keyup.enter=\"$emit('submitQuery', { 'dispatch.reference': reference })\"\r\n                maxlength=\"20\"\r\n                counter=\"20\"\r\n              />\r\n            </v-col>\r\n            <v-col cols=\"2\">\r\n              <v-btn\r\n                @click=\"$emit('submitQuery', { 'dispatch.reference': reference })\"\r\n                fab\r\n                x-small\r\n                color=\"primary\"\r\n              >\r\n                <v-icon>mdi-magnify</v-icon>\r\n              </v-btn>\r\n            </v-col>\r\n          </v-row>\r\n        </v-card>\r\n      </v-menu>\r\n      <v-menu :close-on-content-click=\"false\">\r\n        <template v-slot:activator=\"{ on }\">\r\n          <v-chip v-on=\"on\" small>#Reporte</v-chip>\r\n        </template>\r\n        <v-card class=\"px-7\" height=\"95\">\r\n          <v-row align=\"center\">\r\n            <v-col cols=\"10\">\r\n              <v-text-field\r\n                v-model=\"reportCode\"\r\n                label=\"Código\"\r\n                @keyup.enter=\"$emit('submitQuery', { reportCode })\"\r\n                maxlength=\"20\"\r\n                counter=\"20\"\r\n              />\r\n            </v-col>\r\n            <v-col cols=\"2\">\r\n              <v-btn\r\n                @click=\"$emit('submitQuery', { reportCode })\"\r\n                fab\r\n                x-small\r\n                color=\"primary\"\r\n              >\r\n                <v-icon>mdi-magnify</v-icon>\r\n              </v-btn>\r\n            </v-col>\r\n          </v-row>\r\n        </v-card>\r\n      </v-menu>\r\n    </v-chip-group>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'QueryChips',\r\n  data: () => {\r\n    return {\r\n      reference: '',\r\n      reportCode: '',\r\n      loader: false\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueryChips.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueryChips.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QueryChips.vue?vue&type=template&id=39f0616e&\"\nimport script from \"./QueryChips.vue?vue&type=script&lang=js&\"\nexport * from \"./QueryChips.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VChip,VChipGroup,VCol,VContainer,VIcon,VMenu,VRow,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{attrs:{\"md\":\"3\"}},[_c('v-text-field',{attrs:{\"prepend-inner-icon\":\"mdi-magnify\",\"label\":\"Filtrar\"},model:{value:(_vm.tableFilter),callback:function ($$v) {_vm.tableFilter=$$v},expression:\"tableFilter\"}})],1),_c('v-col',{attrs:{\"align\":\"end\"}},[(_vm.excelFormat)?_c('export-excel',{attrs:{\"data\":_vm.excelFormat}},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"dark\":\"\",\"disabled\":!_vm.result.length,\"color\":\"#2a5\"}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"large\":\"\"}},[_vm._v(\"mdi-microsoft-excel\")])],1)]}}],null,false,3404444959)},[_vm._v(\" Exportar \")])],1):_vm._e()],1)],1),_c('v-data-table',{staticClass:\"elevation-2\",attrs:{\"dense\":\"\",\"items-per-page\":5,\"headers\":_vm.headers,\"items\":_vm.result,\"search\":_vm.tableFilter},scopedSlots:_vm._u([{key:\"item.reportedAt\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(_vm._f(\"friendlyDate\")(item.reportedAt))+\" \")]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <v-row align=\"center\">\r\n      <v-col md=\"3\">\r\n        <v-text-field v-model=\"tableFilter\" prepend-inner-icon=\"mdi-magnify\" label=\"Filtrar\" />\r\n      </v-col>\r\n      <v-col align=\"end\">\r\n        <export-excel v-if=\"excelFormat\" :data=\"excelFormat\">\r\n          <v-tooltip bottom>\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n              <v-btn\r\n                v-on=\"on\"\r\n                v-bind=\"attrs\"\r\n                dark\r\n                :disabled=\"!result.length\"\r\n                color=\"#2a5\"\r\n              >\r\n                <v-icon large>mdi-microsoft-excel</v-icon>\r\n              </v-btn>\r\n            </template>\r\n            Exportar\r\n          </v-tooltip>\r\n        </export-excel>\r\n      </v-col>\r\n    </v-row>\r\n    <v-data-table\r\n      class=\"elevation-2\"\r\n      dense\r\n      :items-per-page=\"5\"\r\n      :headers=\"headers\"\r\n      :items=\"result\"\r\n      :search=\"tableFilter\"\r\n    >\r\n      <template v-slot:item.reportedAt=\"{ item }\">\r\n        {{ item.reportedAt | friendlyDate }}\r\n      </template>\r\n    </v-data-table>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment-timezone'\r\nexport default {\r\n  props: ['result', 'excelFormat'],\r\n  name: 'QueryResult',\r\n  data: () => {\r\n    return {\r\n      tableFilter: '',\r\n      headers: [\r\n        { text: 'Despachado', value: 'dispatch.date' },\r\n        { text: 'Técnico', value: 'technician.fullName' },\r\n        { text: 'Pieza', value: 'pieceName' },\r\n        { text: 'Cliente', value: 'clientName' },\r\n        { text: 'Oficina', value: 'officeName' },\r\n        { text: '#Reporte', value: 'reportCode' },\r\n        { text: 'Referencia', value: 'dispatch.reference' }\r\n      ],\r\n      dialog: false\r\n    }\r\n  },\r\n  filters: {\r\n    friendlyDate (dateSubmitted) {\r\n      return moment(dateSubmitted).parseZone('America/Caracas').format('DD [de] MMMM, HH:mm')\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueryResult.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueryResult.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QueryResult.vue?vue&type=template&id=964f4f9a&\"\nimport script from \"./QueryResult.vue?vue&type=script&lang=js&\"\nexport * from \"./QueryResult.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCol,VContainer,VDataTable,VIcon,VRow,VTextField,VTooltip})\n","<template>\r\n  <v-container>\r\n    <Header\r\n      title=\"Despachos\"\r\n      subtitle=\"Especifique los parámetros y realice una consulta\"\r\n    />\r\n    <v-sheet class=\"px-3\">\r\n      <v-tabs v-model=\"tab\">\r\n        <v-tabs-slider color=\"accent\" />\r\n        <v-tab>Filtro</v-tab>\r\n        <v-tab :disabled=\"!result.length\">Resultado</v-tab>\r\n      </v-tabs>\r\n      <v-tabs-items v-model=\"tab\">\r\n        <v-tab-item>\r\n          <v-form ref=\"form\">\r\n            <v-row>\r\n\r\n              <v-col :cols=\"mobile ? 12 : 6\">\r\n                <QueryChips @submitQuery=\"search\" />\r\n                <v-btn class=\"my-1\" @click=\"clearFilter\" block small>\r\n                  <v-icon color=\"accent\">mdi-broom</v-icon>\r\n                </v-btn>\r\n                <v-row class=\"mt-0\">\r\n                  <v-col>\r\n                    <v-autocomplete\r\n                      v-model=\"filter.technician\"\r\n                      :items=\"formOptions.technicians\"\r\n                      label=\"Personal asignado\"\r\n                    />\r\n                  </v-col>\r\n                </v-row>                <v-row class=\"mt-0\">\r\n                  <v-col>\r\n                    <v-autocomplete\r\n                      v-model=\"filter.clientName\"\r\n                      label=\"Cliente\"\r\n                      :items=\"formOptions.clientNames\"\r\n                    />\r\n                  </v-col>\r\n                </v-row>\r\n                <v-row class=\"mt-0\">\r\n                  <v-col>\r\n                    <v-select\r\n                      v-model=\"filter.productType\"\r\n                      :items=\"formOptions.productTypes\"\r\n                      label=\"Categoria\"\r\n                      solo\r\n                    />\r\n                  </v-col>\r\n                </v-row>\r\n                <v-row class=\"mt-0\">\r\n                  <v-col>\r\n                    <v-select\r\n                      v-model=\"filter.productName\"\r\n                      :items=\"productsByCategory\"\r\n                      label=\"Producto\"\r\n                      solo\r\n                    />\r\n                  </v-col>\r\n                </v-row>\r\n              </v-col>\r\n\r\n              <v-col :cols=\"mobile ? 12 : 6\">\r\n                <v-chip-group color=\"accent\">\r\n                  <v-icon>mdi-filter</v-icon>\r\n                  <v-chip @click=\"dateQuickFilter('thisYear')\" small>{{ thisYear }}</v-chip>\r\n                  <v-chip @click=\"dateQuickFilter('thisMonth')\" small>{{ thisMonth }}</v-chip>\r\n                  <v-chip @click=\"dateQuickFilter('lastMonth')\" small>{{ lastMonth }}</v-chip>\r\n                </v-chip-group>\r\n                <v-row class=\"mt-4\">\r\n                  <v-col>\r\n                    <v-date-picker\r\n                      v-model=\"dates\"\r\n                      color=\"primary\"\r\n                      range\r\n                      full-width\r\n                      no-title\r\n                      :min=\"minDate\"\r\n                    />\r\n                    <v-text-field\r\n                      class=\"mt-5\"\r\n                      v-model=\"dateRangeText\"\r\n                      label=\"Rango\"\r\n                      readonly\r\n                    />\r\n                  </v-col>\r\n                </v-row>\r\n                <v-btn\r\n                  class=\"mb-15 mr-10\"\r\n                  @click=\"search(filter)\"\r\n                  fixed absolute\r\n                  bottom right\r\n                  :disabled=\"dates.length !== 2\"\r\n                  color=\"primary\" fab\r\n                  :loading=\"loader\"\r\n                >\r\n                  <v-icon>mdi-magnify</v-icon>\r\n                </v-btn>\r\n              </v-col>\r\n            </v-row>\r\n          </v-form>\r\n        </v-tab-item>\r\n        <v-tab-item>\r\n          <v-sheet>\r\n            <QueryResult :excelFormat=\"excelFormat\" :result=\"result\" />\r\n            <v-row>\r\n              <v-col v-for=\"chart, index in charts\" :key=\"index\" :cols=\"mobile ? 12 : 6\">\r\n                <Graph\r\n                  v-if=\"showGraphs\"\r\n                  :id=\"`dispatchesGraph${index}`\"\r\n                  :title=\"chart.title\"\r\n                  :chartData=\"chart.config\"\r\n                  subtitle=\"Despachos realizados\"\r\n                />\r\n              </v-col>\r\n            </v-row>\r\n          </v-sheet>\r\n        </v-tab-item>\r\n      </v-tabs-items>\r\n    </v-sheet>\r\n  </v-container>\r\n</template>\r\n<script>\r\n\r\nimport Graph from '@/components/generals/Graph'\r\nimport Header from '@/components/generals/Header'\r\nimport QueryChips from '@/components/storehouse/QueryChips'\r\nimport QueryResult from '@/components/storehouse/QueryResult'\r\nimport moment from 'moment-timezone'\r\nimport { mapMutations, mapGetters, mapState, mapActions } from 'vuex'\r\n\r\nexport default {\r\n  name: 'Consultation',\r\n  components: { Graph, Header, QueryChips, QueryResult },\r\n  data: () => {\r\n    return {\r\n      tab: null,\r\n      filter: {},\r\n      dates: [],\r\n      dispatch: {\r\n        method: '',\r\n        reference: ''\r\n      },\r\n      excelFormat: [],\r\n      showGraphs: false,\r\n      result: [],\r\n      loader: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['formOptions']),\r\n    ...mapState(['collections']),\r\n    mobile () {\r\n      return this.$vuetify.breakpoint.name === 'xs' || this.$vuetify.breakpoint.name === 'sm'\r\n    },\r\n    thisYear () {\r\n      return moment(new Date()).format('yyyy')\r\n    },\r\n    thisMonth () {\r\n      return moment(new Date()).format('MMMM')\r\n    },\r\n    lastMonth () {\r\n      return moment(new Date()).subtract(1, 'month').format('MMMM')\r\n    },\r\n    dateRangeText () {\r\n      return this.dates.join(' ~ ')\r\n    },\r\n    minDate () {\r\n      if (this.dates[0] && !this.dates[1]) {\r\n        return this.dates[0]\r\n      } else {\r\n        return ''\r\n      }\r\n    },\r\n    productsByCategory () {\r\n      if (this.filter.productType){\r\n        let prodByCategory = this.collections.Product.filter(product => product.productType === this.filter.productType)\r\n        prodByCategory = prodByCategory.map(product => product.productName)\r\n        return prodByCategory\r\n      } else{\r\n        return this.collections.Product.map(product => product.productName)\r\n      }\r\n    },\r\n    dispatchesXClient () {\r\n      let labels = this.result.map(dispatch => dispatch.clientName)\r\n      labels = [...new Set(labels)].sort()\r\n      const chart = {\r\n        title: 'Registros por cliente',\r\n        config: {\r\n          type: 'line',\r\n          options: {},\r\n          data: {\r\n            labels,\r\n            datasets: [{\r\n              label: 'Despachos registrados',\r\n              data: [],\r\n              borderColor: this.$vuetify.theme.currentTheme.accent\r\n            }]\r\n          }\r\n        }\r\n      }\r\n      for (const client of labels) {\r\n        const clientDispatches = dispatch => dispatch.clientName === client\r\n        chart.config.data.datasets[0].data.push(this.result.filter(clientDispatches).length)\r\n      }\r\n      return chart\r\n    },\r\n\r\n    costXClient () {\r\n      let labels = this.result.map(dispatch => dispatch.clientName)\r\n      labels = [...new Set(labels)].sort()\r\n      const chart = {\r\n        title: 'Inversión por cliente',\r\n        config: {\r\n          type: 'bar',\r\n          options: {\r\n            scales: {\r\n              y: { ticks: { callback: (value) => '$' + value}}\r\n            }\r\n          },\r\n          data: {\r\n            labels,\r\n            datasets: [{\r\n              label: 'Despachos registrados',\r\n              data: [],\r\n              backgroundColor: 'rgba(10, 200, 40, .5)',\r\n              borderColor: this.$vuetify.theme.currentTheme.primary,\r\n              borderWidth: 2,\r\n              borderRadius: 5\r\n            }]\r\n          }\r\n        }\r\n      }\r\n      for (const label of labels) {\r\n        const labelData = this.result.filter(dispatch => dispatch.clientName === label && dispatch.dispatch.cost > 0)\r\n        let references = labelData.map(item => item.dispatch.reference)\r\n        references = [...new Set(references)]\r\n        const dataForSpendings = []\r\n        for (const reference of references) dataForSpendings.push(labelData.find(item => item.dispatch.reference === reference).dispatch.cost)\r\n        const labelSpending = dataForSpendings .reduce((a, v) =>  a = a + parseInt(v), 0)\r\n        chart.config.data.datasets[0].data.push(labelSpending)\r\n      }\r\n      return chart\r\n    },\r\n\r\n    dispatchesXProduct () {\r\n      let labels = this.result.map(dispatch => dispatch.productType)\r\n      labels = [...new Set(labels)].sort()\r\n      const chart = {\r\n        title: 'Despachos por producto',\r\n        config: {\r\n          type: 'line',\r\n          options: { indexAxis: 'y' },\r\n          data: {\r\n            labels,\r\n            datasets: [{\r\n              label: 'Despachos registrados',\r\n              data: [],\r\n              borderColor: this.$vuetify.theme.currentTheme.accent\r\n            }]\r\n          }\r\n        }\r\n      }\r\n      for (const label of labels) {\r\n        const productCorrectives = dispatch => dispatch.productType === label\r\n        chart.config.data.datasets[0].data.push(this.result.filter(productCorrectives).length)\r\n      }\r\n      return chart\r\n    },\r\n\r\n    costXProduct () {\r\n      let labels = this.result.map(dispatch => dispatch.productType)\r\n      labels = [...new Set(labels)].sort()\r\n      const chart = {\r\n        title: 'Inversión por producto',\r\n        config: {\r\n          type: 'bar',\r\n          options: {\r\n            scales: {\r\n              y: { ticks: { callback: (value) => '$' + value}}\r\n            },\r\n            indexAxis: 'y'\r\n          },\r\n          data: {\r\n            labels,\r\n            datasets: [{\r\n              label: 'Despachos registrados',\r\n              data: [],\r\n              backgroundColor: 'rgba(10, 200, 40, .5)',\r\n              borderColor: this.$vuetify.theme.currentTheme.primary,\r\n              borderWidth: 2,\r\n              borderRadius: 5\r\n            }]\r\n          }\r\n        }\r\n      }\r\n      for (const label of labels) {\r\n        const labelData = this.result.filter(dispatch => dispatch.productType === label && dispatch.dispatch.cost > 0)\r\n        let references = labelData.map(item => item.dispatch.reference)\r\n        references = [...new Set(references)]\r\n        const dataForSpendings = []\r\n        for (const reference of references) dataForSpendings.push(labelData.find(item => item.dispatch.reference === reference).dispatch.cost)\r\n        console.log(dataForSpendings)\r\n        const labelSpending = dataForSpendings .reduce((a, v) =>  a = a + parseInt(v), 0)\r\n        chart.config.data.datasets[0].data.push(labelSpending)\r\n      }\r\n      return chart\r\n    },\r\n\r\n    dispatchesXTechnician () {\r\n      let labels = this.result.map(dispatch => dispatch.technician.fullName)\r\n      labels = [...new Set(labels)].sort()\r\n      const chart = {\r\n        title: 'Registros por técnico',\r\n        config: {\r\n          type: 'line',\r\n          options: {},\r\n          data: {\r\n            labels,\r\n            datasets: [\r\n              {\r\n                label: 'Despachos registrados',\r\n                data: [],\r\n                borderColor: this.$vuetify.theme.currentTheme.accent\r\n              }\r\n            ]\r\n          }\r\n        }\r\n      }\r\n      for (const technician of labels) {\r\n        const technicianDispatches = dispatch => dispatch.technician.fullName === technician\r\n        chart.config.data.datasets[0].data.push(this.result.filter(technicianDispatches).length)\r\n      }\r\n      return chart\r\n    },\r\n\r\n    costXTechnician () {\r\n      let labels = this.result.map(dispatch => dispatch.technician.fullName)\r\n      labels = [...new Set(labels)].sort()\r\n      const chart = {\r\n        title: 'Inversión por técnico',\r\n        config: {\r\n          type: 'bar',\r\n          options: {\r\n            scales: {\r\n              y: { ticks: { callback: (value) => '$' + value}}\r\n            }\r\n          },\r\n          data: {\r\n            labels,\r\n            datasets: [\r\n              {\r\n                label: 'Despachos registrados',\r\n                data: [],\r\n                backgroundColor: 'rgba(10, 200, 40, .5)',\r\n                borderColor: this.$vuetify.theme.currentTheme.primary,\r\n                borderWidth: 2,\r\n                borderRadius: 5\r\n              }\r\n            ]\r\n          }\r\n        }\r\n      }\r\n      for (const label of labels) {\r\n        const labelData = this.result.filter(dispatch => dispatch.technician.fullName === label && dispatch.dispatch.cost > 0)\r\n        let references = labelData.map(item => item.dispatch.reference)\r\n        references = [...new Set(references)]\r\n        const dataForSpendings = []\r\n        for (const reference of references) dataForSpendings.push(labelData.find(item => item.dispatch.reference === reference).dispatch.cost)\r\n        console.log(dataForSpendings)\r\n        const labelSpending = dataForSpendings .reduce((a, v) =>  a = a + parseInt(v), 0)\r\n        chart.config.data.datasets[0].data.push(labelSpending)\r\n      }\r\n      return chart\r\n    },\r\n\r\n    charts () {\r\n      return [\r\n        this.dispatchesXClient,\r\n        this.costXClient,\r\n        this.dispatchesXProduct,\r\n        this.costXProduct,\r\n        this.dispatchesXTechnician,\r\n        this.costXTechnician\r\n      ]\r\n    }\r\n  },\r\n  methods: {\r\n\r\n    ...mapActions(['findDocuments']),\r\n\r\n    ...mapMutations(['showSnackbar']),\r\n\r\n    dateQuickFilter (type) {\r\n      this.dates = []\r\n      let firstDate = `${moment(new Date()).format('yyyy-MM-')}01`\r\n      let secondDate = moment(firstDate).add(1, 'M').format('YYYY-MM-DD')\r\n      switch (type) {\r\n        case 'thisMonth':\r\n          secondDate = moment(secondDate).subtract(1, 'days').format('YYYY-MM-DD')\r\n          this.dates.push(firstDate)\r\n          this.dates.push(secondDate)\r\n          break\r\n        case 'lastMonth':\r\n          secondDate = firstDate\r\n          firstDate = moment(firstDate).subtract(1, 'M').format('YYYY-MM-DD')\r\n          secondDate = moment(secondDate).subtract(1, 'days').format('YYYY-MM-DD')\r\n          this.dates.push(firstDate)\r\n          this.dates.push(secondDate)\r\n          break\r\n        case 'thisYear':\r\n          firstDate = `${moment(new Date()).format('yyyy')}-01-01`\r\n          secondDate = moment(firstDate).add(1, 'Y').format('yyyy-MM-DD')\r\n          secondDate = moment(secondDate).subtract(1, 'days').format('YYYY-MM-DD')\r\n          this.dates.push(firstDate)\r\n          this.dates.push(secondDate)\r\n          break\r\n        default:\r\n          break\r\n      }\r\n    },\r\n    clearFilter () {\r\n      this.filter = {}\r\n      this.dates = []\r\n    },\r\n    search (filter) {\r\n      this.loader = true\r\n      this.showGraphs = false\r\n      this.findDocuments({ collection: 'Dispatch', filter })\r\n        .then((res) => {\r\n          this.result = res\r\n          if (res.length) this.xlsFormat(this.result)\r\n            this.showSnackbar({ message: `Registros encontrados: ${res.length}` })\r\n            this.showGraphs = true\r\n            this.loader = false\r\n        })\r\n        .catch(() => this.loader = false)\r\n    },\r\n    xlsFormat (data) {\r\n      const rows = []\r\n      for (const i in data) {\r\n        rows.push({\r\n          Despachado: data[i].dispatch.date,\r\n          Técnico: data[i].technician.fullName,\r\n          Producto: data[i].productName,\r\n          Pieza: data[i].pieceName,\r\n          Cliente: data[i].clientName,\r\n          Oficina: data[i].officeName,\r\n          Reporte: data[i].reportCode,\r\n          Método: `${data[i].dispatch.method} ${data[i].dispatch.destiny}`,\r\n          Referencia: data[i].dispatch.reference,\r\n          Costo: data[i].dispatch.cost\r\n        })\r\n      }\r\n      this.excelFormat = rows\r\n      this.loader = false\r\n      this.tab = 1\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dispatches.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dispatches.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dispatches.vue?vue&type=template&id=0cb3cefe&\"\nimport script from \"./Dispatches.vue?vue&type=script&lang=js&\"\nexport * from \"./Dispatches.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VTabsSlider } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAutocomplete,VBtn,VChip,VChipGroup,VCol,VContainer,VDatePicker,VForm,VIcon,VRow,VSelect,VSheet,VTab,VTabItem,VTabs,VTabsItems,VTabsSlider,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"title\":\"Clientes\",\"subtitle\":\"Administre la información de los clientes\"}}),_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 8}},[(_vm.updatingState)?_c('v-skeleton-loader',{attrs:{\"type\":\"image\",\"width\":\"100%\"}}):_vm._e(),(_vm.updatingState)?_c('v-skeleton-loader',{attrs:{\"type\":\"image\",\"width\":\"100%\"}}):_c('ClientPanels',{attrs:{\"mobile\":_vm.mobile,\"collections\":_vm.collections}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 4}},[(_vm.updatingState)?_c('v-sheet',{staticClass:\"pa-3\"},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"300\",\"type\":\"card\"}})],1):_c('Graph',{attrs:{\"id\":\"clientsGraph2\",\"updatingState\":_vm.updatingState,\"chartData\":_vm.contractStatusXClient,\"title\":\"Estatus de contratos\",\"subtitle\":_vm.thisYear}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[(_vm.updatingState)?_c('v-sheet',{staticClass:\"pa-3\"},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"300\",\"type\":\"card\"}})],1):_c('Graph',{attrs:{\"id\":\"clientsGraph3\",\"updatingState\":_vm.updatingState,\"chartData\":_vm.slaXClient,\"title\":\"S. L. A. Por cliente\",\"subtitle\":(\"Reportes cerrados - \" + _vm.thisYear)}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[(_vm.updatingState)?_c('v-sheet',{staticClass:\"pa-3\"},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"300\",\"type\":\"card\"}})],1):_c('Graph',{attrs:{\"id\":\"clientsGraph1\",\"updatingState\":_vm.updatingState,\"chartData\":_vm.servicesXClient,\"title\":\"Servicios por cliente\",\"subtitle\":_vm.thisYear}})],1)],1),_c('MainButton',{attrs:{\"disabled\":_vm.$store.state.session.user.userRole > 1,\"updatingState\":_vm.updatingState},on:{\"showForm\":function($event){_vm.dialog = true}}}),_c('v-dialog',{attrs:{\"width\":_vm.mobile ? '90%' : '60%',\"persistent\":\"\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[(_vm.dialog)?_c('ClientForm',{attrs:{\"collections\":_vm.collections,\"mobile\":_vm.mobile},on:{\"hideInterface\":function($event){_vm.dialog = false}}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"closable\":\"1\",\"title\":\"Formulario de registro\",\"subtitle\":\"Complete la información del cliente\"},on:{\"hideInterface\":function($event){return _vm.$emit('hideInterface')}}}),_c('v-stepper',{attrs:{\"vertical\":\"\"},model:{value:(_vm.activeStep),callback:function ($$v) {_vm.activeStep=$$v},expression:\"activeStep\"}},[_c('v-stepper-step',{attrs:{\"editable\":\"\",\"complete\":_vm.activeStep > 1,\"step\":\"1\"}},[_vm._v(\" Información general \")]),_c('v-stepper-content',{attrs:{\"step\":\"1\"}},[_c('v-form',{ref:\"step1Completed\",model:{value:(_vm.step1Completed),callback:function ($$v) {_vm.step1Completed=$$v},expression:\"step1Completed\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? '12' : '6'}},[_c('v-text-field',{attrs:{\"label\":\"Nombre del cliente\",\"rules\":_vm.rules.required,\"maxlength\":50},model:{value:(_vm.client.clientName),callback:function ($$v) {_vm.$set(_vm.client, \"clientName\", $$v)},expression:\"client.clientName\"}})],1)],1),_vm._v(\" Regiones \"),_c('v-tooltip',{attrs:{\"color\":\"accent\",\"right\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({staticClass:\"ml-2 mb-1\",attrs:{\"color\":\"accent\"}},on),[_vm._v(\" mdi-information-outline \")])]}}])},[_vm._v(\" Distribución geográfica de oficinas \")]),_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Región\"},model:{value:(_vm.region),callback:function ($$v) {_vm.region=$$v},expression:\"region\"}})],1),_c('v-col',[_c('v-btn',{attrs:{\"color\":\"accent\",\"small\":\"\",\"text\":\"\",\"disabled\":!_vm.region},on:{\"click\":function($event){return _vm.addItem('client', 'region', _vm.region)}}},[_vm._v(\" Agregar \")])],1)],1),_c('v-chip-group',_vm._l((_vm.client.regions),function(region,index){return _c('v-chip',{key:index,attrs:{\"close\":\"\"},on:{\"click:close\":function($event){return _vm.removeProperty('regions', index)}}},[_vm._v(\" \"+_vm._s(region)+\" \")])}),1)],1),_c('v-btn',{attrs:{\"color\":\"primary\",\"disabled\":!_vm.step1Completed,\"text\":\"\",\"block\":\"\"},on:{\"click\":function($event){_vm.activeStep++}}},[_vm._v(\" Continuar \")])],1),_c('v-stepper-step',{attrs:{\"step\":\"2\",\"editable\":_vm.contactForm,\"complete\":_vm.activeStep > 2}},[_vm._v(\" Contactos \")]),_c('v-stepper-content',{attrs:{\"step\":\"2\"}},[_c('v-card',{staticClass:\"pa-2\",attrs:{\"outlined\":\"\",\"flat\":\"\"}},[_c('v-form',{ref:\"contactForm\",model:{value:(_vm.contactForm),callback:function ($$v) {_vm.contactForm=$$v},expression:\"contactForm\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 4}},[_c('v-text-field',{attrs:{\"label\":\"Nombre y apellido\",\"rules\":_vm.rules.required},model:{value:(_vm.contact.fullName),callback:function ($$v) {_vm.$set(_vm.contact, \"fullName\", $$v)},expression:\"contact.fullName\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 5}},[_c('v-text-field',{attrs:{\"label\":\"Cargo\"},model:{value:(_vm.contact.position),callback:function ($$v) {_vm.$set(_vm.contact, \"position\", $$v)},expression:\"contact.position\"}})],1)],1),_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 4}},[_c('v-text-field',{attrs:{\"label\":\"Dirección de correo\",\"rules\":_vm.rules.emailRules},model:{value:(_vm.contact.email),callback:function ($$v) {_vm.$set(_vm.contact, \"email\", $$v)},expression:\"contact.email\"}})],1),_c('v-col',{attrs:{\"align\":\"center\",\"cols\":_vm.mobile ? 6 : 5}},[_c('v-switch',{attrs:{\"label\":\"Accesos\"},model:{value:(_vm.contact.includeForAccessEmail),callback:function ($$v) {_vm.$set(_vm.contact, \"includeForAccessEmail\", $$v)},expression:\"contact.includeForAccessEmail\"}})],1),_c('v-col',{attrs:{\"align\":\"center\",\"cols\":_vm.mobile ? 6 : 3}},[_c('v-tooltip',{attrs:{\"color\":\"accent\",\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({staticClass:\"ml-2 mb-1\",attrs:{\"color\":\"accent\"}},on),[_vm._v(\" mdi-information-outline \")])]}}])},[_vm._v(\" Incluir en solicitudes de acceso \")])],1)],1),_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 8 : 3}},[_c('v-text-field',{attrs:{\"rules\":_vm.phoneNumber ? _vm.rules.phoneRules : [],\"label\":\"Teléfono\",\"maxlength\":\"11\"},model:{value:(_vm.phoneNumber),callback:function ($$v) {_vm.phoneNumber=$$v},expression:\"phoneNumber\"}})],1),_c('v-col',[_c('v-btn',{attrs:{\"small\":\"\",\"icon\":\"\",\"color\":\"accent\",\"disabled\":!_vm.contactForm || !_vm.phoneNumber},on:{\"click\":function($event){return _vm.addItem('contact', 'phoneNumber', _vm.phoneNumber)}}},[_c('v-icon',[_vm._v(\"mdi-phone-plus\")])],1)],1),_c('v-col',[_c('v-chip-group',_vm._l((_vm.contact.phoneNumbers),function(phone,index){return _c('v-chip',{key:index,attrs:{\"close\":\"\"},on:{\"click:close\":function($event){return _vm.removeProperty('phoneNumbers', index)}}},[_vm._v(\" \"+_vm._s(phone)+\" \")])}),1)],1)],1),_c('v-btn',{attrs:{\"disabled\":!_vm.contactForm,\"block\":\"\",\"small\":\"\",\"outlined\":\"\",\"color\":\"accent\"},on:{\"click\":function($event){return _vm.addItem('client', 'contact', _vm.contact)}}},[_c('v-icon',[_vm._v(\"mdi-account-plus\")])],1)],1)],1),_c('v-row',[_c('v-col',[_c('v-chip-group',_vm._l((_vm.client.contacts),function(contact,i){return _c('v-chip',{key:i,attrs:{\"close\":\"\"},on:{\"click\":function($event){return _vm.editContact(contact)},\"click:close\":function($event){return _vm.removeProperty('contacts', i)}}},[_vm._v(\" \"+_vm._s(contact.fullName)+\" \")])}),1)],1)],1),_c('v-btn',{staticClass:\"mb-1\",attrs:{\"color\":\"primary\",\"text\":\"\",\"block\":\"\"},on:{\"click\":function($event){_vm.activeStep++}}},[_vm._v(\" Continuar \")])],1),_c('v-stepper-step',{attrs:{\"complete\":_vm.activeStep > 3,\"step\":\"2\",\"editable\":_vm.step2Completed}},[_vm._v(\" Contrato activo o más reciente \")]),_c('v-stepper-content',{attrs:{\"step\":\"3\"}},[_c('v-form',{ref:\"step2Completed\",model:{value:(_vm.step2Completed),callback:function ($$v) {_vm.step2Completed=$$v},expression:\"step2Completed\"}},[_c('v-row',[_c('v-col',[_c('v-radio-group',{attrs:{\"row\":\"\"},model:{value:(_vm.contract.active),callback:function ($$v) {_vm.$set(_vm.contract, \"active\", $$v)},expression:\"contract.active\"}},[_vm._l(([true, false]),function(inactive,i){return _c('v-radio',{key:i,staticClass:\"ml-3\",attrs:{\"label\":inactive ? 'Activo' : 'Inactivo',\"value\":inactive}})}),_c('v-tooltip',{attrs:{\"color\":\"accent\",\"right\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({staticClass:\"ml-2 mb-1\",attrs:{\"color\":\"accent\"}},on),[_vm._v(\" mdi-information-outline \")])]}}])},[_vm._v(\" Status de contrato (Información referencial) \")])],2)],1)],1),_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Inicio de contrato\",\"hint\":\"Valor referencial\",\"rules\":_vm.rules.required,\"readonly\":\"\"},model:{value:(_vm.contract.startingDate),callback:function ($$v) {_vm.$set(_vm.contract, \"startingDate\", $$v)},expression:\"contract.startingDate\"}})],1),_c('v-col',[_c('v-menu',{ref:\"datemenu\",attrs:{\"close-on-content-click\":false,\"return-value\":_vm.contract.startingDate,\"transition\":\"scale-transition\",\"nudge-left\":\"150\",\"min-width\":\"auto\"},on:{\"update:returnValue\":function($event){return _vm.$set(_vm.contract, \"startingDate\", $event)},\"update:return-value\":function($event){return _vm.$set(_vm.contract, \"startingDate\", $event)}},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrss = ref.attrss;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"small\":\"\"}},'v-btn',attrss,false),on),[_c('v-icon',[_vm._v(\"mdi-calendar\")])],1)]}}]),model:{value:(_vm.datePicker),callback:function ($$v) {_vm.datePicker=$$v},expression:\"datePicker\"}},[_c('v-date-picker',{attrs:{\"no-title\":\"\",\"scrollable\":\"\"},model:{value:(_vm.contract.startingDate),callback:function ($$v) {_vm.$set(_vm.contract, \"startingDate\", $$v)},expression:\"contract.startingDate\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.datePicker = false}}},[_vm._v(\" Cancelar \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.datemenu.save(_vm.contract.startingDate)}}},[_vm._v(\" OK \")])],1)],1)],1)],1),_c('v-row',[_c('v-card-subtitle',[_vm._v(\" Tiempos de solución acordados \")]),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 6 : 2}},[_c('v-select',{attrs:{\"label\":\"Local\",\"items\":[8, 16, 24, 48],\"rules\":_vm.rules.required},model:{value:(_vm.contract.sla.local),callback:function ($$v) {_vm.$set(_vm.contract.sla, \"local\", $$v)},expression:\"contract.sla.local\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 6 : 2}},[_c('v-select',{attrs:{\"label\":\"Foráneo\",\"items\":[8, 16, 24, 48],\"rules\":_vm.rules.required},model:{value:(_vm.contract.sla.foreign),callback:function ($$v) {_vm.$set(_vm.contract.sla, \"foreign\", $$v)},expression:\"contract.sla.foreign\"}})],1)],1),_c('v-btn',{staticClass:\"mb-1\",attrs:{\"color\":\"primary\",\"text\":\"\",\"block\":\"\",\"disabled\":!_vm.step2Completed},on:{\"click\":function($event){_vm.activeStep++}}},[_vm._v(\" Continuar \")])],1)],1),_c('v-stepper-step',{attrs:{\"step\":\"4\",\"editable\":_vm.step3Completed}},[_vm._v(\" Productos contratados \")]),_c('v-stepper-content',{attrs:{\"step\":\"4\"}},[_c('v-form',{ref:\"step3Completed\",model:{value:(_vm.step3Completed),callback:function ($$v) {_vm.step3Completed=$$v},expression:\"step3Completed\"}},[_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.collections.Product,\"item-key\":\"_id\",\"show-select\":\"\",\"search\":_vm.tableFilter},scopedSlots:_vm._u([{key:\"top\",fn:function(){return [_c('v-row',{staticClass:\"ml-1\"},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 8 : 4}},[_c('v-text-field',{attrs:{\"label\":\"Filtro\",\"prepend-inner-icon\":\"mdi-filter-outline\"},model:{value:(_vm.tableFilter),callback:function ($$v) {_vm.tableFilter=$$v},expression:\"tableFilter\"}})],1)],1)]},proxy:true}]),model:{value:(_vm.contract.products),callback:function ($$v) {_vm.$set(_vm.contract, \"products\", $$v)},expression:\"contract.products\"}}),_c('v-btn',{staticClass:\"mt-2\",attrs:{\"color\":\"success\",\"block\":\"\",\"loading\":_vm.loader},on:{\"click\":function($event){return _vm.createClient(_vm.client)}}},[_vm._v(\" Registrar \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <Header\r\n      closable=\"1\"\r\n      title=\"Formulario de registro\"\r\n      subtitle=\"Complete la información del cliente\"\r\n      @hideInterface=\"$emit('hideInterface')\"\r\n    />\r\n    <v-stepper v-model=\"activeStep\" vertical>\r\n      <v-stepper-step editable :complete=\"activeStep > 1\" step=\"1\">\r\n        Información general\r\n      </v-stepper-step>\r\n      <v-stepper-content step=\"1\">\r\n        <v-form ref=\"step1Completed\" v-model=\"step1Completed\">\r\n          <v-row>\r\n            <v-col :cols=\"mobile ? '12' : '6'\">\r\n              <v-text-field\r\n                v-model=\"client.clientName\"\r\n                label=\"Nombre del cliente\"\r\n                :rules=\"rules.required\"\r\n                :maxlength=\"50\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          Regiones\r\n          <v-tooltip color=\"accent\" right>\r\n            <template v-slot:activator=\"{ on }\">\r\n              <v-icon\r\n                class=\"ml-2 mb-1\"\r\n                color=\"accent\"\r\n                v-on=\"on\"\r\n              >\r\n                mdi-information-outline\r\n              </v-icon>\r\n            </template>\r\n            Distribución geográfica de oficinas\r\n          </v-tooltip>\r\n          <v-row align=\"center\">\r\n            <v-col>\r\n              <v-text-field v-model=\"region\" label=\"Región\" />\r\n            </v-col>\r\n            <v-col>\r\n              <v-btn\r\n                @click=\"addItem('client', 'region', region)\"\r\n                color=\"accent\" small text\r\n                :disabled=\"!region\"\r\n              >\r\n                Agregar\r\n              </v-btn>\r\n            </v-col>\r\n          </v-row>\r\n          <v-chip-group>\r\n            <v-chip\r\n              v-for=\"region, index in client.regions\" :key=\"index\"\r\n              @click:close=\"removeProperty('regions', index)\"\r\n              close\r\n            >\r\n              {{ region }}\r\n            </v-chip>\r\n          </v-chip-group>\r\n        </v-form>\r\n        <v-btn\r\n          @click=\"activeStep++\"\r\n          color=\"primary\"\r\n          :disabled=\"!step1Completed\"\r\n          text\r\n          block\r\n        >\r\n          Continuar\r\n        </v-btn>\r\n      </v-stepper-content>\r\n\r\n      <v-stepper-step\r\n        step=\"2\"\r\n        :editable=\"contactForm\"\r\n        :complete=\"activeStep > 2\"\r\n      >\r\n        Contactos\r\n      </v-stepper-step>\r\n      <v-stepper-content step=\"2\">\r\n        <v-card class=\"pa-2\" outlined flat>\r\n          <v-form ref=\"contactForm\" v-model=\"contactForm\">\r\n            <v-row>\r\n              <v-col :cols=\"mobile ? 12 : 4\">\r\n                <v-text-field\r\n                  v-model=\"contact.fullName\"\r\n                  label=\"Nombre y apellido\"\r\n                  :rules=\"rules.required\"\r\n                />\r\n              </v-col>\r\n              <v-col :cols=\"mobile ? 12 : 5\">\r\n                <v-text-field\r\n                  v-model=\"contact.position\"\r\n                  label=\"Cargo\"\r\n                />\r\n              </v-col>\r\n            </v-row>\r\n            <v-row align=\"center\">\r\n              <v-col :cols=\"mobile ? 12 : 4\">\r\n                <v-text-field\r\n                  v-model=\"contact.email\"\r\n                  label=\"Dirección de correo\"\r\n                  :rules=\"rules.emailRules\"\r\n                />\r\n              </v-col>\r\n              <v-col align=\"center\" :cols=\"mobile ? 6 : 5\">\r\n                <v-switch v-model=\"contact.includeForAccessEmail\" label=\"Accesos\" />\r\n              </v-col>\r\n              <v-col align=\"center\" :cols=\"mobile ? 6 : 3\">\r\n                <v-tooltip color=\"accent\" top>\r\n                  <template v-slot:activator=\"{ on }\">\r\n                    <v-icon\r\n                      class=\"ml-2 mb-1\"\r\n                      color=\"accent\"\r\n                      v-on=\"on\"\r\n                    >\r\n                      mdi-information-outline\r\n                    </v-icon>\r\n                  </template>\r\n                  Incluir en solicitudes de acceso\r\n                </v-tooltip>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row align=\"center\">\r\n              <v-col :cols=\"mobile ? 8 : 3\">\r\n                <v-text-field\r\n                  v-model=\"phoneNumber\"\r\n                  :rules=\"phoneNumber ? rules.phoneRules : []\"\r\n                  label=\"Teléfono\"\r\n                  maxlength=\"11\"\r\n                />\r\n              </v-col>\r\n              <v-col>\r\n                <v-btn\r\n                  @click=\"addItem('contact', 'phoneNumber', phoneNumber)\"\r\n                  small icon color=\"accent\" :disabled=\"!contactForm || !phoneNumber\"\r\n                >\r\n                  <v-icon>mdi-phone-plus</v-icon>\r\n                </v-btn>\r\n              </v-col>\r\n              <v-col>\r\n                <v-chip-group>\r\n                  <v-chip\r\n                    v-for=\"phone, index in contact.phoneNumbers\" :key=\"index\"\r\n                    @click:close=\"removeProperty('phoneNumbers', index)\"\r\n                    close\r\n                  >\r\n                    {{ phone }}\r\n                  </v-chip>\r\n                </v-chip-group>\r\n              </v-col>\r\n            </v-row>\r\n            <v-btn\r\n              @click=\"addItem('client', 'contact', contact)\"\r\n              :disabled=\"!contactForm\"\r\n              block small\r\n              outlined color=\"accent\"\r\n            >\r\n              <v-icon>mdi-account-plus</v-icon>\r\n            </v-btn>\r\n          </v-form>\r\n        </v-card>\r\n        <v-row>\r\n          <v-col>\r\n            <v-chip-group>\r\n              <v-chip\r\n                v-for=\"contact, i in client.contacts\" :key=\"i\"\r\n                close\r\n                @click=\"editContact(contact)\"\r\n                @click:close=\"removeProperty('contacts', i)\"\r\n              >\r\n                {{ contact.fullName }}\r\n              </v-chip>\r\n          </v-chip-group>\r\n          </v-col>\r\n        </v-row>\r\n        <v-btn\r\n          class=\"mb-1\"\r\n          color=\"primary\"\r\n          text\r\n          block\r\n          @click=\"activeStep++\"\r\n        >\r\n          Continuar\r\n        </v-btn>\r\n      </v-stepper-content>\r\n      <v-stepper-step\r\n        :complete=\"activeStep > 3\"\r\n        step=\"2\"\r\n        :editable=\"step2Completed\"\r\n      >\r\n        Contrato activo o más reciente\r\n      </v-stepper-step>\r\n\r\n      <v-stepper-content step=\"3\">\r\n        <v-form ref=\"step2Completed\" v-model=\"step2Completed\">\r\n          <v-row>\r\n            <v-col>\r\n              <v-radio-group row v-model=\"contract.active\">\r\n                <v-radio\r\n                  class=\"ml-3\"\r\n                  v-for=\"(inactive, i) in [true, false]\"\r\n                  :key=\"i\"\r\n                  :label=\"inactive ? 'Activo' : 'Inactivo'\"\r\n                  :value=\"inactive\"\r\n                />\r\n                <v-tooltip color=\"accent\" right>\r\n                  <template v-slot:activator=\"{ on }\">\r\n                    <v-icon\r\n                      class=\"ml-2 mb-1\"\r\n                      color=\"accent\"\r\n                      v-on=\"on\"\r\n                    >\r\n                      mdi-information-outline\r\n                    </v-icon>\r\n                  </template>\r\n                  Status de contrato (Información referencial)\r\n                </v-tooltip>\r\n              </v-radio-group>\r\n            </v-col>\r\n          </v-row>\r\n          <v-row align=\"center\">\r\n            <v-col>\r\n              <v-text-field\r\n                v-model=\"contract.startingDate\"\r\n                label=\"Inicio de contrato\"\r\n                hint=\"Valor referencial\"\r\n                :rules=\"rules.required\"\r\n                readonly\r\n              />\r\n            </v-col>\r\n            <v-col>\r\n              <v-menu\r\n                ref=\"datemenu\"\r\n                v-model=\"datePicker\"\r\n                :close-on-content-click=\"false\"\r\n                :return-value.sync=\"contract.startingDate\"\r\n                transition=\"scale-transition\"\r\n                nudge-left=\"150\"\r\n                min-width=\"auto\"\r\n              >\r\n                <template v-slot:activator=\"{ on, attrss }\">\r\n                  <v-btn\r\n                    v-bind=\"attrss\"\r\n                    v-on=\"on\"\r\n                    small\r\n                  >\r\n                    <v-icon>mdi-calendar</v-icon>\r\n                  </v-btn>\r\n                </template>\r\n                <v-date-picker\r\n                  v-model=\"contract.startingDate\"\r\n                  no-title\r\n                  scrollable\r\n                >\r\n                  <v-spacer></v-spacer>\r\n                  <v-btn\r\n                    text\r\n                    color=\"primary\"\r\n                    @click=\"datePicker = false\"\r\n                  >\r\n                    Cancelar\r\n                  </v-btn>\r\n                  <v-btn\r\n                    text\r\n                    color=\"primary\"\r\n                    @click=\"$refs.datemenu.save(contract.startingDate)\"\r\n                  >\r\n                    OK\r\n                  </v-btn>\r\n                </v-date-picker>\r\n              </v-menu>\r\n            </v-col>\r\n          </v-row>\r\n          <v-row>\r\n            <v-card-subtitle>\r\n              Tiempos de solución acordados\r\n            </v-card-subtitle>\r\n            <v-col :cols=\"mobile ? 6 : 2\">\r\n              <v-select\r\n                v-model=\"contract.sla.local\"\r\n                label=\"Local\"\r\n                :items=\"[8, 16, 24, 48]\"\r\n                :rules=\"rules.required\"\r\n              />\r\n            </v-col>\r\n            <v-col :cols=\"mobile ? 6 : 2\">\r\n              <v-select\r\n                v-model=\"contract.sla.foreign\"\r\n                label=\"Foráneo\"\r\n                :items=\"[8, 16, 24, 48]\"\r\n                :rules=\"rules.required\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-btn\r\n            class=\"mb-1\"\r\n            color=\"primary\"\r\n            text\r\n            block\r\n            @click=\"activeStep++\"\r\n            :disabled=\"!step2Completed\"\r\n          >\r\n            Continuar\r\n          </v-btn>\r\n        </v-form>\r\n      </v-stepper-content>\r\n\r\n      <v-stepper-step\r\n        step=\"4\"\r\n        :editable=\"step3Completed\"\r\n      >\r\n        Productos contratados\r\n      </v-stepper-step>\r\n      <v-stepper-content step=\"4\">\r\n        <v-form ref=\"step3Completed\" v-model=\"step3Completed\">\r\n          <v-data-table\r\n            v-model=\"contract.products\"\r\n            :headers=\"headers\"\r\n            :items=\"collections.Product\"\r\n            item-key=\"_id\"\r\n            show-select\r\n            :search=\"tableFilter\"\r\n          >\r\n            <template v-slot:top>\r\n              <v-row class=\"ml-1\">\r\n                <v-col :cols=\"mobile ? 8 : 4\">\r\n                  <v-text-field v-model=\"tableFilter\" label=\"Filtro\" prepend-inner-icon=\"mdi-filter-outline\" />\r\n                </v-col>\r\n              </v-row>\r\n            </template>\r\n          </v-data-table>\r\n          <v-btn\r\n            @click=\"createClient(client)\"\r\n            class=\"mt-2\"\r\n            color=\"success\"\r\n            block\r\n            :loading=\"loader\"\r\n          >\r\n            Registrar\r\n          </v-btn>\r\n        </v-form>\r\n      </v-stepper-content>\r\n    </v-stepper>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Vue from 'vue'\r\nimport { mapState, mapActions, mapMutations } from 'vuex'\r\nimport { rules } from '@/helpers/form.js'\r\nimport moment from 'moment-timezone'\r\nimport Header from '@/components/generals/Header'\r\n\r\nmoment.locale('es')\r\n\r\nexport default Vue.extend({\r\n\r\n  name: 'ClientForm',\r\n  components: { Header },\r\n  props: ['mobile'],\r\n\r\n  data: () => ({\r\n    // Form data\r\n    client: {\r\n      clientName: '',\r\n      regions: [],\r\n      contacts: [],\r\n      contracts: []\r\n    },\r\n    contract: {\r\n      active: true,\r\n      sla: { local: 0, foreign: 0 },\r\n      products: [],\r\n      startingDate: '',\r\n      finishDate: ''\r\n    },\r\n    contact: {\r\n      email: '',\r\n      fullName: '',\r\n      phoneNumbers: [],\r\n      position: '',\r\n      includeForAccessEmail: false\r\n    },\r\n    region: '',\r\n    phoneNumber: '',\r\n\r\n    // Vuetify components\r\n    rules,\r\n    activeStep: 1,\r\n    step1Completed: false,\r\n    step2Completed: false,\r\n    step3Completed: false,\r\n    contactForm: false,\r\n    datePicker: false,\r\n    tableFilter: '',\r\n    headers: [\r\n      { text: 'Tipo', value: 'productType' },\r\n      { text: 'Marca', value: 'brand' },\r\n      { text: 'Modelo', value: 'model' }\r\n    ],\r\n    loader: false\r\n  }),\r\n\r\n  computed: { ...mapState(['collections']) },\r\n\r\n  methods: {\r\n\r\n    ...mapActions(['createDocument', 'findDocuments']),\r\n    ...mapMutations(['showSnackbar']),\r\n\r\n    addItem (data, type, item) {\r\n      this[data][`${type}s`].push(item)\r\n      this[type] = ''\r\n      if (type === 'contact') {\r\n        this.contact = {\r\n          email: '',\r\n          fullName: '',\r\n          phoneNumbers: [],\r\n          position: '',\r\n          includeForAccessEmail: false\r\n        }\r\n        this.$refs[`${type}Form`].resetValidation()\r\n      }\r\n    },\r\n\r\n    editContact (contact) {\r\n      this.contact = Object.assign({}, contact)\r\n    },\r\n\r\n    removeProperty (prop, index) {\r\n      if (prop === 'phoneNumbers') this.contact.phoneNumbers.splice(index, 1)\r\n      else this.client[prop].splice(index, 1)\r\n    },\r\n\r\n    async preventDuplicity (clientName) {\r\n      const filter = { clientName }\r\n      const res = await this.findDocuments({ collection: 'Client', filter })\r\n      return { throwsMatch: res.length }\r\n    },\r\n\r\n    async createClient (client) {\r\n      this.loader = true\r\n      client.contracts.push(this.contract)\r\n\r\n      const searchByName = await this.preventDuplicity(client.clientName)\r\n      if (searchByName.throwsMatch) return (this.showSnackbar({ error: 'El nombre se ha registrado antes' }), this.loader = false)\r\n\r\n      this.createDocument({ collection: 'Client', body: client })\r\n        .then(() => this.$emit('hideInterface'))\r\n        .catch(() => this.loader = false)\r\n    }\r\n  }\r\n})\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClientForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClientForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ClientForm.vue?vue&type=template&id=48d25aa0&\"\nimport script from \"./ClientForm.vue?vue&type=script&lang=js&\"\nexport * from \"./ClientForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VStepper } from 'vuetify/lib/components/VStepper';\nimport { VStepperContent } from 'vuetify/lib/components/VStepper';\nimport { VStepperStep } from 'vuetify/lib/components/VStepper';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCard,VCardSubtitle,VChip,VChipGroup,VCol,VContainer,VDataTable,VDatePicker,VForm,VIcon,VMenu,VRadio,VRadioGroup,VRow,VSelect,VSpacer,VStepper,VStepperContent,VStepperStep,VSwitch,VTextField,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-expansion-panels',{attrs:{\"multiple\":\"\"},model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},_vm._l((_vm.formOptions.clients),function(client,index){return _c('v-expansion-panel',{key:index},[_c('v-expansion-panel-header',[_vm._v(_vm._s(client.clientName))]),_c('v-expansion-panel-content',[_c('v-sheet',[_c('v-card-subtitle',{staticClass:\"font-weight-bold\"},[_vm._v(\"Contactos\")]),_vm._l((client.contacts),function(contact,contactI){return _c('section',{key:contactI,staticClass:\"px-1 my-1\"},[_c('v-card-title',{staticClass:\"caption font-weight-bold\"},[_c('v-list-item-avatar',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.mobile),expression:\"!mobile\"}]},[_c('v-icon',{staticClass:\"grey lighten-1\",attrs:{\"dark\":\"\"}},[_vm._v(\"mdi-account\")])],1),_vm._v(\" \"+_vm._s(contact.fullName)+\" \")],1),_c('v-card-subtitle',{staticClass:\"caption\"},[_vm._v(_vm._s(contact.position))]),_c('v-chip-group',_vm._l((contact.phoneNumbers),function(telephone,indx){return _c('v-chip',{key:indx,attrs:{\"small\":\"\"}},[_vm._v(\" \"+_vm._s(telephone)+\" \")])}),1)],1)}),_c('v-divider',{staticClass:\"my-4\"}),(_vm.activeContract(client))?_c('section',[_c('v-alert',{staticClass:\"mt-2\",attrs:{\"type\":\"success\",\"text\":\"\",\"dense\":\"\"}},[_vm._v(\" Contrato activo \")]),_c('v-row',[_c('v-col',[_c('v-card-subtitle',{staticClass:\"font-weight-bold\"},[_vm._v(\" Fecha de inicio \")])],1),_c('v-col',[_c('v-text-field',{attrs:{\"value\":_vm.activeContract(client).startingDate}})],1)],1),_c('v-row',{staticClass:\"mt-0\"},[_c('v-col',[_c('v-card-subtitle',{staticClass:\"font-weight-bold\"},[_vm._v(\" S. L. A. \")])],1),_c('v-col',[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-chip',_vm._g({staticClass:\"mr-1\",attrs:{\"color\":\"primary\"}},on),[_vm._v(\" \"+_vm._s(_vm.activeContract(client).sla.local)+\" \")])]}}],null,true)},[_vm._v(\" local \")]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-chip',_vm._g({attrs:{\"color\":\"accent\"}},on),[_vm._v(\" \"+_vm._s(_vm.activeContract(client).sla.foreign)+\" \")])]}}],null,true)},[_vm._v(\" foráneo \")])],1)],1),_c('v-row',[_c('v-col',[_c('v-card-subtitle',{staticClass:\"font-weight-bold\"},[_vm._v(\" Productos contratados \")]),_c('v-chip-group',_vm._l((_vm.productTypes(_vm.activeContract(client))),function(product,i){return _c('v-chip',{key:i,attrs:{\"small\":\"\"}},[_vm._v(\" \"+_vm._s(product)+\" \")])}),1)],1)],1)],1):_c('v-alert',{attrs:{\"type\":\"error\",\"dense\":\"\",\"text\":\"\"}},[_vm._v(\" Sin contrato activo \")]),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-btn',{attrs:{\"disabled\":_vm.$store.state.session.user.userRole > 1,\"small\":\"\",\"block\":\"\"},on:{\"click\":function($event){return _vm.editClient(client)}}},[_vm._v(\" Editar \")])],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-btn',{attrs:{\"disabled\":_vm.$store.state.session.user.userRole > 1,\"small\":\"\",\"block\":\"\"},on:{\"click\":function($event){return _vm.showContracts(client)}}},[_vm._v(\" Contratos \")])],1)],1)],2)],1)],1)}),1),_c('v-dialog',{attrs:{\"width\":_vm.mobile ? '90%' : '60%',\"persistent\":\"\"},model:{value:(_vm.editInterface),callback:function ($$v) {_vm.editInterface=$$v},expression:\"editInterface\"}},[_c('v-card',[(_vm.editInterface)?_c('EditClientForm',{attrs:{\"collections\":_vm.collections,\"mobile\":_vm.mobile,\"editing\":_vm.selectedDocument},on:{\"hideInterface\":function($event){_vm.editInterface = false}}}):_vm._e()],1)],1),_c('v-bottom-sheet',{attrs:{\"scrollable\":\"\"},model:{value:(_vm.bottomSheet),callback:function ($$v) {_vm.bottomSheet=$$v},expression:\"bottomSheet\"}},[_c('v-card',[_c('Header',{attrs:{\"closable\":\"1\",\"title\":\"Contratos registrados\",\"subtitle\":_vm.selectedClient.clientName},on:{\"hideInterface\":function($event){_vm.bottomSheet = false}}}),_c('v-card-text',[_c('v-btn',{staticClass:\"ma-1\",attrs:{\"disabled\":_vm.$store.state.session.user.userRole > 1,\"color\":\"secondary\",\"small\":\"\"},on:{\"click\":function($event){return _vm.addContract(_vm.selectedClient)}}},[_vm._v(\" Agregar \")]),_c('v-data-table',{staticClass:\"elevation-2\",attrs:{\"dense\":\"\",\"items-per-page\":5,\"headers\":_vm.headers,\"items\":_vm.selectedClient.contracts},scopedSlots:_vm._u([{key:\"item.startingDate\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(_vm._f(\"friendlyDate\")(item.startingDate))+\" \")]}},{key:\"item.active\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(item.active ? 'Activo' : 'Inactivo')+\" \")]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-btn',{staticClass:\"mx-1\",attrs:{\"disabled\":_vm.$store.state.session.user.userRole > 1,\"icon\":\"\",\"small\":\"\",\"color\":\"secondary lighten-1\"},on:{\"click\":function($event){return _vm.editContract(item)}}},[_c('v-icon',[_vm._v(\"mdi-pencil\")])],1),_c('v-btn',{staticClass:\"mx-1\",attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"error lighten-1\",\"disabled\":_vm.selectedClient.contracts.length < 2 || _vm.$store.state.session.user.userRole > 1},on:{\"click\":function($event){return _vm.confirmDelete(item)}}},[_c('v-icon',[_vm._v(\"mdi-delete\")])],1)]}}])}),_c('v-dialog',{attrs:{\"width\":_vm.mobile ? '90%' : '60%'},model:{value:(_vm.contractInterface),callback:function ($$v) {_vm.contractInterface=$$v},expression:\"contractInterface\"}},[_c('v-card',[(_vm.contractInterface)?_c('ContractForm',{attrs:{\"collections\":_vm.collections,\"mobile\":_vm.mobile,\"editingContract\":_vm.editingContract,\"editingClient\":_vm.selectedDocument,\"contractIndex\":_vm.contractIndex},on:{\"hideInterface\":function($event){_vm.contractInterface = false}}}):_vm._e()],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"closable\":\"1\",\"title\":\"Formulario de registro\",\"subtitle\":\"Complete la información del cliente\"},on:{\"hideInterface\":function($event){return _vm.$emit('hideInterface')}}}),_c('v-stepper',{attrs:{\"vertical\":\"\"},model:{value:(_vm.activeStep),callback:function ($$v) {_vm.activeStep=$$v},expression:\"activeStep\"}},[_c('v-stepper-step',{attrs:{\"editable\":\"\",\"complete\":_vm.step1Completed,\"step\":\"1\"}},[_vm._v(\" Información general \")]),_c('v-stepper-content',{attrs:{\"step\":\"1\"}},[_c('v-form',{ref:\"step1Completed\",model:{value:(_vm.step1Completed),callback:function ($$v) {_vm.step1Completed=$$v},expression:\"step1Completed\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? '12' : '6'}},[_c('v-text-field',{attrs:{\"label\":\"Nombre del cliente\",\"rules\":_vm.rules.required},model:{value:(_vm.client.clientName),callback:function ($$v) {_vm.$set(_vm.client, \"clientName\", $$v)},expression:\"client.clientName\"}})],1)],1),_vm._v(\" Regiones \"),_c('v-tooltip',{attrs:{\"color\":\"accent\",\"right\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({staticClass:\"ml-2 mb-1\",attrs:{\"color\":\"accent\"}},on),[_vm._v(\" mdi-information-outline \")])]}}])},[_vm._v(\" Distribución geográfica de oficinas \")]),_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Región\"},model:{value:(_vm.region),callback:function ($$v) {_vm.region=$$v},expression:\"region\"}})],1),_c('v-col',[_c('v-btn',{attrs:{\"color\":\"accent\",\"small\":\"\",\"text\":\"\",\"disabled\":!_vm.region},on:{\"click\":function($event){return _vm.addItem('client', 'region', _vm.region)}}},[_vm._v(\" Agregar \")])],1)],1),_c('v-chip-group',_vm._l((_vm.client.regions),function(region,index){return _c('v-chip',{key:index,attrs:{\"close\":\"\",\"disabled\":\"\"},on:{\"click:close\":function($event){return _vm.removeProperty('regions', index)}}},[_vm._v(\" \"+_vm._s(region)+\" \")])}),1)],1),_c('v-btn',{attrs:{\"color\":\"primary\",\"disabled\":!_vm.step1Completed,\"text\":\"\",\"block\":\"\"},on:{\"click\":function($event){_vm.activeStep++}}},[_vm._v(\" Continuar \")])],1),_c('v-stepper-step',{attrs:{\"step\":\"2\",\"editable\":_vm.step1Completed,\"complete\":_vm.contactForm}},[_vm._v(\" Contactos \")]),_c('v-stepper-content',{attrs:{\"step\":\"2\"}},[_c('v-card',{staticClass:\"pa-2\",attrs:{\"outlined\":\"\",\"flat\":\"\"}},[_c('v-form',{ref:\"contactForm\",model:{value:(_vm.contactForm),callback:function ($$v) {_vm.contactForm=$$v},expression:\"contactForm\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 4}},[_c('v-text-field',{attrs:{\"label\":\"Nombre y apellido\",\"rules\":_vm.rules.required},model:{value:(_vm.contact.fullName),callback:function ($$v) {_vm.$set(_vm.contact, \"fullName\", $$v)},expression:\"contact.fullName\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 5}},[_c('v-text-field',{attrs:{\"label\":\"Cargo\"},model:{value:(_vm.contact.position),callback:function ($$v) {_vm.$set(_vm.contact, \"position\", $$v)},expression:\"contact.position\"}})],1)],1),_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 4}},[_c('v-text-field',{attrs:{\"label\":\"Dirección de correo\",\"rules\":_vm.rules.emailRules},model:{value:(_vm.contact.email),callback:function ($$v) {_vm.$set(_vm.contact, \"email\", $$v)},expression:\"contact.email\"}})],1),_c('v-col',{attrs:{\"align\":\"center\",\"cols\":_vm.mobile ? 6 : 5}},[_c('v-switch',{attrs:{\"label\":\"Accesos\"},model:{value:(_vm.contact.includeForAccessEmail),callback:function ($$v) {_vm.$set(_vm.contact, \"includeForAccessEmail\", $$v)},expression:\"contact.includeForAccessEmail\"}})],1),_c('v-col',{attrs:{\"align\":\"center\",\"cols\":_vm.mobile ? 6 : 3}},[_c('v-tooltip',{attrs:{\"color\":\"accent\",\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({staticClass:\"ml-2 mb-1\",attrs:{\"color\":\"accent\"}},on),[_vm._v(\" mdi-information-outline \")])]}}])},[_vm._v(\" Incluir en solicitudes de acceso \")])],1)],1),_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 8 : 3}},[_c('v-text-field',{attrs:{\"rules\":_vm.phoneNumber ? _vm.rules.phoneRules : [],\"label\":\"Teléfono\",\"maxlength\":\"11\"},model:{value:(_vm.phoneNumber),callback:function ($$v) {_vm.phoneNumber=$$v},expression:\"phoneNumber\"}})],1),_c('v-col',[_c('v-btn',{attrs:{\"disabled\":!_vm.contactForm || !_vm.phoneNumber,\"small\":\"\",\"icon\":\"\",\"color\":\"accent\"},on:{\"click\":function($event){return _vm.addItem('contact', 'phoneNumber', _vm.phoneNumber)}}},[_c('v-icon',[_vm._v(\"mdi-phone-plus\")])],1)],1),_c('v-col',[_c('v-chip-group',_vm._l((_vm.contact.phoneNumbers),function(phone,index){return _c('v-chip',{key:index,attrs:{\"close\":\"\"},on:{\"click:close\":function($event){return _vm.removeProperty('phoneNumbers', index)}}},[_vm._v(\" \"+_vm._s(phone)+\" \")])}),1)],1)],1),_c('v-btn',{attrs:{\"disabled\":!_vm.contactForm,\"block\":\"\",\"small\":\"\",\"outlined\":\"\",\"color\":\"accent\"},on:{\"click\":function($event){return _vm.addItem('client', 'contact', _vm.contact)}}},[_c('v-icon',[_vm._v(\"mdi-account-plus\")])],1)],1)],1),_c('v-row',[_c('v-col',[_c('v-chip-group',_vm._l((_vm.client.contacts),function(contact,i){return _c('v-chip',{key:i,attrs:{\"close\":\"\"},on:{\"click\":function($event){return _vm.editContact(contact)},\"click:close\":function($event){return _vm.removeProperty('contacts', i)}}},[_vm._v(\" \"+_vm._s(contact.fullName)+\" \")])}),1)],1)],1),(_vm.requiresMassiveUpdate)?_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',[_c('UpdateWarning',{attrs:{\"triggeringProp\":\"Nombre del cliente\",\"modifies\":_vm.DependenciesNames}})],1)],1):_vm._e(),_c('v-btn',{staticClass:\"mt-2\",attrs:{\"color\":\"success\",\"block\":\"\",\"loading\":_vm.loader},on:{\"click\":function($event){return _vm.save(_vm.client)}}},[_vm._v(\" Guardar cambios \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <Header\r\n      closable=\"1\"\r\n      title=\"Formulario de registro\"\r\n      subtitle=\"Complete la información del cliente\"\r\n      @hideInterface=\"$emit('hideInterface')\"\r\n    />\r\n    <v-stepper v-model=\"activeStep\" vertical>\r\n      <v-stepper-step editable :complete=\"step1Completed\" step=\"1\">\r\n        Información general\r\n      </v-stepper-step>\r\n      <v-stepper-content step=\"1\">\r\n        <v-form ref=\"step1Completed\" v-model=\"step1Completed\">\r\n          <v-row>\r\n            <v-col :cols=\"mobile ? '12' : '6'\">\r\n              <v-text-field\r\n                v-model=\"client.clientName\"\r\n                label=\"Nombre del cliente\"\r\n                :rules=\"rules.required\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          Regiones\r\n          <v-tooltip color=\"accent\" right>\r\n            <template v-slot:activator=\"{ on }\">\r\n              <v-icon\r\n                class=\"ml-2 mb-1\"\r\n                color=\"accent\"\r\n                v-on=\"on\"\r\n              >\r\n                mdi-information-outline\r\n              </v-icon>\r\n            </template>\r\n            Distribución geográfica de oficinas\r\n          </v-tooltip>\r\n          <v-row align=\"center\">\r\n            <v-col>\r\n              <v-text-field v-model=\"region\" label=\"Región\" />\r\n            </v-col>\r\n            <v-col>\r\n              <v-btn\r\n                @click=\"addItem('client', 'region', region)\"\r\n                color=\"accent\" small text\r\n                :disabled=\"!region\"\r\n              >\r\n                Agregar\r\n              </v-btn>\r\n            </v-col>\r\n          </v-row>\r\n          <v-chip-group>\r\n            <v-chip\r\n              v-for=\"region, index in client.regions\" :key=\"index\"\r\n              @click:close=\"removeProperty('regions', index)\"\r\n              close\r\n              disabled\r\n            >\r\n              {{ region }}\r\n            </v-chip>\r\n          </v-chip-group>\r\n        </v-form>\r\n        <v-btn\r\n          @click=\"activeStep++\"\r\n          color=\"primary\"\r\n          :disabled=\"!step1Completed\"\r\n          text\r\n          block\r\n        >\r\n          Continuar\r\n        </v-btn>\r\n      </v-stepper-content>\r\n\r\n      <v-stepper-step\r\n        step=\"2\"\r\n        :editable=\"step1Completed\"\r\n        :complete=\"contactForm\"\r\n      >\r\n        Contactos\r\n      </v-stepper-step>\r\n      <v-stepper-content step=\"2\">\r\n        <v-card class=\"pa-2\" outlined flat>\r\n          <v-form ref=\"contactForm\" v-model=\"contactForm\">\r\n            <v-row>\r\n              <v-col :cols=\"mobile ? 12 : 4\">\r\n                <v-text-field\r\n                  v-model=\"contact.fullName\"\r\n                  label=\"Nombre y apellido\"\r\n                  :rules=\"rules.required\"\r\n                />\r\n              </v-col>\r\n              <v-col :cols=\"mobile ? 12 : 5\">\r\n                <v-text-field\r\n                  v-model=\"contact.position\"\r\n                  label=\"Cargo\"\r\n                />\r\n              </v-col>\r\n            </v-row>\r\n            <v-row align=\"center\">\r\n              <v-col :cols=\"mobile ? 12 : 4\">\r\n                <v-text-field\r\n                  v-model=\"contact.email\"\r\n                  label=\"Dirección de correo\"\r\n                  :rules=\"rules.emailRules\"\r\n                />\r\n              </v-col>\r\n              <v-col align=\"center\" :cols=\"mobile ? 6 : 5\">\r\n                <v-switch v-model=\"contact.includeForAccessEmail\" label=\"Accesos\" />\r\n              </v-col>\r\n              <v-col align=\"center\" :cols=\"mobile ? 6 : 3\">\r\n                <v-tooltip color=\"accent\" top>\r\n                  <template v-slot:activator=\"{ on }\">\r\n                    <v-icon\r\n                      class=\"ml-2 mb-1\"\r\n                      color=\"accent\"\r\n                      v-on=\"on\"\r\n                    >\r\n                      mdi-information-outline\r\n                    </v-icon>\r\n                  </template>\r\n                  Incluir en solicitudes de acceso\r\n                </v-tooltip>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row align=\"center\">\r\n              <v-col :cols=\"mobile ? 8 : 3\">\r\n                <v-text-field\r\n                  v-model=\"phoneNumber\"\r\n                  :rules=\"phoneNumber ? rules.phoneRules : []\"\r\n                  label=\"Teléfono\"\r\n                  maxlength=\"11\"\r\n                />\r\n              </v-col>\r\n              <v-col>\r\n                <v-btn\r\n                  @click=\"addItem('contact', 'phoneNumber', phoneNumber)\"\r\n                  :disabled=\"!contactForm || !phoneNumber\"\r\n                  small\r\n                  icon\r\n                  color=\"accent\"\r\n                >\r\n                  <v-icon>mdi-phone-plus</v-icon>\r\n                </v-btn>\r\n              </v-col>\r\n              <v-col>\r\n                <v-chip-group>\r\n                  <v-chip\r\n                    v-for=\"phone, index in contact.phoneNumbers\" :key=\"index\"\r\n                    @click:close=\"removeProperty('phoneNumbers', index)\"\r\n                    close\r\n                  >\r\n                    {{ phone }}\r\n                  </v-chip>\r\n                </v-chip-group>\r\n              </v-col>\r\n            </v-row>\r\n            <v-btn\r\n              @click=\"addItem('client', 'contact', contact)\"\r\n              :disabled=\"!contactForm\"\r\n              block small\r\n              outlined color=\"accent\"\r\n            >\r\n              <v-icon>mdi-account-plus</v-icon>\r\n            </v-btn>\r\n          </v-form>\r\n        </v-card>\r\n        <v-row>\r\n          <v-col>\r\n            <v-chip-group>\r\n              <v-chip\r\n                v-for=\"contact, i in client.contacts\" :key=\"i\"\r\n                close\r\n                @click=\"editContact(contact)\"\r\n                @click:close=\"removeProperty('contacts', i)\"\r\n              >\r\n                {{ contact.fullName }}\r\n              </v-chip>\r\n          </v-chip-group>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row v-if=\"requiresMassiveUpdate\" align=\"center\">\r\n          <v-col>\r\n            <UpdateWarning triggeringProp=\"Nombre del cliente\" :modifies=\"DependenciesNames\" />\r\n          </v-col>\r\n        </v-row>\r\n        <v-btn\r\n          class=\"mt-2\" @click=\"save(client)\"\r\n          color=\"success\"\r\n          block\r\n          :loading=\"loader\"\r\n        >\r\n          Guardar cambios\r\n        </v-btn>\r\n      </v-stepper-content>\r\n\r\n    </v-stepper>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Vue from 'vue'\r\nimport { mapState, mapActions, mapMutations } from 'vuex'\r\nimport { rules } from '@/helpers/form.js'\r\nimport moment from 'moment-timezone'\r\nimport Header from '@/components/generals/Header'\r\nimport UpdateWarning from '@/components/generals/UpdateWarning.vue'\r\n\r\nmoment.locale('es')\r\n\r\nexport default Vue.extend({\r\n\r\n  name: 'EditClientForm',\r\n  components: { Header, UpdateWarning },\r\n  props: ['mobile', 'editing'],\r\n\r\n  created () {\r\n    if (this.editing) this.client = JSON.parse(JSON.stringify(this.editing))\r\n  },\r\n\r\n  data: () => ({\r\n    // Form data\r\n    client: {\r\n      clientName: '',\r\n      regions: [],\r\n      contacts: [],\r\n      contracts: []\r\n    },\r\n    contact: {\r\n      email: '',\r\n      fullName: '',\r\n      phoneNumbers: [],\r\n      position: '',\r\n      includeForAccessEmail: false\r\n    },\r\n    region: '',\r\n    phoneNumber: '',\r\n    rules,\r\n\r\n    // Vuetify components\r\n    activeStep: 1,\r\n    step1Completed: false,\r\n    contactForm: false,\r\n    datePicker: false,\r\n    loader: false,\r\n    DependenciesNames: [\r\n      'Reportes activos', 'Reportes cerrados',\r\n      'Mantenimientos activos', 'Mantenimientos cerrados',\r\n      'Oficinas', 'Solicitudes', 'Despachos'\r\n    ]\r\n  }),\r\n\r\n  computed: {\r\n    ...mapState(['collections']),\r\n    requiresMassiveUpdate () {\r\n      return this.client.clientName !== this.editing.clientName\r\n    }\r\n  },\r\n\r\n  methods: {\r\n\r\n    ...mapActions(['updateDocuments', 'updateDocument', 'findDocuments']),\r\n    ...mapMutations(['showSnackbar']),\r\n\r\n    addItem (data, type, item) {\r\n      this[data][`${type}s`].push(item)\r\n      this[type] = ''\r\n      if (type === 'contact') {\r\n        this.contact = {\r\n          email: '',\r\n          fullName: '',\r\n          phoneNumbers: [],\r\n          position: '',\r\n          includeForAccessEmail: false\r\n        }\r\n        this.$refs[`${type}Form`].resetValidation()\r\n      }\r\n    },\r\n\r\n    editContact (contact) {\r\n      this.contact = Object.assign({}, contact)\r\n    },\r\n\r\n    removeProperty (prop, index) {\r\n      if (prop === 'phoneNumbers') this.contact.phoneNumbers.splice(index, 1)\r\n      else this.client[prop].splice(index, 1)\r\n    },\r\n\r\n    async preventDuplicity ({ clientName, _id }) {\r\n      const filter = { clientName, _id: { \"$ne\": _id } }\r\n      const res = await this.findDocuments({ collection: 'Client', filter })\r\n      return { throwsMatch: res.length }\r\n    },\r\n\r\n    async save (body) {\r\n      this.loader = true\r\n      const registeredBefore = await this.preventDuplicity(body)\r\n      if (registeredBefore.throwsMatch) return (this.showSnackbar({ error: 'El nombre se ha registrado antes' }), this.loader = false)\r\n      this.update({ collection: 'Client', body })\r\n    },\r\n\r\n    update (document) {\r\n      document.body._id = this.editing._id\r\n      this.updateDocument(document)\r\n        .then(() => { if (this.requiresMassiveUpdate) this.updateDependencies(document) })\r\n        .then(() => this.$emit('hideInterface'))\r\n        .catch(() => this.loader = false)\r\n    },\r\n\r\n    updateDependencies ({ body }) {\r\n      const actions = []\r\n      const query = { clientName: this.editing.clientName }\r\n      const update = { clientName: body.clientName }\r\n      const collections = this.dependencies(query, update)\r\n      for (const collection of collections) actions.push(this.updateDocuments(collection))\r\n      Promise.all(actions)\r\n    },\r\n\r\n    dependencies (query, update) {\r\n        return [\r\n        { collection: 'Active', query, update, options: {} },\r\n        { collection: 'Closed', query, update, options: {} },\r\n        {\r\n          collection: 'Maintenance',\r\n          query,\r\n          update: {\r\n            $set: {\r\n              clientName: update.clientName,\r\n              \"inventory.$[product].clientName\": update.clientName\r\n            }\r\n          },\r\n          options: { arrayFilters: [ { \"product.clientName\": query.clientName } ] }\r\n        },\r\n        { collection: 'Inventory', query, update, options: {} },\r\n        { collection: 'Office', query, update },\r\n        { collection: 'Request', query, update, options: {} },\r\n        { collection: 'Dispatch', query, update, options: {} },\r\n      ]\r\n    }\r\n\r\n  }\r\n})\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditClientForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditClientForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditClientForm.vue?vue&type=template&id=1dfe14e5&\"\nimport script from \"./EditClientForm.vue?vue&type=script&lang=js&\"\nexport * from \"./EditClientForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VStepper } from 'vuetify/lib/components/VStepper';\nimport { VStepperContent } from 'vuetify/lib/components/VStepper';\nimport { VStepperStep } from 'vuetify/lib/components/VStepper';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCard,VChip,VChipGroup,VCol,VContainer,VForm,VIcon,VRow,VStepper,VStepperContent,VStepperStep,VSwitch,VTextField,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"closable\":\"1\",\"title\":\"Formulario de registro\",\"subtitle\":\"Complete la información del contrato\"},on:{\"hideInterface\":function($event){return _vm.$emit('hideInterface')}}}),_c('v-stepper',{attrs:{\"vertical\":\"\"},model:{value:(_vm.activeStep),callback:function ($$v) {_vm.activeStep=$$v},expression:\"activeStep\"}},[_c('v-stepper-step',{attrs:{\"complete\":_vm.activeStep > 1,\"step\":\"1\",\"editable\":_vm.step1Completed}},[_vm._v(\" Acuerdos generales \")]),_c('v-stepper-content',{attrs:{\"step\":\"1\"}},[_c('v-form',{ref:\"step1Completed\",model:{value:(_vm.step1Completed),callback:function ($$v) {_vm.step1Completed=$$v},expression:\"step1Completed\"}},[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 4}},[_c('v-card-subtitle',[_vm._v(\" Status \")])],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 4}},[_c('v-radio-group',{attrs:{\"row\":\"\"},model:{value:(_vm.contract.active),callback:function ($$v) {_vm.$set(_vm.contract, \"active\", $$v)},expression:\"contract.active\"}},_vm._l(([true, false]),function(inactive,i){return _c('v-radio',{key:i,attrs:{\"label\":inactive ? 'Activo' : 'Inactivo',\"value\":inactive}})}),1)],1)],1),_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 4}},[_c('v-card-subtitle',[_vm._v(\" Periodo contratado \")])],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 5}},[_c('v-text-field',{attrs:{\"label\":\"Rango\",\"rules\":_vm.rules.required,\"readonly\":\"\"},model:{value:(_vm.dateRange),callback:function ($$v) {_vm.dateRange=$$v},expression:\"dateRange\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 3}},[_c('v-menu',{ref:\"startingDateMenu\",attrs:{\"close-on-content-click\":false,\"return-value\":_vm.contract.startingDate,\"transition\":\"scale-transition\",\"nudge-left\":\"150\",\"min-width\":\"auto\"},on:{\"update:returnValue\":function($event){return _vm.$set(_vm.contract, \"startingDate\", $event)},\"update:return-value\":function($event){return _vm.$set(_vm.contract, \"startingDate\", $event)}},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"ma-1\",attrs:{\"small\":\"\",\"color\":\"primary\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-calendar-check\")])],1)]}}]),model:{value:(_vm.startingDatePicker),callback:function ($$v) {_vm.startingDatePicker=$$v},expression:\"startingDatePicker\"}},[_c('v-date-picker',{attrs:{\"no-title\":\"\",\"scrollable\":\"\"},on:{\"&input\":function($event){return _vm.setRange.apply(null, arguments)}},model:{value:(_vm.contract.startingDate),callback:function ($$v) {_vm.$set(_vm.contract, \"startingDate\", $$v)},expression:\"contract.startingDate\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.startingDatePicker = false}}},[_vm._v(\" Cancelar \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.startingDateMenu.save(_vm.contract.startingDate)}}},[_vm._v(\" OK \")])],1)],1),_c('v-menu',{ref:\"finishDateMenu\",attrs:{\"close-on-content-click\":false,\"return-value\":_vm.contract.finishDate,\"transition\":\"scale-transition\",\"nudge-left\":\"150\",\"min-width\":\"auto\"},on:{\"update:returnValue\":function($event){return _vm.$set(_vm.contract, \"finishDate\", $event)},\"update:return-value\":function($event){return _vm.$set(_vm.contract, \"finishDate\", $event)}},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"ma-1\",attrs:{\"small\":\"\",\"color\":\"primary\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-calendar-remove\")])],1)]}}]),model:{value:(_vm.finishDatePicker),callback:function ($$v) {_vm.finishDatePicker=$$v},expression:\"finishDatePicker\"}},[_c('v-date-picker',{attrs:{\"no-title\":\"\",\"scrollable\":\"\"},model:{value:(_vm.contract.finishDate),callback:function ($$v) {_vm.$set(_vm.contract, \"finishDate\", $$v)},expression:\"contract.finishDate\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.finishDatePicker = false}}},[_vm._v(\" Cancelar \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.finishDateMenu.save(_vm.contract.finishDate)}}},[_vm._v(\" OK \")])],1)],1)],1)],1),_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 4}},[_c('v-card-subtitle',[_vm._v(\" S. L. A. \")])],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 6 : 3}},[_c('v-select',{attrs:{\"label\":\"Local\",\"items\":[8, 16, 24, 48],\"rules\":_vm.rules.required},model:{value:(_vm.contract.sla.local),callback:function ($$v) {_vm.$set(_vm.contract.sla, \"local\", $$v)},expression:\"contract.sla.local\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 6 : 3}},[_c('v-select',{attrs:{\"label\":\"Foráneo\",\"items\":[8, 16, 24, 48],\"rules\":_vm.rules.required},model:{value:(_vm.contract.sla.foreign),callback:function ($$v) {_vm.$set(_vm.contract.sla, \"foreign\", $$v)},expression:\"contract.sla.foreign\"}})],1)],1),_c('v-btn',{staticClass:\"mb-1\",attrs:{\"disabled\":!_vm.step1Completed,\"color\":\"primary\",\"text\":\"\",\"block\":\"\"},on:{\"click\":function($event){_vm.activeStep++}}},[_vm._v(\" Continuar \")])],1)],1),_c('v-stepper-step',{attrs:{\"complete\":_vm.activeStep > 1,\"step\":\"2\",\"editable\":_vm.step1Completed}},[_vm._v(\" Productos contratados \")]),_c('v-stepper-content',{attrs:{\"step\":\"2\"}},[_c('v-form',{ref:\"step2Completed\",model:{value:(_vm.step2Completed),callback:function ($$v) {_vm.step2Completed=$$v},expression:\"step2Completed\"}},[_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.collections.Product,\"item-key\":\"_id\",\"show-select\":\"\",\"search\":_vm.tableFilter},scopedSlots:_vm._u([{key:\"top\",fn:function(){return [_c('v-row',{staticClass:\"ml-1\"},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 8 : 4}},[_c('v-text-field',{attrs:{\"label\":\"Filtro\",\"prepend-inner-icon\":\"mdi-filter-outline\"},model:{value:(_vm.tableFilter),callback:function ($$v) {_vm.tableFilter=$$v},expression:\"tableFilter\"}})],1)],1)]},proxy:true}]),model:{value:(_vm.contract.products),callback:function ($$v) {_vm.$set(_vm.contract, \"products\", $$v)},expression:\"contract.products\"}}),_c('v-btn',{staticClass:\"mt-2\",attrs:{\"loading\":_vm.loader,\"color\":\"success\",\"block\":\"\"},on:{\"click\":function($event){return _vm.update(_vm.client)}}},[_vm._v(\" Guardar \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <Header\r\n      closable=\"1\"\r\n      title=\"Formulario de registro\"\r\n      subtitle=\"Complete la información del contrato\"\r\n      @hideInterface=\"$emit('hideInterface')\"\r\n    />\r\n    <v-stepper v-model=\"activeStep\" vertical>\r\n      <v-stepper-step\r\n        :complete=\"activeStep > 1\"\r\n        step=\"1\"\r\n        :editable=\"step1Completed\"\r\n      >\r\n        Acuerdos generales\r\n      </v-stepper-step>\r\n      <v-stepper-content step=\"1\">\r\n        <v-form ref=\"step1Completed\" v-model=\"step1Completed\">\r\n          <v-row align=\"center\">\r\n            <v-col :cols=\"mobile ? 12 : 4\">\r\n              <v-card-subtitle>\r\n                Status\r\n              </v-card-subtitle>\r\n            </v-col>\r\n            <v-col :cols=\"mobile ? 12 : 4\">\r\n              <v-radio-group row v-model=\"contract.active\">\r\n                <v-radio\r\n                  v-for=\"(inactive, i) in [true, false]\"\r\n                  :key=\"i\"\r\n                  :label=\"inactive ? 'Activo' : 'Inactivo'\"\r\n                  :value=\"inactive\"\r\n                />\r\n              </v-radio-group>\r\n            </v-col>\r\n          </v-row>\r\n          <v-row align=\"center\">\r\n            <v-col :cols=\"mobile ? 12 : 4\">\r\n              <v-card-subtitle>\r\n                Periodo contratado\r\n              </v-card-subtitle>\r\n            </v-col>\r\n            <v-col :cols=\"mobile ? 12 : 5\">\r\n              <v-text-field\r\n                v-model=\"dateRange\"\r\n                label=\"Rango\"\r\n                :rules=\"rules.required\"\r\n                readonly\r\n              />\r\n            </v-col>\r\n            <v-col :cols=\"mobile ? 12 : 3\">\r\n              <v-menu\r\n                ref=\"startingDateMenu\"\r\n                v-model=\"startingDatePicker\"\r\n                :close-on-content-click=\"false\"\r\n                :return-value.sync=\"contract.startingDate\"\r\n                transition=\"scale-transition\"\r\n                nudge-left=\"150\"\r\n                min-width=\"auto\"\r\n              >\r\n                <template v-slot:activator=\"{ on, attrs }\">\r\n                  <v-btn\r\n                    v-bind=\"attrs\"\r\n                    v-on=\"on\"\r\n                    small\r\n                    color=\"primary\"\r\n                    class=\"ma-1\"\r\n                  >\r\n                    <v-icon>mdi-calendar-check</v-icon>\r\n                  </v-btn>\r\n                </template>\r\n                <v-date-picker\r\n                  v-model=\"contract.startingDate\"\r\n                  @input.passive=\"setRange\"\r\n                  no-title\r\n                  scrollable\r\n                >\r\n                  <v-spacer></v-spacer>\r\n                  <v-btn\r\n                    text\r\n                    color=\"primary\"\r\n                    @click=\"startingDatePicker = false\"\r\n                  >\r\n                    Cancelar\r\n                  </v-btn>\r\n                  <v-btn\r\n                    text\r\n                    color=\"primary\"\r\n                    @click=\"$refs.startingDateMenu.save(contract.startingDate)\"\r\n                  >\r\n                    OK\r\n                  </v-btn>\r\n                </v-date-picker>\r\n              </v-menu>\r\n              <v-menu\r\n                ref=\"finishDateMenu\"\r\n                v-model=\"finishDatePicker\"\r\n                :close-on-content-click=\"false\"\r\n                :return-value.sync=\"contract.finishDate\"\r\n                transition=\"scale-transition\"\r\n                nudge-left=\"150\"\r\n                min-width=\"auto\"\r\n              >\r\n                <template v-slot:activator=\"{ on, attrs }\">\r\n                  <v-btn\r\n                    v-bind=\"attrs\"\r\n                    v-on=\"on\"\r\n                    small\r\n                    color=\"primary\"\r\n                    class=\"ma-1\"\r\n                  >\r\n                    <v-icon>mdi-calendar-remove</v-icon>\r\n                  </v-btn>\r\n                </template>\r\n                <v-date-picker\r\n                  v-model=\"contract.finishDate\"\r\n                  no-title\r\n                  scrollable\r\n                >\r\n                  <v-spacer></v-spacer>\r\n                  <v-btn\r\n                    text\r\n                    color=\"primary\"\r\n                    @click=\"finishDatePicker = false\"\r\n                  >\r\n                    Cancelar\r\n                  </v-btn>\r\n                  <v-btn\r\n                    text\r\n                    color=\"primary\"\r\n                    @click=\"$refs.finishDateMenu.save(contract.finishDate)\"\r\n                  >\r\n                    OK\r\n                  </v-btn>\r\n                </v-date-picker>\r\n              </v-menu>\r\n            </v-col>\r\n          </v-row>\r\n          <v-row align=\"center\">\r\n            <v-col :cols=\"mobile ? 12 : 4\">\r\n              <v-card-subtitle>\r\n                S. L. A.\r\n              </v-card-subtitle>\r\n            </v-col>\r\n            <v-col :cols=\"mobile ? 6 : 3\">\r\n              <v-select\r\n                v-model=\"contract.sla.local\"\r\n                label=\"Local\"\r\n                :items=\"[8, 16, 24, 48]\"\r\n                :rules=\"rules.required\"\r\n              />\r\n            </v-col>\r\n            <v-col :cols=\"mobile ? 6 : 3\">\r\n              <v-select\r\n                v-model=\"contract.sla.foreign\"\r\n                label=\"Foráneo\"\r\n                :items=\"[8, 16, 24, 48]\"\r\n                :rules=\"rules.required\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-btn\r\n            class=\"mb-1\"\r\n            :disabled=\"!step1Completed\"\r\n            color=\"primary\"\r\n            text\r\n            block\r\n            @click=\"activeStep++\"\r\n          >\r\n            Continuar\r\n          </v-btn>\r\n        </v-form>\r\n      </v-stepper-content>\r\n\r\n      <v-stepper-step\r\n        :complete=\"activeStep > 1\"\r\n        step=\"2\"\r\n        :editable=\"step1Completed\"\r\n      >\r\n        Productos contratados\r\n      </v-stepper-step>\r\n      <v-stepper-content step=\"2\">\r\n      <v-form ref=\"step2Completed\" v-model=\"step2Completed\">\r\n        <v-data-table\r\n          v-model=\"contract.products\"\r\n          :headers=\"headers\"\r\n          :items=\"collections.Product\"\r\n          item-key=\"_id\"\r\n          show-select\r\n          :search=\"tableFilter\"\r\n        >\r\n          <template v-slot:top>\r\n            <v-row class=\"ml-1\">\r\n              <v-col :cols=\"mobile ? 8 : 4\">\r\n                <v-text-field v-model=\"tableFilter\" label=\"Filtro\" prepend-inner-icon=\"mdi-filter-outline\" />\r\n              </v-col>\r\n            </v-row>\r\n          </template>\r\n        </v-data-table>\r\n        <v-btn\r\n          @click=\"update(client)\"\r\n          class=\"mt-2\"\r\n          :loading=\"loader\"\r\n          color=\"success\"\r\n          block\r\n        >\r\n          Guardar\r\n        </v-btn>\r\n        </v-form>\r\n      </v-stepper-content>\r\n    </v-stepper>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Vue from 'vue'\r\nimport { mapState, mapActions, mapMutations } from 'vuex'\r\nimport { rules } from '@/helpers/form.js'\r\nimport moment from 'moment-timezone'\r\nimport Header from '@/components/generals/Header'\r\n\r\nmoment.locale('es')\r\n\r\nexport default Vue.extend({\r\n\r\n  name: 'ContractForm',\r\n  components: { Header },\r\n  props: ['mobile', 'editingClient', 'editingContract', 'contractIndex'],\r\n\r\n  created () {\r\n\r\n    this.client = JSON.parse(JSON.stringify(this.editingClient))\r\n    if (this.editingContract) this.contract = JSON.parse(JSON.stringify(this.editingContract))\r\n    this.setRange()\r\n\r\n  },\r\n\r\n  data: () => ({\r\n    // Form data\r\n    client: { clientName: '', regions: [], contacts: [], contracts: [] },\r\n    contract: {\r\n      active: true,\r\n      sla: { local: 0, foreign: 0 },\r\n      products: [],\r\n      startingDate: `${moment(new Date()).format('yyyy')}-01-01`,\r\n      finishDate: `${moment(new Date()).format('yyyy')}-12-31`,\r\n    },\r\n\r\n    // Vuetify components\r\n    tableFilter: '',\r\n    headers: [\r\n      { text: 'Tipo', value: 'productType' },\r\n      { text: 'Marca', value: 'brand' },\r\n      { text: 'Modelo', value: 'model' }\r\n    ],\r\n    activeStep: 1,\r\n    step1Completed: false,\r\n    step2Completed: false,\r\n    startingDatePicker: false,\r\n    finishDatePicker: false,\r\n\r\n    // Data binding\r\n    rules,\r\n    dateRange: [],\r\n    loader: false\r\n  }),\r\n\r\n  computed: {\r\n\r\n    ...mapState(['collections'])\r\n  },\r\n\r\n  methods: {\r\n\r\n    ...mapActions(['updateDocument', 'findDocuments']),\r\n    ...mapMutations(['showSnackbar']),\r\n\r\n    setRange () {\r\n      const dates = [this.contract.startingDate, this.contract.finishDate]\r\n      this.dateRange = dates.join(' ~ ')\r\n    },\r\n\r\n    deactivateCurrentContract (client) {\r\n      const activeContract = client.contracts.find(contract => contract.active)\r\n      if (activeContract) activeContract.active = false\r\n      return client\r\n    },\r\n\r\n    async update (client) {\r\n      const activeQry = { filter: { clientName: client.clientName }, collection: 'Active' }\r\n      const maintenanceQry = {\r\n        filter: { clientName: client.clientName, $or: [{ status: 'Por culminar' }, { status: 'Asignado' }] },\r\n        collection: 'Maintenance'\r\n      }\r\n      const hasActiveServices = [...await this.findDocuments(activeQry), ...await this.findDocuments(maintenanceQry)].length\r\n      if (hasActiveServices) return this.showSnackbar({ error: 'La información de contratos no puede ser editada mientras existan servicios activos para el cliente' })\r\n      this.loader = true\r\n      if (this.contract.active) client = this.deactivateCurrentContract(client)\r\n      if (this.editingContract) client.contracts.splice(this.contractIndex, 1, this.contract)\r\n      else client.contracts.push(this.contract)\r\n\r\n      this.updateDocument({ collection: 'Client', body: client })\r\n        .then(() => this.$emit('hideInterface'))\r\n        .catch(() => this.loader = false)\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    \"contract.startingDate\": function () {\r\n      this.setRange()\r\n    },\r\n    \"contract.finishDate\": function () {\r\n      this.setRange()\r\n    }\r\n  }\r\n})\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContractForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContractForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContractForm.vue?vue&type=template&id=92e14c46&\"\nimport script from \"./ContractForm.vue?vue&type=script&lang=js&\"\nexport * from \"./ContractForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VStepper } from 'vuetify/lib/components/VStepper';\nimport { VStepperContent } from 'vuetify/lib/components/VStepper';\nimport { VStepperStep } from 'vuetify/lib/components/VStepper';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCardSubtitle,VCol,VContainer,VDataTable,VDatePicker,VForm,VIcon,VMenu,VRadio,VRadioGroup,VRow,VSelect,VSpacer,VStepper,VStepperContent,VStepperStep,VTextField})\n","<template>\r\n  <div>\r\n    <v-expansion-panels v-model=\"panel\" multiple>\r\n      <v-expansion-panel v-for=\"(client, index) in formOptions.clients\" :key=\"index\">\r\n        <v-expansion-panel-header>{{ client.clientName }}</v-expansion-panel-header>\r\n        <v-expansion-panel-content>\r\n          <v-sheet>\r\n            <v-card-subtitle class=\"font-weight-bold\">Contactos</v-card-subtitle>\r\n            <section\r\n              v-for=\"contact, contactI in client.contacts\" :key=\"contactI\"\r\n              class=\"px-1 my-1\"\r\n            >\r\n              <v-card-title class=\"caption font-weight-bold\">\r\n                <v-list-item-avatar v-show=\"!mobile\">\r\n                  <v-icon class=\"grey lighten-1\" dark>mdi-account</v-icon>\r\n                </v-list-item-avatar>\r\n                {{ contact.fullName }}\r\n              </v-card-title>\r\n              <v-card-subtitle class=\"caption\">{{ contact.position }}</v-card-subtitle>\r\n              <v-chip-group>\r\n                <v-chip v-for=\"telephone, indx in contact.phoneNumbers\" :key=\"indx\" small>\r\n                  {{ telephone }}\r\n                </v-chip>\r\n              </v-chip-group>\r\n            </section>\r\n            <v-divider class=\"my-4\"></v-divider>\r\n\r\n            <section v-if=\"activeContract(client)\">\r\n              <v-alert class=\"mt-2\" type=\"success\" text dense>\r\n                Contrato activo\r\n              </v-alert>\r\n              <v-row>\r\n                <v-col>\r\n                  <v-card-subtitle class=\"font-weight-bold\">\r\n                    Fecha de inicio\r\n                  </v-card-subtitle>\r\n                </v-col>\r\n                <v-col>\r\n                  <v-text-field :value=\"activeContract(client).startingDate\" />\r\n                </v-col>\r\n              </v-row>\r\n              <v-row class=\"mt-0\">\r\n                <v-col>\r\n                  <v-card-subtitle class=\"font-weight-bold\">\r\n                    S. L. A.\r\n                  </v-card-subtitle>\r\n                </v-col>\r\n                <v-col>\r\n                  <v-tooltip bottom>\r\n                    <template v-slot:activator=\"{ on }\">\r\n                      <v-chip class=\"mr-1\" v-on=\"on\" color=\"primary\">\r\n                        {{ activeContract(client).sla.local }}\r\n                      </v-chip>\r\n                    </template>\r\n                    local\r\n                  </v-tooltip>\r\n                  <v-tooltip bottom>\r\n                    <template v-slot:activator=\"{ on }\">\r\n                      <v-chip v-on=\"on\" color=\"accent\">\r\n                        {{ activeContract(client).sla.foreign }}\r\n                      </v-chip>\r\n                    </template>\r\n                    foráneo\r\n                  </v-tooltip>\r\n                </v-col>\r\n              </v-row>\r\n              <v-row>\r\n                <v-col>\r\n                  <v-card-subtitle class=\"font-weight-bold\">\r\n                    Productos contratados\r\n                  </v-card-subtitle>\r\n                  <v-chip-group>\r\n                    <v-chip\r\n                      v-for=\"product, i in productTypes(activeContract(client))\"\r\n                      :key=\"i\" small\r\n                    >\r\n                      {{ product }}\r\n                    </v-chip>\r\n                  </v-chip-group>\r\n                </v-col>\r\n              </v-row>\r\n            </section>\r\n            <v-alert v-else type=\"error\" dense text>\r\n              Sin contrato activo\r\n            </v-alert>\r\n            <v-row>\r\n              <v-col cols=\"6\">\r\n                <v-btn\r\n                  @click=\"editClient(client)\"\r\n                  :disabled=\"$store.state.session.user.userRole > 1\"\r\n                  small block\r\n                >\r\n                  Editar\r\n                </v-btn>\r\n              </v-col>\r\n              <v-col cols=\"6\">\r\n                <v-btn\r\n                  :disabled=\"$store.state.session.user.userRole > 1\"\r\n                  small block\r\n                  @click=\"showContracts(client)\"\r\n                >\r\n                  Contratos\r\n                </v-btn>\r\n              </v-col>\r\n            </v-row>\r\n          </v-sheet>\r\n        </v-expansion-panel-content>\r\n      </v-expansion-panel>\r\n    </v-expansion-panels>\r\n    <v-dialog :width=\"mobile ? '90%' : '60%'\" persistent v-model=\"editInterface\">\r\n      <v-card>\r\n        <EditClientForm\r\n          v-if=\"editInterface\"\r\n          :collections=\"collections\"\r\n          :mobile=\"mobile\"\r\n          :editing=\"selectedDocument\"\r\n          @hideInterface=\"editInterface = false\"\r\n        />\r\n      </v-card>\r\n    </v-dialog>\r\n    <v-bottom-sheet v-model=\"bottomSheet\" scrollable>\r\n      <v-card>\r\n\r\n        <Header\r\n          closable=\"1\"\r\n          title=\"Contratos registrados\"\r\n          :subtitle=\"selectedClient.clientName\"\r\n          @hideInterface=\"bottomSheet = false\"\r\n        />\r\n\r\n        <v-card-text>\r\n          <v-btn\r\n            class=\"ma-1\"\r\n            @click=\"addContract(selectedClient)\"\r\n            :disabled=\"$store.state.session.user.userRole > 1\"\r\n            color=\"secondary\"\r\n            small\r\n          >\r\n            Agregar\r\n          </v-btn>\r\n          <v-data-table\r\n            class=\"elevation-2\"\r\n            dense\r\n            :items-per-page=\"5\"\r\n            :headers=\"headers\"\r\n            :items=\"selectedClient.contracts\"\r\n          >\r\n            <template v-slot:item.startingDate=\"{ item }\">\r\n              {{ item.startingDate | friendlyDate }}\r\n            </template>\r\n            <template v-slot:item.active=\"{ item }\">\r\n              {{ item.active ? 'Activo' : 'Inactivo' }}\r\n            </template>\r\n            <template v-slot:item.actions=\"{ item }\">\r\n              <v-btn\r\n                @click=\"editContract(item)\"\r\n                class=\"mx-1\"\r\n                :disabled=\"$store.state.session.user.userRole > 1\"\r\n                icon small color=\"secondary lighten-1\"\r\n              >\r\n                <v-icon>mdi-pencil</v-icon>\r\n              </v-btn>\r\n              <v-btn\r\n                class=\"mx-1\"\r\n                icon\r\n                small\r\n                color=\"error lighten-1\"\r\n                :disabled=\"selectedClient.contracts.length < 2 || $store.state.session.user.userRole > 1\"\r\n                @click=\"confirmDelete(item)\"\r\n              >\r\n                <v-icon>mdi-delete</v-icon>\r\n              </v-btn>\r\n            </template>\r\n          </v-data-table>\r\n          <v-dialog v-model=\"contractInterface\" :width=\"mobile ? '90%' : '60%'\">\r\n            <v-card>\r\n              <ContractForm\r\n                v-if=\"contractInterface\"\r\n                :collections=\"collections\"\r\n                :mobile=\"mobile\"\r\n                :editingContract=\"editingContract\"\r\n                :editingClient=\"selectedDocument\"\r\n                :contractIndex=\"contractIndex\"\r\n                @hideInterface=\"contractInterface = false\"\r\n              />\r\n            </v-card>\r\n          </v-dialog>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-bottom-sheet>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { mapActions, mapGetters, mapMutations } from 'vuex'\r\nimport EditClientForm from '@/components/clients/EditClientForm'\r\nimport ContractForm from '@/components/clients/ContractForm'\r\nimport moment from 'moment-timezone'\r\nimport Header from '@/components/generals/Header'\r\nexport default {\r\n\r\n  name: 'ClientPanels',\r\n  components: { EditClientForm, ContractForm, Header },\r\n  props: ['collections', 'mobile'],\r\n\r\n  data: () => {\r\n    return {\r\n      bottomSheet: false,\r\n      editInterface: false,\r\n      contractInterface: false,\r\n      contractIndex: 0,\r\n      selectedClient: {},\r\n      editingContract: {},\r\n      selectedDocument: {},\r\n      panel: [],\r\n      headers: [\r\n        { text: 'Status', value: 'active' },\r\n        { text: 'Inicio', value: 'startingDate'},\r\n        { text: 'Acciones', value: 'actions'}\r\n      ]\r\n    }\r\n  },\r\n\r\n  filters: {\r\n\r\n    friendlyDate (dateSubmitted) {\r\n      return moment(dateSubmitted).parseZone('America/Caracas').format('DD [de] MMMM [de] YYYY')\r\n    }\r\n\r\n  },\r\n\r\n  computed: {\r\n\r\n    ...mapGetters(['formOptions']),\r\n\r\n    clientsCopy () {\r\n      return [...new Set(this.collections.Client)]\r\n    }\r\n\r\n  },\r\n\r\n  methods: {\r\n\r\n    ...mapActions(['updateDocument', 'findDocuments']),\r\n    ...mapMutations(['showSnackbar']),\r\n\r\n    activeContract (client) {\r\n      return client.contracts.find(contract => contract.active)\r\n    },\r\n\r\n    productTypes (contract) {\r\n      let labels = contract.products.map(c => c.productType)\r\n      labels = [...new Set(labels)]\r\n      return labels\r\n    },\r\n\r\n    editClient (client) {\r\n      this.selectedDocument = Object.assign({}, client)\r\n      this.editInterface = true\r\n    },\r\n\r\n    async showContracts (client) {\r\n      const activeQry = { filter: { clientName: client.clientName }, collection: 'Active' }\r\n      const maintenanceQry = {\r\n        filter: { clientName: client.clientName, $or: [{ status: 'Por culminar' }, { status: 'Asignado' }] },\r\n        collection: 'Maintenance'\r\n      }\r\n      const hasActiveServices = [...await this.findDocuments(activeQry), ...await this.findDocuments(maintenanceQry)].length\r\n      console.log(hasActiveServices)\r\n      if (hasActiveServices) return this.showSnackbar({ error: 'La información de contratos no puede ser editada mientras existan servicios activos para el cliente' })\r\n      this.selectedClient = client\r\n      this.bottomSheet = true\r\n    },\r\n\r\n    editContract (contract) {\r\n      this.editingContract = Object.assign({}, contract) \r\n      this.selectedDocument = Object.assign({}, this.selectedClient)\r\n      this.contractIndex = this.selectedClient.contracts.findIndex(i => i === contract)\r\n      this.contractInterface = true\r\n    },\r\n\r\n    addContract (client) {\r\n      this.selectedDocument = Object.assign({}, client)\r\n      this.editingContract = null \r\n      this.contractInterface = true\r\n    },\r\n\r\n    confirmDelete (contract) {\r\n      this.contractIndex = this.selectedClient.contracts.findIndex(i => i === contract)\r\n      confirm('Por favor confirme, esta acción es irreversible') && this.deleteContract()\r\n    },\r\n\r\n    deleteContract () {\r\n      const body = JSON.parse(JSON.stringify(this.selectedClient))\r\n      body.contracts.splice(this.contractIndex, 1)\r\n      this.updateDocument({ body, collection: 'Client' })\r\n        .then(() => this.bottomSheet = false)\r\n        .catch(() => this.bottomSheet = false)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClientPanels.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClientPanels.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ClientPanels.vue?vue&type=template&id=5647ccb8&\"\nimport script from \"./ClientPanels.vue?vue&type=script&lang=js&\"\nexport * from \"./ClientPanels.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBottomSheet } from 'vuetify/lib/components/VBottomSheet';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VAlert,VBottomSheet,VBtn,VCard,VCardSubtitle,VCardText,VCardTitle,VChip,VChipGroup,VCol,VDataTable,VDialog,VDivider,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VListItemAvatar,VRow,VSheet,VTextField,VTooltip})\n","<template>\r\n  <v-container>\r\n    <Header title=\"Clientes\" subtitle=\"Administre la información de los clientes\" />\r\n    <v-row>\r\n      <v-col :cols=\"mobile ? 12 : 8\">\r\n        <v-skeleton-loader v-if=\"updatingState\" type=\"image\" width=\"100%\" />\r\n\t\t\t\t<v-skeleton-loader v-if=\"updatingState\" type=\"image\" width=\"100%\" />\r\n        <ClientPanels\r\n          v-else\r\n          :mobile=\"mobile\"\r\n          :collections=\"collections\"\r\n        />\r\n      </v-col>\r\n      <v-col :cols=\"mobile ? 12 : 4\">\r\n        <v-sheet class=\"pa-3\" v-if=\"updatingState\">\r\n          <v-skeleton-loader\r\n            class=\"mx-auto\"\r\n            max-width=\"300\"\r\n            type=\"card\"\r\n          ></v-skeleton-loader>\r\n        </v-sheet>\r\n        <Graph\r\n          v-else\r\n          id=\"clientsGraph2\"\r\n          :updatingState=\"updatingState\"\r\n          :chartData=\"contractStatusXClient\"\r\n          title=\"Estatus de contratos\"\r\n          :subtitle=\"thisYear\"\r\n        />\r\n      </v-col>\r\n    </v-row>\r\n    <v-row>\r\n      <v-col :cols=\"mobile ? 12 : 6\">\r\n        <v-sheet class=\"pa-3\" v-if=\"updatingState\">\r\n          <v-skeleton-loader\r\n            class=\"mx-auto\"\r\n            max-width=\"300\"\r\n            type=\"card\"\r\n          ></v-skeleton-loader>\r\n        </v-sheet>\r\n        <Graph\r\n          v-else\r\n          id=\"clientsGraph3\"\r\n          :updatingState=\"updatingState\"\r\n          :chartData=\"slaXClient\"\r\n          title=\"S. L. A. Por cliente\"\r\n          :subtitle=\"`Reportes cerrados - ${thisYear}`\"\r\n        />\r\n      </v-col>\r\n      <v-col :cols=\"mobile ? 12 : 6\">\r\n        <v-sheet class=\"pa-3\" v-if=\"updatingState\">\r\n          <v-skeleton-loader\r\n            class=\"mx-auto\"\r\n            max-width=\"300\"\r\n            type=\"card\"\r\n          ></v-skeleton-loader>\r\n        </v-sheet>\r\n        <Graph\r\n          v-else\r\n          id=\"clientsGraph1\"\r\n          :updatingState=\"updatingState\"\r\n          :chartData=\"servicesXClient\"\r\n          title=\"Servicios por cliente\"\r\n          :subtitle=\"thisYear\"\r\n        />\r\n      </v-col>\r\n    </v-row>\r\n    <MainButton\r\n      @showForm=\"dialog = true\"\r\n      :disabled=\"$store.state.session.user.userRole > 1\"\r\n      :updatingState=\"updatingState\"\r\n    />\r\n    <v-dialog v-model=\"dialog\" :width=\"mobile ? '90%' : '60%'\" persistent>\r\n      <v-card>\r\n        <ClientForm\r\n          v-if=\"dialog\"\r\n          :collections=\"collections\"\r\n          :mobile=\"mobile\"\r\n          @hideInterface=\"dialog = false\"\r\n        />\r\n      </v-card>\r\n    </v-dialog>\r\n\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment-timezone'\r\nimport { mapState, mapGetters } from 'vuex'\r\nimport Graph from '@/components/generals/Graph'\r\nimport Header from '@/components/generals/Header'\r\nimport MainButton from '@/components/generals/MainButton'\r\nimport ClientForm from '@/components/clients/ClientForm'\r\nimport ClientPanels from '@/components/clients/ClientPanels'\r\n\r\nexport default {\r\n  name: 'Clients',\r\n  components: {\r\n    Graph,\r\n    Header,\r\n    ClientPanels,\r\n    ClientForm,\r\n    MainButton\r\n  },\r\n\r\n  data: () => {\r\n    return {\r\n      dialog: false\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    ...mapState(['collections', 'updatingState']),\r\n    ...mapGetters(['formOptions']),\r\n    mobile () {\r\n      return this.$vuetify.breakpoint.name === 'xs' || this.$vuetify.breakpoint.name === 'sm'\r\n    },\r\n    corrective () {\r\n      return [...this.collections.Active, ...this.collections.Closed]\r\n    },\r\n    thisYear () {\r\n      return moment(new Date()).format('yyyy')\r\n    },\r\n    servicesXClient () {\r\n      const type = 'line'\r\n      const options = {}\r\n      const data = {\r\n        labels: this.formOptions.clients.map(client => client.clientName),\r\n        datasets: [\r\n          { label: 'Correctivo', data: [], borderColor: this.$vuetify.theme.currentTheme.primary },\r\n          { label: 'Preventivo', data: [], borderColor: this.$vuetify.theme.currentTheme.accent }\r\n        ]\r\n      }\r\n      for (const client of this.formOptions.clients) {\r\n        const clientServices = service => service.clientName === client.clientName\r\n        data.datasets[0].data.push(this.corrective.filter(clientServices).length)\r\n      }\r\n      for (const client of this.formOptions.clients) {\r\n        const clientServices = office => office.clientName === client.clientName\r\n        const closedMaintenances = this.collections.Maintenance.filter(service => service.status !== 'Asignado')\r\n        data.datasets[1].data.push(closedMaintenances.filter(clientServices).length)\r\n      }\r\n      return { type, data, options }\r\n    },\r\n\r\n    contractStatusXClient () {\r\n      const type = 'doughnut'\r\n      const options = {}\r\n      const data = {\r\n        labels: ['Activo', 'Inactivo'],\r\n        datasets: [{ label: 'Contrato', data: [], backgroundColor: [] }]\r\n      }\r\n      for (const status of data.labels) {\r\n        const activeContract = client => client.contracts.find(contract => contract.active)\r\n        const inactiveContract = client => client.contracts.find(contract => !contract.active)\r\n        data.datasets[0].data.push(this.collections.Client.filter(status === 'Activo' ? activeContract : inactiveContract).length)\r\n        data.datasets[0].backgroundColor.push(this.colorsXStatus[status])\r\n      }\r\n      return { type, data, options }\r\n    },\r\n\r\n    slaXClient () {\r\n      const type = 'bar'\r\n      const options = {}\r\n      const data = {\r\n        labels: this.formOptions.clients.map(client => client.clientName),\r\n        datasets: [\r\n          { label: 'Dentro del acuerdo', data: [], backgroundColor: this.$vuetify.theme.currentTheme.success, borderRadius: 5 },\r\n          { label: 'Fuera del acuerdo', data: [], backgroundColor: this.$vuetify.theme.currentTheme.error, borderRadius: 5 }\r\n        ]\r\n      }\r\n      for (const client of this.formOptions.clients) {\r\n        const inTime = service => !service.itsSpecial && !service.expired && service.clientName === client.clientName\r\n        data.datasets[0].data.push(this.collections.Closed.filter(inTime).length)\r\n      }\r\n      for (const client of this.formOptions.clients) {\r\n        const expired = service => !service.itsSpecial && service.expired && service.clientName === client.clientName\r\n        data.datasets[1].data.push(this.collections.Closed.filter(expired).length)\r\n      }\r\n      return { type, data, options }\r\n    },\r\n\r\n    colorsXStatus () {\r\n      return {\r\n        \"Activo\": this.$vuetify.theme.currentTheme.success,\r\n        \"Inactivo\": this.$vuetify.theme.currentTheme.error\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Clients.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Clients.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Clients.vue?vue&type=template&id=024a968b&\"\nimport script from \"./Clients.vue?vue&type=script&lang=js&\"\nexport * from \"./Clients.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\ninstallComponents(component, {VCard,VCol,VContainer,VDialog,VRow,VSheet,VSkeletonLoader})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"title\":\"Productos\",\"subtitle\":\"Administre la información de los productos\"}}),_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[(_vm.updatingState)?_c('v-skeleton-loader',{attrs:{\"type\":\"image\",\"width\":\"100%\"}}):_vm._e(),(_vm.updatingState)?_c('v-skeleton-loader',{attrs:{\"type\":\"image\",\"width\":\"100%\"}}):_c('ProductsPanels',{attrs:{\"mobile\":_vm.mobile,\"collections\":_vm.collections}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[(_vm.updatingState)?_c('v-sheet',{staticClass:\"pa-3\"},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"300\",\"type\":\"card\"}})],1):_c('Graph',{attrs:{\"id\":\"productsGraph1\",\"updatingState\":_vm.updatingState,\"chartData\":_vm.servicesXProduct,\"title\":\"Servicios por producto\",\"subtitle\":_vm.thisYear}})],1)],1),_c('MainButton',{attrs:{\"disabled\":_vm.$store.state.session.user.userRole > 1,\"updatingState\":_vm.updatingState},on:{\"showForm\":function($event){_vm.dialog = true}}}),_c('v-dialog',{attrs:{\"width\":_vm.mobile ? '90%' : '45%',\"persistent\":\"\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[(_vm.dialog)?_c('ProductForm',{attrs:{\"collections\":_vm.collections,\"mobile\":_vm.mobile},on:{\"hideInterface\":function($event){_vm.dialog = false}}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"closable\":\"1\",\"title\":\"Formulario de registro\",\"subtitle\":\"Complete la información del producto\"},on:{\"hideInterface\":function($event){return _vm.$emit('hideInterface')}}}),_c('v-form',{ref:\"form\",model:{value:(_vm.form),callback:function ($$v) {_vm.form=$$v},expression:\"form\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-select',{attrs:{\"items\":_vm.formOptions.productTypes,\"rules\":_vm.rules.required,\"persistent-hint\":\"\",\"hint\":\"Tipo\",\"solo\":\"\"},model:{value:(_vm.productType),callback:function ($$v) {_vm.productType=$$v},expression:\"productType\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[(_vm.productType === 'Agregar')?_c('v-text-field',{attrs:{\"rules\":_vm.rules.required,\"label\":\"Nuevo tipo de producto\"},model:{value:(_vm.newProductType),callback:function ($$v) {_vm.newProductType=$$v},expression:\"newProductType\"}}):_vm._e()],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-select',{attrs:{\"items\":_vm.formOptions.brands,\"rules\":_vm.rules.required,\"solo\":\"\",\"hint\":\"Marca\",\"persistent-hint\":\"\"},model:{value:(_vm.brand),callback:function ($$v) {_vm.brand=$$v},expression:\"brand\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[(_vm.brand === 'Agregar')?_c('v-text-field',{attrs:{\"rules\":_vm.rules.required,\"label\":\"Nueva marca\"},model:{value:(_vm.newBrand),callback:function ($$v) {_vm.newBrand=$$v},expression:\"newBrand\"}}):_vm._e()],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-text-field',{attrs:{\"rules\":_vm.rules.required,\"label\":\"Modelo\"},model:{value:(_vm.model),callback:function ($$v) {_vm.model=$$v},expression:\"model\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":12}},[_c('v-autocomplete',{attrs:{\"items\":_vm.formOptions.categories,\"rules\":_vm.rules.required,\"deletable-chips\":\"\",\"chips\":\"\",\"outlined\":\"\",\"small-chips\":\"\",\"multiple\":\"\",\"label\":\"Categorias\"},model:{value:(_vm.categories),callback:function ($$v) {_vm.categories=$$v},expression:\"categories\"}})],1)],1),(_vm.requiresMassiveUpdate)?_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',[_c('UpdateWarning',{attrs:{\"triggeringProp\":\"Nombre de producto\",\"modifies\":_vm.DependenciesNames}})],1)],1):_vm._e(),_c('v-btn',{attrs:{\"disabled\":!_vm.form,\"loading\":_vm.loader,\"color\":\"success\",\"block\":\"\"},on:{\"click\":function($event){return _vm.save(_vm.product)}}},[_vm._v(\" Guardar \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <Header\r\n      closable=\"1\"\r\n      title=\"Formulario de registro\"\r\n      subtitle=\"Complete la información del producto\"\r\n      @hideInterface=\"$emit('hideInterface')\"\r\n    />\r\n    <v-form ref=\"form\" v-model=\"form\">\r\n      <v-row>\r\n        <v-col :cols=\"mobile ? 12 : 6\">\r\n          <v-select\r\n            v-model=\"productType\"\r\n            :items=\"formOptions.productTypes\"\r\n            :rules=\"rules.required\"\r\n            persistent-hint\r\n            hint=\"Tipo\"\r\n            solo\r\n          />\r\n        </v-col>\r\n        <v-col :cols=\"mobile ? 12 : 6\">\r\n          <v-text-field\r\n            v-if=\"productType === 'Agregar'\"\r\n            v-model=\"newProductType\"\r\n            :rules=\"rules.required\"\r\n            label=\"Nuevo tipo de producto\"\r\n          />\r\n        </v-col>\r\n        <v-col :cols=\"mobile ? 12 : 6\">\r\n          <v-select\r\n            v-model=\"brand\"\r\n            :items=\"formOptions.brands\"\r\n            :rules=\"rules.required\"\r\n            solo\r\n            hint=\"Marca\"\r\n            persistent-hint\r\n          />\r\n        </v-col>\r\n        <v-col :cols=\"mobile ? 12 : 6\">\r\n          <v-text-field\r\n            v-if=\"brand === 'Agregar'\"\r\n            v-model=\"newBrand\"\r\n            :rules=\"rules.required\"\r\n            label=\"Nueva marca\"\r\n          />\r\n        </v-col>\r\n        <v-col :cols=\"mobile ? 12 : 6\">\r\n          <v-text-field\r\n            v-model=\"model\"\r\n            :rules=\"rules.required\"\r\n            label=\"Modelo\"\r\n          />\r\n        </v-col>\r\n      </v-row>\r\n      <v-row>\r\n        <v-col :cols=\"12\">\r\n          <v-autocomplete\r\n            v-model=\"categories\"\r\n            :items=\"formOptions.categories\"\r\n            :rules=\"rules.required\"\r\n            deletable-chips\r\n            chips\r\n            outlined\r\n            small-chips\r\n            multiple\r\n            label=\"Categorias\"\r\n          />\r\n        </v-col>\r\n      </v-row>\r\n      <v-row v-if=\"requiresMassiveUpdate\" align=\"center\">\r\n        <v-col>\r\n          <UpdateWarning triggeringProp=\"Nombre de producto\" :modifies=\"DependenciesNames\" />\r\n        </v-col>\r\n      </v-row>\r\n      <v-btn\r\n        @click=\"save(product)\"\r\n        :disabled=\"!form\"\r\n        :loading=\"loader\"\r\n        color=\"success\"\r\n        block\r\n      >\r\n        Guardar\r\n      </v-btn>\r\n    </v-form>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Vue from 'vue'\r\nimport { mapMutations, mapActions } from 'vuex'\r\nimport moment from 'moment-timezone'\r\nimport { rules } from '@/helpers/form'\r\nimport Header from '@/components/generals/Header'\r\nimport UpdateWarning from '@/components/generals/UpdateWarning.vue'\r\n\r\nmoment.locale('es')\r\n\r\nexport default Vue.extend({\r\n\r\n  name: 'ProductForm',\r\n  components: { Header, UpdateWarning },\r\n  props: ['collections', 'mobile', 'editing'],\r\n\r\n  data: () => ({\r\n    form: false,\r\n    brand: '',\r\n    model: '',\r\n    productType: '',\r\n    newProductType: '',\r\n    newBrand: '',\r\n    categories: [],\r\n    originalItem: {},\r\n    loader: false,\r\n    rules,\r\n    DependenciesNames: [\r\n      'Reportes activos', 'Reportes cerrados',\r\n      'Mantenimientos activos', 'Mantenimientos cerrados',\r\n      'Clientes', 'Oficinas',\r\n      'Piezas', 'Solicitudes', 'Despachos'\r\n    ]\r\n  }),\r\n\r\n  created () {\r\n    if (this.editing) {\r\n      this.model = this.editing.model\r\n      this.brand = this.editing.brand\r\n      this.categories = this.editing.categories\r\n      this.productType = this.editing.productType\r\n      this.originalItem = JSON.parse(JSON.stringify(this.editing))\r\n      delete this.originalItem._id\r\n    }\r\n  },\r\n\r\n  computed: {\r\n\r\n    formOptions () {\r\n      let productTypes = this.collections.Product.map(product => product.productType)\r\n      productTypes.unshift('Agregar')\r\n      let brands = this.collections.Product.map(product => product.brand)\r\n      brands.unshift('Agregar')\r\n      let categories = this.collections.Product.map(product => product.categories)\r\n      function mergeArr(...arr) {\r\n        return arr.reduce((acc, val) => {\r\n          return [...acc, ...new Set(val)]\r\n        }, [])\r\n      }\r\n      categories = mergeArr(categories)[0]\r\n      return { productTypes, categories, brands }\r\n    },\r\n\r\n    product () {\r\n      const brand = this.newBrand ? this.newBrand : this.brand\r\n      const productType = this.newProductType ? this.newProductType : this.productType\r\n      const model = this.model\r\n      const productName = `${productType} ${brand} ${model}`\r\n      const categories = this.categories\r\n      return { brand, productType, model, productName, categories }\r\n    },\r\n\r\n    requiresMassiveUpdate () {\r\n      if (!this.editing) return\r\n      else return this.editing.productName !== this.product.productName\r\n    }\r\n\r\n  },\r\n\r\n  methods: {\r\n\r\n    ...mapActions(['createDocument', 'updateDocument', 'findDocuments', 'updateDocuments']),\r\n    ...mapMutations(['showSnackbar']),\r\n\r\n    removeCategory (index) {\r\n      this.categories.splice(index, 1)\r\n    },\r\n\r\n    async preventDuplicity (form) {\r\n      const { productName } = form\r\n      const _id = this.editing ? this.editing._id : null\r\n\r\n      const filter = { productName, _id: { \"$ne\": _id } }\r\n      const res = await this.findDocuments({ collection: 'Product', filter })\r\n      if (!res.length) return false\r\n      else return this.showSnackbar({ error: 'Nombre del producto registrado anteriormente' }), true\r\n    },\r\n\r\n    async save (body) {\r\n      this.loader = true\r\n      const registeredBefore = await this.preventDuplicity(body)\r\n      if (registeredBefore) return this.loader = false\r\n      if (this.editing) this.update({ collection: 'Product', body })\r\n      else this.create({ collection: 'Product', body })\r\n    },\r\n\r\n    update (document) {\r\n      document.body._id = this.editing._id\r\n      this.updateDocument(document)\r\n        .then(() => { if (this.requiresMassiveUpdate) this.updateDependencies(document) })\r\n        .then(() => this.$emit('hideInterface'))\r\n        .catch(() => this.loader = false)\r\n    },\r\n\r\n    updateDependencies ({ body }) {\r\n      const actions = []\r\n      const query = { productName: this.originalItem.productName }\r\n      const update = { productName: body.productName, productType: body.productType }\r\n      const collections = this.dependencies(query, update)\r\n      for (const collection of collections) actions.push(this.updateDocuments(collection))\r\n      Promise.all(actions)\r\n    },\r\n\r\n    dependencies (query, update) {\r\n      return [\r\n        { collection: 'Active', query, update, options: {} },\r\n        { collection: 'Closed', query, update, options: {} },\r\n        {\r\n          collection: 'Maintenance',\r\n          query: { \"inventory.productName\": query.productName },\r\n          update: {\r\n            $set: {\r\n              \"inventory.$[product].productType\": update.productType,\r\n              \"inventory.$[product].productName\": update.productName\r\n            }\r\n          },\r\n          options: { arrayFilters: [ { \"product.productName\": query.productName } ] }\r\n        },\r\n        { collection: 'Inventory', query, update, options: {} },\r\n        {\r\n          collection: 'Client',\r\n          query: { \"contracts.products.productName\": query.productName },\r\n          update: {\r\n            $set: {\r\n              \"contracts.$[contract].products.$[product].productType\": update.productType,\r\n              \"contracts.$[contract].products.$[product].productName\": update.productName\r\n            }\r\n          },\r\n          options: {\r\n            arrayFilters: [\r\n              { \"contract.products.productName\": query.productName },\r\n              { \"product.productName\": query.productName }\r\n            ]\r\n          }\r\n        },\r\n        {\r\n          collection: 'Office',\r\n          query: { \"inventory.productName\": query.productName },\r\n          update: {\r\n            $set: {\r\n              \"inventory.$[product].productType\": update.productType,\r\n              \"inventory.$[product].productName\": update.productName\r\n            }\r\n          },\r\n          options: { arrayFilters: [ { \"product.productName\": query.productName } ] }\r\n        },\r\n        { collection: 'Request', query, update, options: {} },\r\n        { collection: 'Dispatch', query, update, options: {} },\r\n        {\r\n          collection: 'Piece',\r\n          query: { asociatedProducts: query.productName },\r\n          update: {\r\n            $set: {\r\n              \"asociatedProducts.$[product]\": update.productName,\r\n              pieceCategory: update.productType\r\n            }\r\n          },\r\n          options: { arrayFilters: [{ \"product\": query.productName }] }\r\n        },\r\n      ]\r\n    },\r\n\r\n    create (document) {\r\n      this.createDocument(document)\r\n        .then(() => this.$emit('hideInterface'))\r\n        .catch(() => this.loader = false)\r\n    }\r\n\r\n  }\r\n})\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductForm.vue?vue&type=template&id=d117b4d8&\"\nimport script from \"./ProductForm.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAutocomplete,VBtn,VCol,VContainer,VForm,VRow,VSelect,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-expansion-panels',{attrs:{\"multiple\":\"\"},model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},_vm._l((_vm.categories),function(category,index){return _c('v-expansion-panel',{key:index},[_c('v-expansion-panel-header',[_vm._v(_vm._s(category))]),_c('v-expansion-panel-content',_vm._l((_vm.orderedProducts(category)),function(product,index){return _c('v-sheet',{key:index},[_c('v-list-item',[_c('v-list-item-avatar',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.mobile),expression:\"!mobile\"}]},[_c('v-icon',{staticClass:\"grey lighten-1\",attrs:{\"dark\":\"\"}},[_vm._v(\"mdi-label\")])],1),_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"mb-1 font-weight-bold overline\"},[_c('v-chip',{attrs:{\"outlined\":\"\",\"label\":\"\"}},[_vm._v(_vm._s(product.brand))])],1),_c('v-list-item-title',{staticClass:\"subheader\"},[_vm._v(\" \"+_vm._s(product.model)+\" \")])],1),_c('v-list-item-action',[_c('v-menu',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\",\"small\":\"\",\"disabled\":_vm.$store.state.session.user.userRole > 1}},on),[_c('v-icon',{attrs:{\"color\":\"accent\"}},[_vm._v(\"mdi-dots-vertical\")])],1)]}}],null,true)},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item-group',[_c('v-list-item',{on:{\"click\":function($event){return _vm.editProduct(product)}}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-pencil\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" Editar \")])],1)],1),_c('v-list-item',{on:{\"click\":function($event){return _vm.confirmDelete(product)}}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-delete\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" Eliminar \")])],1)],1)],1)],1)],1)],1)],1)],1)}),1)],1)}),1),_c('v-dialog',{attrs:{\"width\":_vm.mobile ? '90%' : '60%',\"persistent\":\"\"},model:{value:(_vm.editInterface),callback:function ($$v) {_vm.editInterface=$$v},expression:\"editInterface\"}},[_c('v-card',[(_vm.editInterface)?_c('ProductForm',{attrs:{\"collections\":_vm.collections,\"mobile\":_vm.mobile,\"editing\":_vm.selectedDocument},on:{\"hideInterface\":function($event){_vm.editInterface = false}}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <v-expansion-panels v-model=\"panel\" multiple>\r\n      <v-expansion-panel v-for=\"(category, index) in categories\" :key=\"index\">\r\n        <v-expansion-panel-header>{{ category }}</v-expansion-panel-header>\r\n        <v-expansion-panel-content>\r\n          <v-sheet v-for=\"product, index in orderedProducts(category)\" :key=\"index\">\r\n            <v-list-item>\r\n              <v-list-item-avatar v-show=\"!mobile\">\r\n                <v-icon class=\"grey lighten-1\" dark>mdi-label</v-icon>\r\n              </v-list-item-avatar>\r\n              <v-list-item-content>\r\n                <v-list-item-title class=\"mb-1 font-weight-bold overline\">\r\n                  <v-chip outlined label>{{ product.brand }}</v-chip>\r\n                </v-list-item-title>\r\n                <v-list-item-title class=\"subheader\">\r\n                  {{ product.model }}\r\n                </v-list-item-title>\r\n              </v-list-item-content>\r\n              <v-list-item-action>\r\n                <v-menu>\r\n                  <template v-slot:activator=\"{ on }\">\r\n                    <v-btn icon small v-on=\"on\" :disabled=\"$store.state.session.user.userRole > 1\">\r\n                      <v-icon color=\"accent\">mdi-dots-vertical</v-icon>\r\n                    </v-btn>\r\n                  </template>\r\n                  <v-list dense>\r\n                    <v-list-item-group>\r\n                      <v-list-item @click=\"editProduct(product)\">\r\n                        <v-list-item-icon>\r\n                          <v-icon>mdi-pencil</v-icon>\r\n                        </v-list-item-icon>\r\n                        <v-list-item-content>\r\n                          <v-list-item-title>\r\n                            Editar\r\n                          </v-list-item-title>\r\n                        </v-list-item-content>\r\n                      </v-list-item>\r\n                      <v-list-item @click=\"confirmDelete(product)\">\r\n                        <v-list-item-icon>\r\n                          <v-icon>mdi-delete</v-icon>\r\n                        </v-list-item-icon>\r\n                        <v-list-item-content>\r\n                          <v-list-item-title>\r\n                            Eliminar\r\n                          </v-list-item-title>\r\n                        </v-list-item-content>\r\n                      </v-list-item>\r\n                    </v-list-item-group>\r\n                  </v-list>\r\n                </v-menu>\r\n              </v-list-item-action>\r\n            </v-list-item>\r\n          </v-sheet>\r\n        </v-expansion-panel-content>\r\n      </v-expansion-panel>\r\n    </v-expansion-panels>\r\n    <v-dialog v-model=\"editInterface\" :width=\"mobile ? '90%' : '60%'\" persistent>\r\n      <v-card>\r\n        <ProductForm\r\n          v-if=\"editInterface\"\r\n          :collections=\"collections\"\r\n          :mobile=\"mobile\"\r\n          :editing=\"selectedDocument\"\r\n          @hideInterface=\"editInterface = false\"\r\n        />\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport moment from 'moment-timezone'\r\nimport ProductForm from '@/components/products/ProductForm.vue'\r\nimport { mapActions } from 'vuex'\r\n\r\nexport default {\r\n\r\n  components: { ProductForm },\r\n  name: 'ProductsPanels',\r\n  props: ['collections', 'mobile'],\r\n\r\n  data: () => ({\r\n\r\n    panel: [],\r\n    bottomSheet: false,\r\n    editInterface: false,\r\n    selectedDocument: {}\r\n\r\n  }),\r\n\r\n  filters: {\r\n\r\n    friendlyDate (dateSubmitted) {\r\n      return moment(dateSubmitted).parseZone('America/Caracas').format('DD [de] MMMM [de] YYYY')\r\n    }\r\n\r\n  },\r\n\r\n  computed: {\r\n\r\n    categories () {\r\n      let brands = this.collections.Product.map(c => c.productType)\r\n      brands = [...new Set(brands)]\r\n      return brands\r\n    }\r\n\r\n  },\r\n\r\n  methods: {\r\n\r\n    ...mapActions(['deleteDocument']),\r\n\r\n    orderedProducts (category) {\r\n      let filteredServices = this.collections.Product.filter(product => product.productType === category)\r\n      filteredServices = filteredServices.sort(function (a, b) {\r\n        if (a.brand > b.brand) {\r\n          return 1\r\n        }\r\n        if (a.brand < b.brand) {\r\n          return -1\r\n        }\r\n        return 0\r\n      })\r\n      return filteredServices\r\n    },\r\n\r\n    editProduct (product) {\r\n      this.selectedDocument = Object.assign({}, product)\r\n      this.editInterface = true\r\n    },\r\n\r\n    confirmDelete (product) {\r\n      confirm('Por favor confirme, esta acción es irreversible') && this.deleteProduct(product)\r\n    },\r\n\r\n    deleteProduct (body) {\r\n      const document = { collection: 'Product', body }\r\n      this.deleteDocument(document)\r\n        .then(() => this.panel = [])\r\n        .catch(() => this.panel = [])\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductsPanels.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductsPanels.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductsPanels.vue?vue&type=template&id=5d20b176&\"\nimport script from \"./ProductsPanels.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductsPanels.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\ninstallComponents(component, {VBtn,VCard,VChip,VDialog,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VList,VListItem,VListItemAction,VListItemAvatar,VListItemContent,VListItemGroup,VListItemIcon,VListItemTitle,VMenu,VSheet})\n","<template>\r\n  <v-container>\r\n    <Header title=\"Productos\" subtitle=\"Administre la información de los productos\" />\r\n    <v-row>\r\n      <v-col :cols=\"mobile ? 12 : 6\">\r\n        <v-skeleton-loader v-if=\"updatingState\" type=\"image\" width=\"100%\" />\r\n\t\t\t\t<v-skeleton-loader v-if=\"updatingState\" type=\"image\" width=\"100%\" />\r\n        <ProductsPanels\r\n          v-else\r\n          :mobile=\"mobile\"\r\n          :collections=\"collections\"\r\n        />\r\n      </v-col>\r\n      <v-col :cols=\"mobile ? 12 : 6\">\r\n        <v-sheet class=\"pa-3\" v-if=\"updatingState\">\r\n          <v-skeleton-loader\r\n            class=\"mx-auto\"\r\n            max-width=\"300\"\r\n            type=\"card\"\r\n          ></v-skeleton-loader>\r\n        </v-sheet>\r\n        <Graph\r\n          v-else\r\n          id=\"productsGraph1\"\r\n          :updatingState=\"updatingState\"\r\n          :chartData=\"servicesXProduct\"\r\n          title=\"Servicios por producto\"\r\n          :subtitle=\"thisYear\"\r\n        />\r\n      </v-col>\r\n    </v-row>\r\n    <MainButton\r\n      @showForm=\"dialog = true\"\r\n      :disabled=\"$store.state.session.user.userRole > 1\"\r\n      :updatingState=\"updatingState\"\r\n    />\r\n    <v-dialog v-model=\"dialog\" :width=\"mobile ? '90%' : '45%'\" persistent>\r\n      <v-card>\r\n        <ProductForm\r\n          v-if=\"dialog\"\r\n          :collections=\"collections\"\r\n          :mobile=\"mobile\"\r\n          @hideInterface=\"dialog = false\"\r\n        />\r\n      </v-card>\r\n    </v-dialog>\r\n\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport moment from 'moment-timezone'\r\nimport Graph from '@/components/generals/Graph'\r\nimport Header from '@/components/generals/Header'\r\nimport ProductForm from '@/components/products/ProductForm'\r\nimport ProductsPanels from '@/components/products/ProductsPanels'\r\nimport MainButton from '@/components/generals/MainButton'\r\nimport { mapState, mapGetters } from 'vuex'\r\n\r\nexport default {\r\n  name: 'Products',\r\n  components: {\r\n    Graph,\r\n    Header,\r\n    ProductsPanels,\r\n    ProductForm,\r\n    MainButton\r\n  },\r\n\r\n  data: () => {\r\n    return { dialog: false }\r\n  },\r\n\r\n  computed: {\r\n\r\n    ...mapState(['collections', 'updatingState']),\r\n    ...mapGetters(['formOptions']),\r\n\r\n    mobile () {\r\n      return this.$vuetify.breakpoint.name === 'xs' || this.$vuetify.breakpoint.name === 'sm'\r\n    },\r\n    corrective () {\r\n      return [...this.collections.Active, ...this.collections.Closed]\r\n    },\r\n    thisYear () {\r\n      return moment(new Date()).format('yyyy')\r\n    },\r\n    servicesXProduct () {\r\n      let labels = this.collections.Product.map(product => product.productType)\r\n      labels = [...new Set(labels)]\r\n      const type = 'line'\r\n      const options = {}\r\n      const data = {\r\n        labels,\r\n        datasets: [\r\n          { label: 'Correctivo', data: [], borderColor: this.$vuetify.theme.currentTheme.primary },\r\n          { label: 'Preventivo', data: [], borderColor: this.$vuetify.theme.currentTheme.accent }\r\n        ]\r\n      }\r\n      for (const label of labels) {\r\n        const productCorrectives = service => service.productType === label\r\n        data.datasets[0].data.push(this.corrective.filter(productCorrectives).length)\r\n        const productPreventives = service => service.inventory.find(product => product.productType === label)\r\n        const closedMaintenances = this.collections.Maintenance.filter(service => service.status !== 'Asignado')\r\n        const productServices = closedMaintenances.filter(productPreventives)\r\n        let productQuantity = 0\r\n        console.log(productServices)\r\n        for (const service of productServices) {\r\n          productQuantity = productQuantity + service.inventory.filter(product => product.productType === label).length\r\n        }\r\n        data.datasets[1].data.push(productQuantity)\r\n      }\r\n      return { type, data, options }\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Products.vue?vue&type=template&id=39126b9a&\"\nimport script from \"./Products.vue?vue&type=script&lang=js&\"\nexport * from \"./Products.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\ninstallComponents(component, {VCard,VCol,VContainer,VDialog,VRow,VSheet,VSkeletonLoader})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"title\":\"Oficinas\",\"subtitle\":\"Red de oficinas de clientes\"}}),_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[(_vm.updatingState)?_c('v-skeleton-loader',{attrs:{\"type\":\"image\",\"width\":\"100%\"}}):_vm._e(),(_vm.updatingState)?_c('v-skeleton-loader',{attrs:{\"type\":\"image\",\"width\":\"100%\"}}):_c('OfficePanels',{attrs:{\"collections\":_vm.collections,\"mobile\":_vm.mobile},on:{\"editOffice\":_vm.editOffice}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[(_vm.updatingState)?_c('v-sheet',{staticClass:\"pa-3\"},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"300\",\"type\":\"card\"}})],1):_c('Graph',{attrs:{\"id\":\"officesGraph1\",\"updatingState\":_vm.updatingState,\"chartData\":_vm.officesXClient,\"title\":\"Oficinas por cliente\",\"subtitle\":\"Según actividad\"}})],1)],1),_c('MainButton',{attrs:{\"disabled\":_vm.$store.state.session.user.userRole > 2,\"updatingState\":_vm.updatingState},on:{\"showForm\":_vm.createOffice}}),_c('v-dialog',{attrs:{\"width\":_vm.mobile ? '90%' : '60%',\"persistent\":\"\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[(_vm.dialog)?_c('OfficeForm',{attrs:{\"mobile\":_vm.mobile,\"editing\":_vm.selectedOffice,\"collections\":_vm.collections},on:{\"hideInterface\":function($event){_vm.dialog = false}}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-data-table',{attrs:{\"items\":_vm.formOptions.clients,\"headers\":_vm.table1Headers},scopedSlots:_vm._u([{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.showBottomSheet(item.clientName)}}},[_c('v-icon',[_vm._v(\"mdi-magnify\")])],1)]}}])}),_c('v-bottom-sheet',{attrs:{\"scrollable\":\"\"},model:{value:(_vm.bottomSheet),callback:function ($$v) {_vm.bottomSheet=$$v},expression:\"bottomSheet\"}},[(_vm.clientOffices)?_c('v-card',[_c('Header',{attrs:{\"closable\":\"1\",\"title\":\"Red de oficinas\"},on:{\"hideInterface\":function($event){_vm.bottomSheet = false}}}),_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 6 : 2}},[_c('v-text-field',{attrs:{\"prepend-inner-icon\":\"mdi-magnify\"},model:{value:(_vm.tableFilter),callback:function ($$v) {_vm.tableFilter=$$v},expression:\"tableFilter\"}})],1)],1),_c('v-data-table',{attrs:{\"dense\":\"\",\"items\":_vm.clientOffices,\"search\":_vm.tableFilter,\"headers\":_vm.table2Headers},scopedSlots:_vm._u([{key:\"item.lastMaintenance\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(_vm._f(\"friendlyDate\")(item.lastMaintenance))+\" \")]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-menu',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\",\"color\":\"primary\"}},on),[_c('v-icon',[_vm._v(\"mdi-dots-vertical\")])],1)]}}],null,true)},[_c('v-list',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"dense\":\"\"}},[_c('v-list-item-group',[_c('v-list-item',{on:{\"click\":function($event){return _vm.editOffice(item)}}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-pencil\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" Editar \")])],1)],1),_c('v-list-item',{attrs:{\"disabled\":_vm.$store.state.session.user.userRole > 1},on:{\"click\":function($event){return _vm.confirmDelete(item)}}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-delete\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" Eliminar \")])],1)],1)],1)],1)],1)]}}],null,false,875999493)})],1)],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <v-data-table :items=\"formOptions.clients\" :headers=\"table1Headers\">\r\n      <template v-slot:item.actions=\"{ item }\">\r\n        <v-btn @click=\"showBottomSheet(item.clientName)\" icon small color=\"primary\">\r\n          <v-icon>mdi-magnify</v-icon>\r\n        </v-btn>\r\n      </template>\r\n    </v-data-table>\r\n    <v-bottom-sheet v-model=\"bottomSheet\" scrollable>\r\n      <v-card v-if=\"clientOffices\">\r\n        <Header\r\n          closable=\"1\"\r\n          title=\"Red de oficinas\"\r\n          @hideInterface=\"bottomSheet = false\"\r\n        />\r\n        <v-card-text>\r\n          <v-row>\r\n            <v-col :cols=\"mobile ? 6 : 2\">\r\n              <v-text-field v-model=\"tableFilter\" prepend-inner-icon=\"mdi-magnify\" />\r\n            </v-col>\r\n          </v-row>\r\n          <v-data-table dense :items=\"clientOffices\" :search=\"tableFilter\" :headers=\"table2Headers\">\r\n            <template v-slot:item.lastMaintenance=\"{ item }\">\r\n              {{ item.lastMaintenance | friendlyDate }}\r\n            </template>\r\n            <template v-slot:item.actions=\"{ item }\">\r\n              <v-menu>\r\n                <template v-slot:activator=\"{ on }\">\r\n                  <v-btn v-on=\"on\" icon color=\"primary\">\r\n                    <v-icon>mdi-dots-vertical</v-icon>\r\n                  </v-btn>\r\n                </template>\r\n                <v-list color=\"primary\" dark dense>\r\n                  <v-list-item-group>\r\n                    <v-list-item @click=\"editOffice(item)\">\r\n                      <v-list-item-icon>\r\n                        <v-icon>mdi-pencil</v-icon>\r\n                      </v-list-item-icon>\r\n                      <v-list-item-content>\r\n                        <v-list-item-title>\r\n                          Editar\r\n                        </v-list-item-title>\r\n                      </v-list-item-content>\r\n                    </v-list-item>\r\n                    <v-list-item\r\n                      @click=\"confirmDelete(item)\"\r\n                      :disabled=\"$store.state.session.user.userRole > 1\"\r\n                    >\r\n                      <v-list-item-icon>\r\n                        <v-icon>mdi-delete</v-icon>\r\n                      </v-list-item-icon>\r\n                      <v-list-item-content>\r\n                        <v-list-item-title>\r\n                          Eliminar\r\n                        </v-list-item-title>\r\n                      </v-list-item-content>\r\n                    </v-list-item>\r\n                  </v-list-item-group>\r\n                </v-list>\r\n              </v-menu>\r\n            </template>\r\n          </v-data-table>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-bottom-sheet>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport moment from 'moment-timezone'\r\nimport { mapState, mapGetters, mapActions } from 'vuex'\r\nimport Header from '@/components/generals/Header'\r\n\r\nexport default {\r\n\r\n  name: 'OfficePanels',\r\n  components: { Header },\r\n  props: ['collections', 'mobile'],\r\n\r\n  data: () => {\r\n    return {\r\n      panel: [],\r\n      bottomSheet: false,\r\n      tableFilter: '',\r\n      serviceMenu: [\r\n        { action: 'edit', title: 'Editar', icon: 'mdi-pencil' },\r\n        { action: 'delete', title: 'Eliminar', icon: 'mdi-delete' },\r\n      ],\r\n      table1Headers: [\r\n        { text: 'Cliente', value: 'clientName' },\r\n        { text: 'Oficinas', value: 'actions' }\r\n      ],\r\n      table2Headers: [\r\n        { text: 'Oficina', value: 'officeName' },\r\n        { text: 'Estado', value: 'officeState'},\r\n        { text: 'Región', value: 'region'},\r\n        { text: 'Acciones', value: 'actions'}\r\n      ],\r\n      clientOffices: [],\r\n      dialog: false,\r\n      selectedInventory: []\r\n    }\r\n  },\r\n\r\n  filters: {\r\n    friendlyDate (dateSubmitted) {\r\n      return moment(dateSubmitted).parseZone('America/Caracas').format('DD [de] MMMM [de] YYYY')\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    ...mapState(['selectedDocument']),\r\n    ...mapGetters(['formOptions'])\r\n  },\r\n\r\n  methods: {\r\n\r\n    ...mapActions(['updateDocument', 'deleteDocument']),\r\n\r\n    activeContract (client) {\r\n      return client.contracts.find(contract => contract.active)\r\n    },\r\n\r\n    showBottomSheet (client) {\r\n      this.clientOffices = this.collections.Office.filter(office => office.clientName === client)\r\n      this.bottomSheet = true\r\n    },\r\n\r\n    editOffice (office) {\r\n      this.bottomSheet = false\r\n      this.$emit('editOffice', office)\r\n    },\r\n\r\n    confirmDelete (office) {\r\n      confirm('Esta acción es irreversible, por favor confirme') && this.deleteOffice(office)\r\n    },\r\n\r\n    deleteOffice (body) {\r\n      this.deleteDocument({ collection: 'Office', body })\r\n        .then(() => this.bottomSheet = false)\r\n        .catch(() => this.bottomSheet = false)\r\n      this.tableFilter = ''\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfficePanels.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfficePanels.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OfficePanels.vue?vue&type=template&id=55aefb2a&\"\nimport script from \"./OfficePanels.vue?vue&type=script&lang=js&\"\nexport * from \"./OfficePanels.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBottomSheet } from 'vuetify/lib/components/VBottomSheet';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBottomSheet,VBtn,VCard,VCardText,VCol,VDataTable,VIcon,VList,VListItem,VListItemContent,VListItemGroup,VListItemIcon,VListItemTitle,VMenu,VRow,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"closable\":\"1\",\"title\":\"Formulario de registro\",\"subtitle\":\"Complete la información de la oficina\"},on:{\"hideInterface\":function($event){return _vm.$emit('hideInterface')}}}),_c('v-stepper',{attrs:{\"vertical\":\"\"},model:{value:(_vm.step),callback:function ($$v) {_vm.step=$$v},expression:\"step\"}},[_c('v-stepper-step',{attrs:{\"editable\":\"\",\"complete\":_vm.step > 1,\"step\":\"1\"}},[_vm._v(\" Información básica \")]),_c('v-stepper-content',{attrs:{\"step\":\"1\"}},[_c('v-form',{ref:\"step1Completed\",model:{value:(_vm.step1Completed),callback:function ($$v) {_vm.step1Completed=$$v},expression:\"step1Completed\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-select',{attrs:{\"items\":_vm.formOptions.clientNames,\"rules\":_vm.rules.required,\"disabled\":_vm.editing !== null,\"label\":\"Cliente\",\"solo\":\"\"},model:{value:(_vm.officeForm.clientName),callback:function ($$v) {_vm.$set(_vm.officeForm, \"clientName\", $$v)},expression:\"officeForm.clientName\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 6 : 3}},[_c('v-text-field',{attrs:{\"rules\":_vm.rules.officeCode,\"label\":\"Código\",\"maxlength\":\"4\"},model:{value:(_vm.officeForm.code),callback:function ($$v) {_vm.$set(_vm.officeForm, \"code\", $$v)},expression:\"officeForm.code\"}})],1)],1),_c('v-row',{staticClass:\"my-0\"},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 9}},[_c('v-text-field',{staticClass:\"mb-1\",attrs:{\"label\":\"Nombre de oficina\",\"rules\":_vm.rules.required},model:{value:(_vm.officeForm.officeName),callback:function ($$v) {_vm.$set(_vm.officeForm, \"officeName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"officeForm.officeName\"}})],1)],1),_c('v-btn',{staticClass:\"my-1\",attrs:{\"disabled\":!_vm.step1Completed,\"color\":\"primary\",\"block\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.step++}}},[_vm._v(\" Continuar \")])],1)],1),_c('v-stepper-step',{attrs:{\"complete\":_vm.step > 3,\"step\":\"2\",\"editable\":\"\"}},[_vm._v(\" Ubicación \")]),_c('v-stepper-content',{attrs:{\"step\":\"2\"}},[_c('v-form',{ref:\"step2Completed\",model:{value:(_vm.step2Completed),callback:function ($$v) {_vm.step2Completed=$$v},expression:\"step2Completed\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-autocomplete',{attrs:{\"items\":_vm.states,\"rules\":_vm.rules.required,\"label\":\"Estado\"},model:{value:(_vm.officeForm.officeState),callback:function ($$v) {_vm.$set(_vm.officeForm, \"officeState\", $$v)},expression:\"officeForm.officeState\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-select',{attrs:{\"items\":_vm.regions,\"label\":\"Región\",\"rules\":_vm.rules.required,\"disabled\":!_vm.officeForm.clientName,\"solo\":\"\"},model:{value:(_vm.officeForm.region),callback:function ($$v) {_vm.$set(_vm.officeForm, \"region\", $$v)},expression:\"officeForm.region\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 6 : 3}},[_c('v-text-field',{attrs:{\"label\":\"Código postal\",\"rules\":_vm.rules.officeCode,\"maxlength\":4},model:{value:(_vm.officeForm.postalCode),callback:function ($$v) {_vm.$set(_vm.officeForm, \"postalCode\", $$v)},expression:\"officeForm.postalCode\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 6 : 3}},[_c('v-switch',{attrs:{\"label\":\"Local\"},model:{value:(_vm.officeForm.isLocal),callback:function ($$v) {_vm.$set(_vm.officeForm, \"isLocal\", $$v)},expression:\"officeForm.isLocal\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-textarea',{attrs:{\"label\":\"Dirección\",\"outlined\":\"\",\"counter\":\"\"},model:{value:(_vm.officeForm.address),callback:function ($$v) {_vm.$set(_vm.officeForm, \"address\", $$v)},expression:\"officeForm.address\"}})],1)],1),_c('v-btn',{staticClass:\"mb-1\",attrs:{\"disabled\":!_vm.step2Completed,\"color\":\"primary\",\"block\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.step++}}},[_vm._v(\" Continuar \")])],1)],1),_c('v-stepper-step',{attrs:{\"step\":\"3\",\"editable\":\"\",\"complete\":_vm.step > 3}},[_vm._v(\" Status \")]),_c('v-stepper-content',{attrs:{\"step\":\"3\"}},[_c('v-form',{ref:\"step3Completed\",model:{value:(_vm.step3Completed),callback:function ($$v) {_vm.step3Completed=$$v},expression:\"step3Completed\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":6}},[_c('v-switch',{staticClass:\"ml-3\",attrs:{\"label\":\"Activa\"},model:{value:(_vm.officeForm.isActive),callback:function ($$v) {_vm.$set(_vm.officeForm, \"isActive\", $$v)},expression:\"officeForm.isActive\"}})],1)],1),_c('v-row',{attrs:{\"justify\":\"start\"}},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 4 : 2}},[_c('v-menu',{ref:\"menu\",attrs:{\"close-on-content-click\":false,\"nudge-right\":40,\"return-value\":_vm.officeForm.openingHour,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"max-width\":\"290px\",\"min-width\":\"290px\"},on:{\"update:returnValue\":function($event){return _vm.$set(_vm.officeForm, \"openingHour\", $event)},\"update:return-value\":function($event){return _vm.$set(_vm.officeForm, \"openingHour\", $event)}},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"ma-1\",attrs:{\"small\":\"\",\"outlined\":!_vm.officeForm.openingHour,\"color\":_vm.officeForm.openingHour ? 'primary' : 'error'}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-clock-time-four-outline\")])],1)]}}]),model:{value:(_vm.timePicker),callback:function ($$v) {_vm.timePicker=$$v},expression:\"timePicker\"}},[(_vm.timePicker)?_c('v-time-picker',{attrs:{\"full-width\":\"\",\"format\":\"24hr\"},on:{\"click:minute\":function($event){return _vm.$refs.menu.save(_vm.officeForm.openingHour)}},model:{value:(_vm.officeForm.openingHour),callback:function ($$v) {_vm.$set(_vm.officeForm, \"openingHour\", $$v)},expression:\"officeForm.openingHour\"}}):_vm._e()],1)],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 8 : 3}},[_c('v-text-field',{attrs:{\"readonly\":\"\",\"label\":\"Apertura\"},model:{value:(_vm.officeForm.openingHour),callback:function ($$v) {_vm.$set(_vm.officeForm, \"openingHour\", $$v)},expression:\"officeForm.openingHour\"}})],1)],1),_c('v-row',{attrs:{\"justify\":\"start\"}},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 4 : 2}},[_c('v-menu',{ref:\"menu2\",attrs:{\"close-on-content-click\":false,\"nudge-right\":40,\"return-value\":_vm.officeForm.closingHour,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"max-width\":\"290px\",\"min-width\":\"290px\"},on:{\"update:returnValue\":function($event){return _vm.$set(_vm.officeForm, \"closingHour\", $event)},\"update:return-value\":function($event){return _vm.$set(_vm.officeForm, \"closingHour\", $event)}},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"ma-1\",attrs:{\"small\":\"\",\"outlined\":!_vm.officeForm.closingHour,\"color\":_vm.officeForm.closingHour ? 'primary' : 'error'}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-clock-time-four-outline\")])],1)]}}]),model:{value:(_vm.timePicker2),callback:function ($$v) {_vm.timePicker2=$$v},expression:\"timePicker2\"}},[(_vm.timePicker2)?_c('v-time-picker',{attrs:{\"full-width\":\"\",\"format\":\"24hr\"},on:{\"click:minute\":function($event){return _vm.$refs.menu2.save(_vm.officeForm.closingHour)}},model:{value:(_vm.officeForm.closingHour),callback:function ($$v) {_vm.$set(_vm.officeForm, \"closingHour\", $$v)},expression:\"officeForm.closingHour\"}}):_vm._e()],1)],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 8 : 3}},[_c('v-text-field',{attrs:{\"readonly\":\"\",\"label\":\"Cierre\"},model:{value:(_vm.officeForm.closingHour),callback:function ($$v) {_vm.$set(_vm.officeForm, \"closingHour\", $$v)},expression:\"officeForm.closingHour\"}})],1)],1),(_vm.requiresMassiveUpdate)?_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',[_c('UpdateWarning',{attrs:{\"triggeringProp\":\"Nombre de oficina\",\"modifies\":_vm.DependenciesNames}})],1)],1):_vm._e(),_c('v-btn',{attrs:{\"color\":\"success\",\"block\":\"\",\"disabled\":!_vm.step2Completed || !_vm.step3Completed,\"loading\":_vm.loader},on:{\"click\":function($event){return _vm.save(_vm.officeForm)}}},[_vm._v(\" Registrar \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <Header\r\n      closable=\"1\"\r\n      title=\"Formulario de registro\"\r\n      subtitle=\"Complete la información de la oficina\"\r\n      @hideInterface=\"$emit('hideInterface')\"\r\n    />\r\n    <v-stepper v-model=\"step\" vertical>\r\n      <v-stepper-step editable :complete=\"step > 1\" step=\"1\">\r\n        Información básica\r\n      </v-stepper-step>\r\n      <v-stepper-content step=\"1\">\r\n        <v-form ref=\"step1Completed\" v-model=\"step1Completed\">\r\n          <v-row>\r\n            <v-col :cols=\"mobile ? 12 : 6\">\r\n              <v-select\r\n                v-model=\"officeForm.clientName\"\r\n                :items=\"formOptions.clientNames\"\r\n                :rules=\"rules.required\"\r\n                :disabled=\"editing !== null\"\r\n                label=\"Cliente\"\r\n                solo\r\n              />\r\n            </v-col>\r\n            <v-col :cols=\"mobile ? 6 : 3\">\r\n              <v-text-field\r\n                v-model=\"officeForm.code\"\r\n                :rules=\"rules.officeCode\"\r\n                label=\"Código\"\r\n                maxlength=\"4\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-row class=\"my-0\">\r\n            <v-col :cols=\"mobile ? 12 : 9\">\r\n              <v-text-field\r\n                class=\"mb-1\"\r\n                v-model.trim=\"officeForm.officeName\"\r\n                label=\"Nombre de oficina\"\r\n                :rules=\"rules.required\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-btn\r\n            class=\"my-1\"\r\n            :disabled=\"!step1Completed\"\r\n            color=\"primary\"\r\n            block\r\n            text\r\n            @click=\"step++\"\r\n          >\r\n            Continuar\r\n          </v-btn>\r\n        </v-form>\r\n      </v-stepper-content>\r\n\r\n      <v-stepper-step\r\n        :complete=\"step > 3\"\r\n        step=\"2\"\r\n        editable\r\n      >\r\n        Ubicación\r\n      </v-stepper-step>\r\n\r\n      <v-stepper-content step=\"2\">\r\n        <v-form ref=\"step2Completed\" v-model=\"step2Completed\">\r\n          <v-row>\r\n            <v-col :cols=\"mobile ? 12 : 6\">\r\n              <v-autocomplete\r\n                v-model=\"officeForm.officeState\"\r\n                :items=\"states\"\r\n                :rules=\"rules.required\"\r\n                label=\"Estado\"\r\n              />\r\n            </v-col>\r\n            <v-col :cols=\"mobile ? 12 : 6\">\r\n              <v-select\r\n                v-model=\"officeForm.region\"\r\n                :items=\"regions\"\r\n                label=\"Región\"\r\n                :rules=\"rules.required\"\r\n                :disabled=\"!officeForm.clientName\"\r\n                solo\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-row>\r\n            <v-col :cols=\"mobile ? 6 : 3\">\r\n              <v-text-field\r\n                v-model=\"officeForm.postalCode\"\r\n                label=\"Código postal\"\r\n                :rules=\"rules.officeCode\"\r\n                :maxlength=\"4\"\r\n              />\r\n            </v-col>\r\n            <v-col :cols=\"mobile ? 6 : 3\">\r\n              <v-switch\r\n                v-model=\"officeForm.isLocal\"\r\n                label=\"Local\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-row>\r\n            <v-col>\r\n              <v-textarea\r\n                v-model=\"officeForm.address\"\r\n                label=\"Dirección\"\r\n                outlined\r\n                counter\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-btn\r\n            class=\"mb-1\"\r\n            :disabled=\"!step2Completed\"\r\n            color=\"primary\"\r\n            block\r\n            text\r\n            @click=\"step++\"\r\n          >\r\n            Continuar\r\n          </v-btn>\r\n        </v-form>\r\n      </v-stepper-content>\r\n\r\n      <v-stepper-step step=\"3\" editable :complete=\"step > 3\">\r\n        Status\r\n      </v-stepper-step>\r\n      <v-stepper-content step=\"3\">\r\n        <v-form ref=\"step3Completed\" v-model=\"step3Completed\">\r\n          <v-row>\r\n            <v-col :cols=\"6\">\r\n              <v-switch class=\"ml-3\" v-model=\"officeForm.isActive\" label=\"Activa\" />\r\n            </v-col>\r\n          </v-row>\r\n          <v-row justify=\"start\">\r\n            <v-col :cols=\"mobile ? 4 : 2\">\r\n              <v-menu\r\n                ref=\"menu\"\r\n                v-model=\"timePicker\"\r\n                :close-on-content-click=\"false\"\r\n                :nudge-right=\"40\"\r\n                :return-value.sync=\"officeForm.openingHour\"\r\n                transition=\"scale-transition\"\r\n                offset-y\r\n                max-width=\"290px\"\r\n                min-width=\"290px\"\r\n              >\r\n                <template v-slot:activator=\"{ on, attrs }\">\r\n                  <v-btn\r\n                    class=\"ma-1\"\r\n                    v-bind=\"attrs\"\r\n                    v-on=\"on\"\r\n                    small\r\n                    :outlined=\"!officeForm.openingHour\"\r\n                    :color=\"officeForm.openingHour ? 'primary' : 'error'\"\r\n                  >\r\n                    <v-icon>mdi-clock-time-four-outline</v-icon>\r\n                  </v-btn>\r\n                </template>\r\n                <v-time-picker\r\n                  v-if=\"timePicker\"\r\n                  v-model=\"officeForm.openingHour\"\r\n                  full-width\r\n                  format=\"24hr\"\r\n                  @click:minute=\"$refs.menu.save(officeForm.openingHour)\"\r\n                />\r\n              </v-menu>\r\n            </v-col>\r\n\r\n            <v-col :cols=\"mobile ? 8 : 3\">\r\n              <v-text-field v-model=\"officeForm.openingHour\" readonly label=\"Apertura\" />\r\n            </v-col>\r\n          </v-row>\r\n          <v-row justify=\"start\">\r\n            <v-col :cols=\"mobile ? 4 : 2\">\r\n              <v-menu\r\n                ref=\"menu2\"\r\n                v-model=\"timePicker2\"\r\n                :close-on-content-click=\"false\"\r\n                :nudge-right=\"40\"\r\n                :return-value.sync=\"officeForm.closingHour\"\r\n                transition=\"scale-transition\"\r\n                offset-y\r\n                max-width=\"290px\"\r\n                min-width=\"290px\"\r\n              >\r\n                <template v-slot:activator=\"{ on, attrs }\">\r\n                  <v-btn\r\n                    class=\"ma-1\"\r\n                    v-bind=\"attrs\"\r\n                    v-on=\"on\"\r\n                    small\r\n                    :outlined=\"!officeForm.closingHour\"\r\n                    :color=\"officeForm.closingHour ? 'primary' : 'error'\"\r\n                  >\r\n                    <v-icon>mdi-clock-time-four-outline</v-icon>\r\n                  </v-btn>\r\n                </template>\r\n                <v-time-picker\r\n                  v-if=\"timePicker2\"\r\n                  v-model=\"officeForm.closingHour\"\r\n                  full-width\r\n                  format=\"24hr\"\r\n                  @click:minute=\"$refs.menu2.save(officeForm.closingHour)\"\r\n                />\r\n              </v-menu>\r\n            </v-col>\r\n\r\n            <v-col :cols=\"mobile ? 8 : 3\">\r\n              <v-text-field v-model=\"officeForm.closingHour\" readonly label=\"Cierre\" />\r\n            </v-col>\r\n          </v-row>\r\n          <v-row v-if=\"requiresMassiveUpdate\" align=\"center\">\r\n            <v-col>\r\n              <UpdateWarning triggeringProp=\"Nombre de oficina\" :modifies=\"DependenciesNames\" />\r\n            </v-col>\r\n          </v-row>\r\n          <v-btn\r\n            @click=\"save(officeForm)\"\r\n            color=\"success\"\r\n            block\r\n            :disabled=\"!step2Completed || !step3Completed\"\r\n            :loading=\"loader\"\r\n          >\r\n            Registrar\r\n          </v-btn>\r\n        </v-form>\r\n      </v-stepper-content>\r\n    </v-stepper>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Header from '@/components/generals/Header'\r\nimport { rules, states } from '@/helpers/form'\r\nimport { mapMutations, mapActions, mapGetters } from 'vuex'\r\nimport UpdateWarning from '@/components/generals/UpdateWarning.vue'\r\n\r\nexport default {\r\n\r\n  name: 'OfficeForm',\r\n  components: { Header, UpdateWarning },\r\n  props: ['mobile', 'collections', 'editing'],\r\n\r\n  data: () => ({\r\n    step: 1,\r\n    step1Completed: false,\r\n    step2Completed: false,\r\n    step3Completed: false,\r\n    officeForm: {\r\n      code: '0000',\r\n      openingHour: '',\r\n      closingHour: '',\r\n      isActive: true,\r\n      isLocal: false\r\n    },\r\n    rules,\r\n    states,\r\n    timePicker: '',\r\n    timePicker2: '',\r\n    loader: false,\r\n    DependenciesNames: [\r\n      'Reportes activos', 'Reportes cerrados',\r\n      'Mantenimientos activos', 'Mantenimientos cerrados',\r\n      'Solicitudes', 'Despachos'\r\n    ]\r\n  }),\r\n\r\n  created () {\r\n    if (this.editing) {\r\n      this.officeForm = Object.assign({}, this.editing)\r\n      if (this.officeForm.code < 1000) this.officeForm.code = `0${this.editing.code}`\r\n    }\r\n  },\r\n\r\n  computed: {\r\n\r\n    ...mapGetters(['formOptions']),\r\n\r\n    regions () {\r\n      const regions = this.officeForm.clientName\r\n        ? this.collections.Client.find(client => client.clientName === this.officeForm.clientName).regions\r\n        : []\r\n      return regions\r\n    },\r\n\r\n    requiresMassiveUpdate () {\r\n      if (!this.editing) return\r\n      else return (\r\n        this.editing.officeName !== this.officeForm.officeName\r\n        || this.editing.officeState !== this.officeForm.officeState\r\n        || this.editing.officeRegion !== this.officeForm.officeRegion\r\n      )\r\n    }\r\n\r\n  },\r\n\r\n  methods: {\r\n\r\n    ...mapActions(['createDocument', 'updateDocument', 'updateDocuments', 'findDocuments']),\r\n    ...mapMutations(['showSnackbar']),\r\n\r\n    async preventDuplicity (form) {\r\n      const { clientName, code } = form\r\n      const _id = this.editing ? this.editing._id : null\r\n      const filter = { clientName, code, _id: { \"$ne\": _id } }\r\n      const res = await this.findDocuments({ collection: 'Office' , filter })\r\n      if (res.length) return true, this.showSnackbar({ error: 'Código de la oficina registrado anteriormente' })\r\n      else return false\r\n    },\r\n\r\n    async save (body) {\r\n      this.loader = true\r\n      const registeredBefore = await this.preventDuplicity(body)\r\n      if (registeredBefore) return this.loader = false\r\n      if (this.editing) this.update({ collection: 'Office', body })\r\n      else this.create({ collection: 'Office', body })\r\n    },\r\n\r\n    create (document) {\r\n      this.createDocument(document)\r\n        .then(() => this.$emit('hideInterface'))\r\n        .catch(() => this.loader = false)\r\n    },\r\n\r\n    update (document) {\r\n      this.updateDocument(document)\r\n        .then(() => { if (this.requiresMassiveUpdate) this.updateDependencies(document)})\r\n        .then(() => this.$emit('hideInterface'))\r\n        .catch(() => this.loader = false)\r\n    },\r\n\r\n    updateDependencies ({ body }) {\r\n      const actions = []\r\n      const query = { clientName: this.editing.clientName, officeName: this.editing.officeName }\r\n      const update = { officeName: body.officeName, officeRegion: body.region, officeState: body.officeState }\r\n      const collections = this.dependencies(query, update)\r\n      for (const collection of collections) actions.push(this.updateDocuments(collection))\r\n      Promise.all(actions)\r\n    },\r\n\r\n    dependencies (query, update) {\r\n        return [\r\n        { collection: 'Active', query, update, options: {} },\r\n        { collection: 'Closed', query, update, options: {} },\r\n        {\r\n          collection: 'Maintenance',\r\n          query,\r\n          update: {\r\n            $set: {\r\n              officeName: update.officeName,\r\n              officeRegion: update.officeRegion,\r\n              officeState: update.officeState,\r\n              \"inventory.$[product].officeName\": update.officeName,\r\n              \"inventory.$[product].officeRegion\": update.officeRegion,\r\n              \"inventory.$[product].officeState\": update.officeState\r\n            }\r\n          },\r\n          options: { arrayFilters: [ { \"product.clientName\": query.clientName, \"product.officeName\": query.officeName } ] }\r\n        },\r\n        { collection: 'Inventory', query, update, options: {} },\r\n        { collection: 'Request', query, update, options: {} },\r\n        { collection: 'Dispatch', query, update, options: {} },\r\n      ]\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfficeForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfficeForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OfficeForm.vue?vue&type=template&id=673902fc&\"\nimport script from \"./OfficeForm.vue?vue&type=script&lang=js&\"\nexport * from \"./OfficeForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VStepper } from 'vuetify/lib/components/VStepper';\nimport { VStepperContent } from 'vuetify/lib/components/VStepper';\nimport { VStepperStep } from 'vuetify/lib/components/VStepper';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\nimport { VTimePicker } from 'vuetify/lib/components/VTimePicker';\ninstallComponents(component, {VAutocomplete,VBtn,VCol,VContainer,VForm,VIcon,VMenu,VRow,VSelect,VStepper,VStepperContent,VStepperStep,VSwitch,VTextField,VTextarea,VTimePicker})\n","<template>\r\n  <v-container>\r\n\r\n    <Header title=\"Oficinas\" subtitle=\"Red de oficinas de clientes\" />\r\n\r\n    <v-row>\r\n      <v-col :cols=\"mobile ? 12 : 6\">\r\n        <v-skeleton-loader v-if=\"updatingState\" type=\"image\" width=\"100%\" />\r\n\t\t\t\t<v-skeleton-loader v-if=\"updatingState\" type=\"image\" width=\"100%\" />\r\n        <OfficePanels\r\n          v-else\r\n          :collections=\"collections\"\r\n          :mobile=\"mobile\"\r\n          @editOffice=\"editOffice\"\r\n        />\r\n      </v-col>\r\n      <v-col :cols=\"mobile ? 12 : 6\">\r\n        <v-sheet class=\"pa-3\" v-if=\"updatingState\">\r\n          <v-skeleton-loader\r\n            class=\"mx-auto\"\r\n            max-width=\"300\"\r\n            type=\"card\"\r\n          ></v-skeleton-loader>\r\n        </v-sheet>\r\n        <Graph\r\n          v-else\r\n          id=\"officesGraph1\"\r\n          :updatingState=\"updatingState\"\r\n          :chartData=\"officesXClient\"\r\n          title=\"Oficinas por cliente\"\r\n          subtitle=\"Según actividad\"\r\n        />\r\n      </v-col>\r\n    </v-row>\r\n\r\n    <MainButton @showForm=\"createOffice\" :disabled=\"$store.state.session.user.userRole > 2\" :updatingState=\"updatingState\" />\r\n\r\n    <v-dialog :width=\"mobile ? '90%' : '60%'\" persistent v-model=\"dialog\">\r\n      <v-card>\r\n        <OfficeForm\r\n          v-if=\"dialog\"\r\n          :mobile=\"mobile\"\r\n          :editing=\"selectedOffice\"\r\n          :collections=\"collections\"\r\n          @hideInterface=\"dialog = false\"\r\n        />\r\n      </v-card>\r\n    </v-dialog>\r\n\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { mapState } from 'vuex'\r\nimport Graph from '@/components/generals/Graph'\r\nimport Header from '@/components/generals/Header'\r\nimport MainButton from '@/components/generals/MainButton'\r\nimport OfficePanels from '@/components/offices/OfficePanels.vue'\r\nimport OfficeForm from '@/components/offices/OfficeForm'\r\n\r\nexport default {\r\n\r\n  name: 'Maintenance',\r\n  components: {\r\n    Graph,\r\n    Header,\r\n    OfficePanels,\r\n    OfficeForm,\r\n    MainButton\r\n  },\r\n\r\n  data: () => {\r\n    return {\r\n      dialog: false\r\n    }\r\n  },\r\n\r\n  computed: {\r\n\r\n    ...mapState(['collections', 'updatingState']),\r\n\r\n    mobile () {\r\n      return this.$vuetify.breakpoint.name === 'xs' || this.$vuetify.breakpoint.name === 'sm'\r\n    },\r\n\r\n    officesXClient () {\r\n      const labels = this.collections.Client.map(client => client.clientName)\r\n      const type = 'line'\r\n      const options = {}\r\n      const data = {\r\n        labels,\r\n        datasets: [\r\n          { label: 'Activas', data: [], borderColor: this.$vuetify.theme.currentTheme.success },\r\n          { label: 'Inactivas', data: [], borderColor: this.$vuetify.theme.currentTheme.error }\r\n        ]\r\n      }\r\n      for (const label of labels) {\r\n        const activeOffices = office => office.clientName === label && office.isActive\r\n        const inactiveOffices = office => office.clientName === label && !office.isActive\r\n        data.datasets[0].data.push(this.collections.Office.filter(activeOffices).length)\r\n        data.datasets[1].data.push(this.collections.Office.filter(inactiveOffices).length)\r\n      }\r\n      return { type, data, options }\r\n    },\r\n\r\n\r\n\r\n  },\r\n\r\n  methods: {\r\n\r\n    editOffice (office) {\r\n      this.selectedOffice = Object.assign({}, office)\r\n      this.dialog = true\r\n    },\r\n    \r\n    createOffice () {\r\n      this.selectedOffice = null\r\n      this.dialog = true\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Offices.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Offices.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Offices.vue?vue&type=template&id=54b87513&\"\nimport script from \"./Offices.vue?vue&type=script&lang=js&\"\nexport * from \"./Offices.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\ninstallComponents(component, {VCard,VCol,VContainer,VDialog,VRow,VSheet,VSkeletonLoader})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"title\":\"Usuarios\",\"subtitle\":\"Gestione la información básica\"}}),_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 6 : 3}},[_c('v-text-field',{attrs:{\"label\":\"Buscar\",\"prepend-icon\":\"mdi-magnify\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1)],1),_c('v-data-table',{attrs:{\"items\":_vm.collections.User,\"search\":_vm.search,\"headers\":_vm.headers,\"loading\":_vm.updatingState},scopedSlots:_vm._u([{key:\"item.role\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(_vm._f(\"roles\")(item.userRole))+\" \")]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-menu',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\"}},on),[_c('v-icon',[_vm._v(\"mdi-dots-vertical\")])],1)]}}],null,true)},[_c('v-list',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"dense\":\"\"}},[_c('v-list-item-group',[_c('v-list-item',{on:{\"click\":function($event){return _vm.editUser(item)}}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-pencil\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" Editar \")])],1)],1),_c('v-list-item',{on:{\"click\":function($event){return _vm.confirmDelete(item)}}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-delete\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" Eliminar \")])],1)],1)],1)],1)],1)]}}])}),_c('MainButton',{attrs:{\"updatingState\":_vm.updatingState},on:{\"showForm\":function($event){_vm.signInterface = true}}}),_c('v-dialog',{attrs:{\"width\":_vm.mobile ? '90%' : '60%',\"persistent\":\"\"},model:{value:(_vm.signInterface),callback:function ($$v) {_vm.signInterface=$$v},expression:\"signInterface\"}},[_c('v-card',[(_vm.signInterface)?_c('SignForm',{attrs:{\"mobile\":_vm.mobile,\"editing\":_vm.editing},on:{\"hideInterface\":_vm.hideInterface}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"closable\":\"1\",\"title\":\"Formulario de registro\",\"subtitle\":\"Complete la información de usuario\"},on:{\"hideInterface\":function($event){return _vm.$emit('hideInterface')}}}),_c('v-stepper',{attrs:{\"vertical\":\"\"},model:{value:(_vm.step),callback:function ($$v) {_vm.step=$$v},expression:\"step\"}},[_c('v-stepper-step',{attrs:{\"editable\":\"\",\"complete\":_vm.step > 1,\"step\":\"1\"}},[_vm._v(\" Datos personales \")]),_c('v-stepper-content',{attrs:{\"step\":\"1\"}},[_c('v-form',{ref:\"step1Form\",model:{value:(_vm.step1Form),callback:function ($$v) {_vm.step1Form=$$v},expression:\"step1Form\"}},[_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-text-field',{attrs:{\"maxlength\":\"20\",\"counter\":\"20\",\"label\":\"Primer nombre\",\"rules\":_vm.rules.noSpaces},model:{value:(_vm.userForm.firstName),callback:function ($$v) {_vm.$set(_vm.userForm, \"firstName\", $$v)},expression:\"userForm.firstName\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-text-field',{attrs:{\"maxlength\":\"20\",\"counter\":\"20\",\"label\":\"Primer apellido\",\"rules\":_vm.rules.required},model:{value:(_vm.userForm.lastName),callback:function ($$v) {_vm.$set(_vm.userForm, \"lastName\", $$v)},expression:\"userForm.lastName\"}})],1)],1),_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-text-field',{attrs:{\"label\":\"Documento de identidad\",\"rules\":_vm.rules.idRules,\"maxlength\":8},model:{value:(_vm.userForm.idDocument),callback:function ($$v) {_vm.$set(_vm.userForm, \"idDocument\", $$v)},expression:\"userForm.idDocument\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-menu',{attrs:{\"close-on-content-click\":false,\"nudge-right\":40,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"290px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"F. Nacimiento\",\"readonly\":\"\"},model:{value:(_vm.userForm.birthday),callback:function ($$v) {_vm.$set(_vm.userForm, \"birthday\", $$v)},expression:\"userForm.birthday\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.menu2),callback:function ($$v) {_vm.menu2=$$v},expression:\"menu2\"}},[_c('v-date-picker',{on:{\"input\":function($event){_vm.menu2 = false}},model:{value:(_vm.userForm.birthday),callback:function ($$v) {_vm.$set(_vm.userForm, \"birthday\", $$v)},expression:\"userForm.birthday\"}})],1)],1)],1)],1),_c('v-btn',{attrs:{\"color\":\"primary\",\"disabled\":!_vm.step1Form,\"text\":\"\",\"block\":\"\"},on:{\"click\":function($event){_vm.step++}}},[_vm._v(\" Continuar \")])],1),_c('v-stepper-step',{attrs:{\"editable\":\"\",\"complete\":_vm.step2Form,\"step\":\"2\"}},[_vm._v(\" Información corporativa \")]),_c('v-stepper-content',{attrs:{\"step\":\"2\"}},[_c('v-form',{ref:\"step2Form\",model:{value:(_vm.step2Form),callback:function ($$v) {_vm.step2Form=$$v},expression:\"step2Form\"}},[_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-select',{attrs:{\"items\":_vm.departments,\"label\":\"Departamento\",\"rules\":_vm.rules.required},model:{value:(_vm.userForm.department),callback:function ($$v) {_vm.$set(_vm.userForm, \"department\", $$v)},expression:\"userForm.department\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-text-field',{attrs:{\"label\":\"Cargo\",\"rules\":_vm.rules.required},model:{value:(_vm.userForm.companyPosition),callback:function ($$v) {_vm.$set(_vm.userForm, \"companyPosition\", $$v)},expression:\"userForm.companyPosition\"}})],1)],1),_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-select',{attrs:{\"label\":\"Rol\",\"items\":_vm.roles},model:{value:(_vm.userForm.userRole),callback:function ($$v) {_vm.$set(_vm.userForm, \"userRole\", $$v)},expression:\"userForm.userRole\"}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-text-field',{attrs:{\"maxlength\":\"50\",\"counter\":\"50\",\"label\":\"E-mail\",\"rules\":_vm.rules.corpEmail},model:{value:(_vm.userForm.email),callback:function ($$v) {_vm.$set(_vm.userForm, \"email\", $$v)},expression:\"userForm.email\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-switch',{attrs:{\"label\":\"Asignable a servicios\"},model:{value:(_vm.userForm.assignable),callback:function ($$v) {_vm.$set(_vm.userForm, \"assignable\", $$v)},expression:\"userForm.assignable\"}})],1)],1)],1),_c('v-btn',{attrs:{\"color\":\"primary\",\"disabled\":!_vm.step2Form,\"text\":\"\",\"block\":\"\"},on:{\"click\":function($event){_vm.step++}}},[_vm._v(\" Continuar \")])],1),_c('v-stepper-step',{attrs:{\"editable\":\"\",\"complete\":_vm.step3Form,\"step\":\"3\"}},[_vm._v(\" Contraseña \")]),_c('v-stepper-content',{attrs:{\"step\":\"3\"}},[_c('v-form',{ref:\"step3Form\",model:{value:(_vm.step3Form),callback:function ($$v) {_vm.step3Form=$$v},expression:\"step3Form\"}},[(_vm.editing)?_c('v-switch',{attrs:{\"label\":\"Modificar contraseña\"},model:{value:(_vm.updatePassword),callback:function ($$v) {_vm.updatePassword=$$v},expression:\"updatePassword\"}}):_vm._e(),(!_vm.editing || _vm.updatePassword)?_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',[_c('v-text-field',{attrs:{\"type\":\"password\",\"maxlength\":\"8\",\"counter\":\"8\",\"label\":\"Contraseña\",\"rules\":_vm.rules.passwordRules},model:{value:(_vm.userForm.userPassword),callback:function ($$v) {_vm.$set(_vm.userForm, \"userPassword\", $$v)},expression:\"userForm.userPassword\"}})],1),_c('v-col',[_c('v-text-field',{attrs:{\"type\":\"password\",\"rules\":_vm.rules.passwordRules,\"maxlength\":\"8\",\"counter\":\"8\",\"label\":\"Confirmar\",\"error\":!_vm.passwordComparison.match,\"error-messages\":_vm.confirmPassword ? _vm.passwordComparison.message : ''},model:{value:(_vm.confirmPassword),callback:function ($$v) {_vm.confirmPassword=$$v},expression:\"confirmPassword\"}})],1)],1):_vm._e(),_c('v-row',[_c('v-col',[_c('v-switch',{attrs:{\"label\":\"Permitir acceso\"},model:{value:(_vm.userForm.allowLogin),callback:function ($$v) {_vm.$set(_vm.userForm, \"allowLogin\", $$v)},expression:\"userForm.allowLogin\"}})],1)],1),(_vm.requiresMassiveUpdate)?_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',[_c('UpdateWarning',{attrs:{\"triggeringProp\":\"Nombre de usuario\",\"modifies\":_vm.DependenciesNames}})],1)],1):_vm._e(),_c('v-btn',{staticClass:\"mt-2\",attrs:{\"disabled\":!_vm.step1Form || !_vm.step2Form || !_vm.step3Form,\"loading\":_vm.loader,\"color\":\"success\",\"block\":\"\"},on:{\"click\":function($event){return _vm.save(_vm.userForm)}}},[_vm._v(\" Registrar \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n\r\n    <Header\r\n      closable=\"1\"\r\n      title=\"Formulario de registro\"\r\n      subtitle=\"Complete la información de usuario\"\r\n      @hideInterface=\"$emit('hideInterface')\"\r\n    />\r\n\r\n    <v-stepper v-model=\"step\" vertical>\r\n      <v-stepper-step editable :complete=\"step > 1\" step=\"1\">\r\n        Datos personales\r\n      </v-stepper-step>\r\n\r\n      <v-stepper-content step=\"1\">\r\n        <v-form ref=\"step1Form\" v-model=\"step1Form\">\r\n          <v-row justify=\"center\">\r\n            <v-col :cols=\"mobile ? 12 : 6\">\r\n              <v-text-field\r\n                v-model=\"userForm.firstName\"\r\n                maxlength=\"20\"\r\n                counter=\"20\"\r\n                label=\"Primer nombre\"\r\n                :rules=\"rules.noSpaces\"\r\n              />\r\n            </v-col>\r\n            <v-col :cols=\"mobile ? 12 : 6\">\r\n              <v-text-field\r\n                v-model=\"userForm.lastName\"\r\n                maxlength=\"20\"\r\n                counter=\"20\"\r\n                label=\"Primer apellido\"\r\n                :rules=\"rules.required\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-row justify=\"center\">\r\n            <v-col :cols=\"mobile ? 12 : 6\">\r\n              <v-text-field\r\n                v-model=\"userForm.idDocument\"\r\n                label=\"Documento de identidad\"\r\n                :rules=\"rules.idRules\"\r\n                :maxlength=\"8\"\r\n              />\r\n            </v-col>\r\n            <v-col :cols=\"mobile ? 12 : 6\">\r\n              <v-menu\r\n                v-model=\"menu2\"\r\n                :close-on-content-click=\"false\"\r\n                :nudge-right=\"40\"\r\n                transition=\"scale-transition\"\r\n                offset-y\r\n                min-width=\"290px\"\r\n              >\r\n                <template v-slot:activator=\"{ on, attrs }\">\r\n                  <v-text-field\r\n                    v-model=\"userForm.birthday\"\r\n                    label=\"F. Nacimiento\"\r\n                    readonly\r\n                    v-bind=\"attrs\"\r\n                    v-on=\"on\"\r\n                  />\r\n                </template>\r\n                <v-date-picker v-model=\"userForm.birthday\" @input=\"menu2 = false\" />\r\n              </v-menu>\r\n            </v-col>\r\n          </v-row>\r\n        </v-form>\r\n        <v-btn\r\n          @click=\"step++\"\r\n          color=\"primary\"\r\n          :disabled=\"!step1Form\"\r\n          text\r\n          block\r\n        >\r\n          Continuar\r\n        </v-btn>\r\n      </v-stepper-content>\r\n      <v-stepper-step editable :complete=\"step2Form\" step=\"2\">\r\n        Información corporativa\r\n      </v-stepper-step>\r\n\r\n      <v-stepper-content step=\"2\">\r\n        <v-form ref=\"step2Form\" v-model=\"step2Form\">\r\n          <v-row justify=\"center\">\r\n            <v-col :cols=\"mobile ? 12 : 6\">\r\n              <v-select\r\n                v-model=\"userForm.department\"\r\n                :items=\"departments\"\r\n                label=\"Departamento\"\r\n                :rules=\"rules.required\"\r\n              />\r\n            </v-col>\r\n            <v-col :cols=\"mobile ? 12 : 6\">\r\n              <v-text-field\r\n                v-model=\"userForm.companyPosition\"\r\n                label=\"Cargo\"\r\n                :rules=\"rules.required\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-row justify=\"center\">\r\n            <v-col :cols=\"mobile ? 12 : 6\">\r\n              <v-select v-model=\"userForm.userRole\" label=\"Rol\" :items=\"roles\"\r\n            />\r\n            </v-col>\r\n            <v-col :cols=\"mobile ? 12 : 6\">\r\n              <v-text-field\r\n                v-model=\"userForm.email\"\r\n                maxlength=\"50\"\r\n                counter=\"50\"\r\n                label=\"E-mail\"\r\n                :rules=\"rules.corpEmail\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-row>\r\n            <v-col>\r\n              <v-switch v-model=\"userForm.assignable\" label=\"Asignable a servicios\" />\r\n            </v-col>\r\n          </v-row>\r\n        </v-form>\r\n        <v-btn\r\n          @click=\"step++\"\r\n          color=\"primary\"\r\n          :disabled=\"!step2Form\"\r\n          text\r\n          block\r\n        >\r\n          Continuar\r\n        </v-btn>\r\n      </v-stepper-content>\r\n      <v-stepper-step editable :complete=\"step3Form\" step=\"3\">\r\n        Contraseña\r\n      </v-stepper-step>\r\n      <v-stepper-content step=\"3\">\r\n        <v-form ref=\"step3Form\" v-model=\"step3Form\">\r\n          <v-switch v-if=\"editing\" v-model=\"updatePassword\" label=\"Modificar contraseña\" />\r\n          <v-row v-if=\"!editing || updatePassword\" justify=\"center\">\r\n            <v-col>\r\n              <v-text-field\r\n                v-model=\"userForm.userPassword\"\r\n                type=\"password\"\r\n                maxlength=\"8\" counter=\"8\"\r\n                label=\"Contraseña\"\r\n                :rules=\"rules.passwordRules\"\r\n              />\r\n            </v-col>\r\n            <v-col>\r\n              <v-text-field\r\n                v-model=\"confirmPassword\"\r\n                type=\"password\"\r\n                :rules=\"rules.passwordRules\"\r\n                maxlength=\"8\" counter=\"8\"\r\n                label=\"Confirmar\"\r\n                :error=\"!passwordComparison.match\"\r\n                :error-messages=\"confirmPassword ? passwordComparison.message : ''\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-row>\r\n            <v-col>\r\n              <v-switch v-model=\"userForm.allowLogin\" label=\"Permitir acceso\" />\r\n            </v-col>\r\n          </v-row>\r\n          <v-row v-if=\"requiresMassiveUpdate\" align=\"center\">\r\n            <v-col>\r\n              <UpdateWarning triggeringProp=\"Nombre de usuario\" :modifies=\"DependenciesNames\" />\r\n            </v-col>\r\n          </v-row>\r\n          <v-btn\r\n            @click=\"save(userForm)\"\r\n            class=\"mt-2\"\r\n            :disabled=\"!step1Form || !step2Form || !step3Form\"\r\n            :loading=\"loader\"\r\n            color=\"success\"\r\n            block\r\n          >\r\n            Registrar\r\n          </v-btn>\r\n\r\n        </v-form>\r\n      </v-stepper-content>\r\n    </v-stepper>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { mapMutations, mapActions } from 'vuex'\r\nimport Header from '@/components/generals/Header'\r\nimport UpdateWarning from '@/components/generals/UpdateWarning.vue'\r\nimport { rules, departments, roles } from '@/helpers/form'\r\nexport default {\r\n\r\n  name: 'SignForm',\r\n  components: { Header, UpdateWarning },\r\n  props: ['mobile', 'editing'],\r\n\r\n  data: () => ({\r\n    step: 1,\r\n    userForm: {\r\n      assignable: false,\r\n      allowLogin: false\r\n    },\r\n    menu2: false,\r\n    loader: false,\r\n    step1Form: false,\r\n    step2Form: false,\r\n    step3Form: false,\r\n    confirmPassword: '',\r\n    updatePassword: false,\r\n    DependenciesNames: [\r\n      'Reportes activos', 'Reportes cerrados',\r\n      'Mantenimientos activos', 'Mantenimientos cerrados',\r\n      'Solicitudes', 'Despachos'\r\n    ],\r\n    // Data imported from helpers/form.js\r\n    rules,\r\n    departments,\r\n    roles\r\n  }),\r\n\r\n  created () {\r\n    if (this.editing) this.userForm = Object.assign({}, this.editing)\r\n  },\r\n\r\n  computed: {\r\n\r\n    passwordComparison () {\r\n      let match = this.confirmPassword === this.userForm.userPassword\r\n      match = this.userForm.userPassword ? match : true\r\n      const message = match ? '' : 'No coinciden'\r\n      return { match, message }\r\n    },\r\n\r\n    requiresMassiveUpdate () {\r\n      if (!this.editing) return\r\n      else return (\r\n        this.userForm.firstName !== this.editing.firstName\r\n        || this.userForm.lastName !== this.editing.lastName\r\n      )\r\n    }\r\n \r\n  },\r\n\r\n  methods: {\r\n\r\n    ...mapActions(['createDocument', 'updateDocument', 'updateDocuments','findDocuments']), \r\n    ...mapMutations(['showSnackbar']),\r\n\r\n    preventDuplicity (idDocument) {\r\n      return new Promise ((resolve, reject) => {\r\n        const _id = this.editing ? this.editing._id : null\r\n\r\n        const filter = {\r\n          idDocument,\r\n          _id: { \"$ne\": _id }\r\n        }\r\n        this.findDocuments({ collection: 'User', filter })\r\n          .then((res) => {\r\n            if (res.length) {\r\n              this.showSnackbar({ message: 'Documento de identidad registrado anteriormente' })\r\n              this.loader = false\r\n              resolve(false)\r\n            } else {\r\n              resolve(true)\r\n            }\r\n        })\r\n        .catch(() => reject(false))\r\n      })\r\n    },\r\n\r\n    async save (body) {\r\n      this.loader = true\r\n      const idAvalaible = await this.preventDuplicity(body.idDocument)\r\n      if (!idAvalaible) return\r\n\r\n      if (this.editing) this.update({ collection: 'User', body })\r\n      else this.create({ collection: 'User', body })\r\n    },\r\n\r\n    create (document) {\r\n      this.createDocument(document)\r\n        .then(() => this.$emit('hideInterface'))\r\n        .catch(() => this.loader = false)\r\n    },\r\n\r\n    update (document) {\r\n      this.updateDocument(document)\r\n        .then(() => { if (this.requiresMassiveUpdate) this.updateDependencies(document) })\r\n        .then(() => this.$emit('hideInterface'))\r\n        .catch(() => this.loader = false)\r\n    },\r\n\r\n    updateDependencies ({ body }) {\r\n      const actions = []\r\n      const query = { _id: body._id }\r\n      const update = { fullName: `${body.firstName} ${body.lastName}` }\r\n      const collections = this.dependencies(query, update)\r\n      for (const collection of collections) actions.push(this.updateDocuments(collection))\r\n      Promise.all(actions)\r\n    },\r\n\r\n    dependencies (query, update) {\r\n      return [\r\n        {\r\n          collection: 'Active',\r\n          query: { \"schedule.technician._id\": query._id },\r\n          update: { $set: { \"schedule.technician.fullName\": update.fullName } },\r\n          options: {}\r\n        },\r\n        {\r\n          collection: 'Active',\r\n          query: { $or: [\r\n            { \"documentation.author._id\": query._id },\r\n            { \"documentation.technician._id\": query._id }\r\n          ] },\r\n          update: {\r\n            $set: {\r\n              \"documentation.$[specificAuthor].author.fullName\": update.fullName,\r\n              \"documentation.$[specificTechnician].technician.fullName\": update.fullName\r\n            }\r\n          },\r\n          options: {\r\n            arrayFilters: [\r\n              { \"specificAuthor.author._id\": query._id },\r\n              { \"specificTechnician.technician._id\": query._id }\r\n            ]\r\n          }\r\n        },\r\n        {\r\n          collection: 'Closed',\r\n          query: { $or: [\r\n            { \"documentation.author._id\": query._id },\r\n            { \"documentation.technician._id\": query._id }\r\n          ] },\r\n          update: {\r\n            $set: {\r\n              \"documentation.$[specificAuthor].author.fullName\": update.fullName,\r\n              \"documentation.$[specificTechnician].technician.fullName\": update.fullName\r\n            }\r\n          },\r\n          options: {\r\n            arrayFilters: [\r\n              { \"specificAuthor.author._id\": query._id },\r\n              { \"specificTechnician.technician._id\": query._id }\r\n            ]\r\n          }\r\n        },\r\n        {\r\n          collection: 'Maintenance',\r\n          query: { \"schedule.technician._id\": query._id },\r\n          update: { $set: { \"schedule.technician.fullName\": update.fullName } },\r\n          options: {}\r\n        },\r\n        {\r\n          collection: 'Maintenance',\r\n          query: { \"inventory.technician._id\": query._id },\r\n          update: {\r\n            $set: { \"inventory.$[specific].technician.fullName\": update.fullName }\r\n          },\r\n          options: { arrayFilters: [{ \"specific.technician._id\": query._id }] }\r\n        },\r\n        {\r\n          collection: 'Inventory',\r\n          query: { \"technician._id\": query._id },\r\n          update: { $set: { \"technician.fullName\": update.fullName } },\r\n          options: {}\r\n        },\r\n        {\r\n          collection: 'Request',\r\n          query: { \"technician._id\": query._id },\r\n          update: { $set: { \"technician.fullName\": update.fullName } },\r\n          options: {}\r\n        },\r\n        {\r\n          collection: 'Request',\r\n          query: { \"requestedBy._id\": query._id },\r\n          update: { $set: { \"requestedBy.fullName\": update.fullName } },\r\n          options: {}\r\n        },\r\n        {\r\n          collection: 'Dispatch',\r\n          query: { \"requestedBy._id\": query._id },\r\n          update: { $set: { \"requestedBy.fullName\": update.fullName } },\r\n          options: {}\r\n        },\r\n        {\r\n          collection: 'Dispatch',\r\n          query: { \"technician._id\": query._id },\r\n          update: { $set: { \"technician.fullName\": update.fullName } },\r\n          options: {}\r\n        }\r\n      ]\r\n    }\r\n\r\n  }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SignForm.vue?vue&type=template&id=968e3a6e&\"\nimport script from \"./SignForm.vue?vue&type=script&lang=js&\"\nexport * from \"./SignForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VStepper } from 'vuetify/lib/components/VStepper';\nimport { VStepperContent } from 'vuetify/lib/components/VStepper';\nimport { VStepperStep } from 'vuetify/lib/components/VStepper';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCol,VContainer,VDatePicker,VForm,VMenu,VRow,VSelect,VStepper,VStepperContent,VStepperStep,VSwitch,VTextField})\n","<template>\r\n  <v-container>\r\n    <Header title=\"Usuarios\" subtitle=\"Gestione la información básica\" />\r\n    <v-row>\r\n      <v-col :cols=\"mobile ? 6 : 3\">\r\n        <v-text-field v-model=\"search\" label=\"Buscar\" prepend-icon=\"mdi-magnify\" />\r\n      </v-col>\r\n    </v-row>\r\n    <v-data-table :items=\"collections.User\" :search=\"search\" :headers=\"headers\" :loading=\"updatingState\">\r\n      <template v-slot:item.role=\"{ item }\">\r\n        {{ item.userRole | roles }}\r\n      </template>\r\n      <template v-slot:item.actions=\"{ item }\">\r\n        <v-menu>\r\n          <template v-slot:activator=\"{ on }\">\r\n            <v-btn v-on=\"on\" icon>\r\n              <v-icon>mdi-dots-vertical</v-icon>\r\n            </v-btn>\r\n          </template>\r\n          <v-list color=\"primary\" dark dense>\r\n            <v-list-item-group>\r\n              <v-list-item @click=\"editUser(item)\">\r\n                <v-list-item-icon>\r\n                  <v-icon>mdi-pencil</v-icon>\r\n                </v-list-item-icon>\r\n                <v-list-item-content>\r\n                  <v-list-item-title>\r\n                    Editar\r\n                  </v-list-item-title>\r\n                </v-list-item-content>\r\n              </v-list-item>\r\n              <v-list-item @click=\"confirmDelete(item)\">\r\n                <v-list-item-icon>\r\n                  <v-icon>mdi-delete</v-icon>\r\n                </v-list-item-icon>\r\n                <v-list-item-content>\r\n                  <v-list-item-title>\r\n                    Eliminar\r\n                  </v-list-item-title>\r\n                </v-list-item-content>\r\n              </v-list-item>\r\n            </v-list-item-group>\r\n          </v-list>\r\n        </v-menu>\r\n      </template>\r\n    </v-data-table>\r\n\r\n    <MainButton @showForm=\"signInterface = true\" :updatingState=\"updatingState\" />\r\n\r\n    <v-dialog :width=\"mobile ? '90%' : '60%'\" persistent v-model=\"signInterface\">\r\n      <v-card>\r\n        <SignForm\r\n          v-if=\"signInterface\"\r\n          :mobile=\"mobile\"\r\n          :editing=\"editing\"\r\n          @hideInterface=\"hideInterface\"\r\n        />\r\n      </v-card>\r\n    </v-dialog>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Header from '@/components/generals/Header'\r\nimport SignForm from '@/components/users/SignForm'\r\nimport { mapState, mapActions } from 'vuex'\r\nimport MainButton from '@/components/generals/MainButton'\r\n\r\nexport default {\r\n  name: 'Users',\r\n  components: { Header, MainButton, SignForm },\r\n  data: () => ({\r\n    signInterface: false,\r\n    editing: null,\r\n    search: '',\r\n    headers: [\r\n      { text: 'Nombre', value: 'firstName' },\r\n      { text: 'Apellido', value: 'lastName' },\r\n      { text: 'Departamento', value: 'department' },\r\n      { text: 'Rol', value: 'role' },\r\n      { text: 'Acciones', value: 'actions' }\r\n    ]\r\n  }),\r\n  \r\n  filters: {\r\n    roles (num) {\r\n      if (num == 0) return 'root'\r\n      if (num == 1) return 'Administrador'\r\n      if (num == 2) return 'Usuario'\r\n      if (num == 3) return 'Invitado'\r\n    }\r\n  },\r\n\r\n  computed: {\r\n\r\n    ...mapState(['updatingState', 'collections']),\r\n\r\n    mobile () {\r\n      return this.$vuetify.breakpoint.name === 'xs' || this.$vuetify.breakpoint.name === 'sm'\r\n    }\r\n\r\n  },\r\n\r\n  methods: {\r\n\r\n    ...mapActions(['deleteDocument']),\r\n\r\n    editUser (user) {\r\n      this.editing = Object.assign({}, user)\r\n      this.signInterface = true\r\n    },\r\n\r\n    confirmDelete (user) {\r\n      confirm('Esta acción es irreversible, por favor confirme') && this.deleteUser(user)\r\n    },\r\n\r\n    deleteUser (body) {\r\n      this.deleteDocument({ collection: 'User', body })\r\n        .then(() => { return })\r\n        .catch(() => { return })\r\n    },\r\n\r\n    hideInterface () {\r\n      this.signInterface = false\r\n      this.editing = null\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Users.vue?vue&type=template&id=4f9c8c47&\"\nimport script from \"./Users.vue?vue&type=script&lang=js&\"\nexport * from \"./Users.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCol,VContainer,VDataTable,VDialog,VIcon,VList,VListItem,VListItemContent,VListItemGroup,VListItemIcon,VListItemTitle,VMenu,VRow,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-img',{staticClass:\"pb-5\",staticStyle:{\"position\":\"fixed\",\"top\":\"0\",\"left\":\"0\",\"min-height\":\"100%\",\"min-width\":\"100%\"},attrs:{\"app\":\"\",\"src\":require(\"@/assets/background/bg12.jpg\")}},[_c('v-alert',{attrs:{\"type\":\"info\",\"color\":\"dark\",\"icon\":\"mdi-information-outline\",\"tile\":\"\"}},[_vm._v(\" Elige un perfil de prueba para iniciar \")]),_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 11 : 5}},[_c('v-card',{staticStyle:{\"opacity\":\"80%\"}},[_c('v-card-title',[_vm._v(\"Bienvenido a Mantra\")]),_c('v-card-subtitle',[_vm._v(\"Inicia sesión para continuar\")]),_c('v-row',[_c('v-col',{attrs:{\"cols\":4}},[_c('v-row',[_c('v-col',{attrs:{\"align\":\"center\"}},[_c('v-img',{attrs:{\"src\":require(\"@/assets/logo.svg\"),\"width\":\"70\"}}),_c('v-spacer'),_c('v-btn',{attrs:{\"href\":\"https://instagram.com/microfilmscenter\",\"target\":\"blank\",\"color\":\"primary\",\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-instagram\")])],1),_c('v-btn',{attrs:{\"href\":\"https://microfilmscenter.com\",\"target\":\"blank\",\"color\":\"primary\",\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-web\")])],1)],1)],1)],1),_c('v-divider',{attrs:{\"vertical\":\"\"}}),_c('v-col',{attrs:{\"cols\":8}},[_c('v-form',{attrs:{\"autocomplete\":\"off\"}},[_c('v-row',{attrs:{\"justify\":\"start\"}},[_c('v-col',{attrs:{\"cols\":11,\"align\":\"start\"}},[_c('v-select',{attrs:{\"solo\":\"\",\"items\":_vm.users,\"prepend-inner-icon\":_vm.mobile ? '' : 'mdi-account-circle',\"placeholder\":\"Usuario\",\"dense\":\"\",\"autofocus\":\"\"},model:{value:(_vm.selectedUser),callback:function ($$v) {_vm.selectedUser=$$v},expression:\"selectedUser\"}}),_c('v-text-field',{attrs:{\"readonly\":\"\",\"prepend-inner-icon\":_vm.mobile ? '' : 'mdi-key',\"type\":\"password\",\"placeholder\":\"Contraseña\"}}),_c('v-btn',{attrs:{\"loading\":_vm.loader,\"color\":\"primary\",\"block\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.tryLog(_vm.selectedUser)}}},[_vm._v(\" Iniciar \")])],1)],1)],1)],1)],1)],1)],1)],1),[_c('v-footer',{staticClass:\"mt-15\",attrs:{\"fixed\":\"\",\"bottom\":\"\",\"dark\":\"\",\"padless\":\"\"}},[_c('v-card',{staticClass:\"text-center\",attrs:{\"min-width\":\"100%\",\"flat\":\"\",\"tile\":\"\"}},[_c('v-card-text',_vm._l((_vm.links),function(link,index){return _c('v-btn',{key:index,staticClass:\"mx-4\",attrs:{\"href\":link.url,\"target\":\"blank\",\"icon\":\"\"}},[_c('v-icon',{attrs:{\"size\":\"24px\"}},[_vm._v(\" \"+_vm._s(link.icon)+\" \")])],1)}),1),_c('v-card-text',{staticClass:\"pt-0\"},[_vm._v(\" Mantra es una herramienta gestión de operaciones desarrollada para Microfilms Center. Eres libre de escribir datos en esta versión de pruebas. \")]),_c('v-divider'),_c('v-card-text',[_vm._v(\" \"+_vm._s(new Date().getFullYear())+\" — Desarrollado por \"),_c('strong',[_vm._v(\"Edgar Parucho\")])])],1)],1)]],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <v-img\r\n      class=\"pb-5\"\r\n      app\r\n      style=\"position: fixed;\r\n        top: 0;\r\n        left: 0;\r\n        min-height: 100%;\r\n        min-width: 100%;\r\n      \"\r\n      src=\"@/assets/background/bg12.jpg\"\r\n    >\r\n      <v-alert\r\n        type=\"info\"\r\n        color=\"dark\"\r\n        icon=\"mdi-information-outline\"\r\n        tile\r\n      >\r\n        Elige un perfil de prueba para iniciar\r\n      </v-alert>\r\n      <v-row justify=\"center\">\r\n        <v-col :cols=\"mobile ? 11 : 5\">\r\n          <v-card style=\"opacity:80%;\">\r\n            <v-card-title>Bienvenido a Mantra</v-card-title>\r\n            <v-card-subtitle>Inicia sesión para continuar</v-card-subtitle>\r\n            <v-row>\r\n              <v-col :cols=\"4\">\r\n                <v-row>\r\n                  <v-col align=\"center\">\r\n                    <v-img src=\"@/assets/logo.svg\" width=\"70\" />\r\n                    <v-spacer />\r\n                    <v-btn href=\"https://instagram.com/microfilmscenter\" target=\"blank\" color=\"primary\" icon>\r\n                      <v-icon>mdi-instagram</v-icon>\r\n                    </v-btn>\r\n                    <v-btn href=\"https://microfilmscenter.com\" target=\"blank\" color=\"primary\" icon>\r\n                      <v-icon>mdi-web</v-icon>\r\n                    </v-btn>\r\n                  </v-col>\r\n                </v-row>\r\n              </v-col>\r\n              <v-divider vertical />\r\n              <v-col :cols=\"8\">\r\n                <v-form autocomplete=\"off\">\r\n                  <v-row justify=\"start\">\r\n                    <v-col :cols=\"11\" align=\"start\">\r\n                      <v-select\r\n                        v-model=\"selectedUser\"\r\n                        solo\r\n                        :items=\"users\"\r\n                        :prepend-inner-icon=\"mobile ? '' : 'mdi-account-circle'\"\r\n                        placeholder=\"Usuario\"\r\n                        dense\r\n                        autofocus\r\n                      />\r\n                      <v-text-field\r\n                        readonly\r\n                        :prepend-inner-icon=\"mobile ? '' : 'mdi-key'\"\r\n                        type=\"password\"\r\n                        placeholder=\"Contraseña\"\r\n                      />\r\n                      <v-btn\r\n                        @click=\"tryLog(selectedUser)\"\r\n                        :loading=\"loader\"\r\n                        color=\"primary\"\r\n                        block\r\n                        small\r\n                      >\r\n                        Iniciar\r\n                      </v-btn>\r\n                    </v-col>\r\n                  </v-row>\r\n                </v-form>\r\n              </v-col>\r\n            </v-row>\r\n          </v-card>\r\n        </v-col>\r\n      </v-row>\r\n      <template>\r\n        <v-footer\r\n          class=\"mt-15\"\r\n          fixed\r\n          bottom\r\n          dark\r\n          padless\r\n        >\r\n          <v-card\r\n            min-width=\"100%\"\r\n            flat\r\n            tile\r\n            class=\"text-center\"\r\n          >\r\n            <v-card-text>\r\n              <v-btn\r\n                v-for=\"link, index in links\"\r\n                :key=\"index\"\r\n                class=\"mx-4\"\r\n                :href=\"link.url\"\r\n                target=\"blank\"\r\n                icon\r\n              >\r\n                <v-icon size=\"24px\">\r\n                  {{ link.icon }}\r\n                </v-icon>\r\n              </v-btn>\r\n            </v-card-text>\r\n\r\n            <v-card-text\r\n              class=\"pt-0\">\r\n              Mantra es una herramienta gestión de operaciones desarrollada para Microfilms Center.\r\n              Eres libre de escribir datos en esta versión de pruebas.\r\n            </v-card-text>\r\n\r\n            <v-divider></v-divider>\r\n\r\n            <v-card-text>\r\n              {{ new Date().getFullYear() }} — Desarrollado por <strong>Edgar Parucho</strong>\r\n            </v-card-text>\r\n          </v-card>\r\n        </v-footer>\r\n      </template>\r\n    </v-img>\r\n\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from 'vuex'\r\nexport default {\r\n  name: 'Login',\r\n  data: () => ({\r\n    loader: false,\r\n    selectedUser: '',\r\n    users: [\r\n      { text: 'Edgar Parucho (Admin)', value: { idDocument: '20826619', userPassword: '12345678' } },\r\n      { text: 'Samuel Vivas (Usuario - Almacén)', value: { idDocument: '15367597', userPassword: '12345678' } },\r\n      { text: 'Bryan Sanz (Usuario - Help Desk)', value: { idDocument: '20491188', userPassword: '12345678' } },\r\n      { text: 'Luis Romero (Invitado - Técnico de campo)', value: { idDocument: '5073093', userPassword: '12345678' } }\r\n    ],\r\n    links: [\r\n      { icon: 'mdi-whatsapp', url: 'https://wa.me/+584142861620' },\r\n      {\r\n        icon: 'mdi-linkedin',\r\n        url: 'https://www.linkedin.com/in/parucho'\r\n      },\r\n      { icon: 'mdi-email', url: 'mailto:parucho.edgar@outlook.es' }\r\n    ]\r\n  }),\r\n  computed: {\r\n    mobile () {\r\n      return this.$vuetify.breakpoint.name === 'xs' || this.$vuetify.breakpoint.name === 'sm'\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['logIn', 'getcollections']),\r\n    tryLog (user) {\r\n      this.loader = true\r\n      this.logIn(user)\r\n        .then((session) => {\r\n          this.$vuetify.theme.isDark = session.user.preferences.darkTheme\r\n          this.$session.start()\r\n          this.$session.set('session', session)\r\n          this.loader = false\r\n          this.getcollections()\r\n          this.$router.push('/')\r\n        })\r\n        .catch(() => this.loader = false)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=cf18ee60&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VFooter } from 'vuetify/lib/components/VFooter';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardSubtitle,VCardText,VCardTitle,VCol,VContainer,VDivider,VFooter,VForm,VIcon,VImg,VRow,VSelect,VSpacer,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"title\":_vm.technicianName,\"subtitle\":\"Indicadores individuales\"}}),_c('v-row',_vm._l((_vm.cards),function(card,index){return _c('v-col',{key:index,attrs:{\"cols\":_vm.mobile ? 12 : 4}},[_c('DashboardCard',{attrs:{\"cardInfo\":card,\"mobile\":_vm.mobile}})],1)}),1),_c('v-row',{attrs:{\"justify\":\"space-around\"}},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 3}},[(_vm.updatingState)?_c('v-sheet',{staticClass:\"pa-3\"},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"300\",\"type\":\"card\"}})],1):_c('Graph',{attrs:{\"id\":\"technicianGraph3\",\"updatingState\":_vm.updatingState,\"chartData\":_vm.userSLA,\"title\":\"Cumplimiento de S. L. A.\",\"subtitle\":_vm.thisYear}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[_c('v-alert',{attrs:{\"type\":\"success\",\"color\":\"info\",\"rounded\":\"pill\",\"text\":\"\"}},[_vm._v(\" Cerrados recientemente \")]),_c('v-chip-group',{attrs:{\"color\":\"secondary\",\"mandatory\":\"\"},model:{value:(_vm.currentWeek),callback:function ($$v) {_vm.currentWeek=$$v},expression:\"currentWeek\"}},[_c('v-chip',{attrs:{\"value\":true,\"filter\":\"\"}},[_vm._v(\"Semana en curso\")]),_c('v-chip',{attrs:{\"value\":false,\"filter\":\"\"}},[_vm._v(\"Semana pasada\")])],1),_c('v-expansion-panels',_vm._l((_vm.selectedWeekData),function(day,index){return _c('v-expansion-panel',{key:index,attrs:{\"disabled\":!day.services.length}},[_c('v-expansion-panel-header',[_vm._v(_vm._s(day.name))]),_c('v-expansion-panel-content',_vm._l((day.services),function(service,n){return _c('Panel',{key:n,attrs:{\"service\":service,\"mobile\":_vm.mobile}})}),1)],1)}),1)],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 3}},[(_vm.updatingState)?_c('v-sheet',{staticClass:\"pa-3\"},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"300\",\"type\":\"card\"}})],1):_c('Graph',{attrs:{\"id\":\"technicianGraph4\",\"updatingState\":_vm.updatingState,\"chartData\":_vm.userAveragePerVisits,\"title\":\"Visitas por servicio\",\"subtitle\":_vm.thisYear}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[(_vm.updatingState)?_c('v-sheet',{staticClass:\"pa-3\"},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"300\",\"type\":\"card\"}})],1):_c('Graph',{attrs:{\"id\":\"technicianGraph1\",\"updatingState\":_vm.updatingState,\"chartData\":_vm.servicesXClient,\"title\":\"Servicios por cliente\",\"subtitle\":_vm.thisYear}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[(_vm.updatingState)?_c('v-sheet',{staticClass:\"pa-3\"},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"300\",\"type\":\"card\"}})],1):_c('Graph',{attrs:{\"id\":\"technicianGraph2\",\"updatingState\":_vm.updatingState,\"chartData\":_vm.servicesXProduct,\"title\":\"Servicios por producto\",\"subtitle\":_vm.thisYear}})],1)],1),_c('v-row',[_c('v-col',[(_vm.updatingState)?_c('v-sheet',{staticClass:\"pa-3\"},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"300\",\"type\":\"card\"}})],1):_c('Graph',{attrs:{\"id\":\"technicianGraph5\",\"updatingState\":_vm.updatingState,\"chartData\":_vm.servicesXMonth,\"title\":\"Servicios por mes\",\"subtitle\":_vm.thisYear}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item',[_c('v-list-item-avatar',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.mobile),expression:\"!mobile\"}]},[_c('v-icon',{class:_vm.$vuetify.theme.dark ? 'dark' : 'gradients',attrs:{\"dark\":\"\"}},[_vm._v(\" mdi-label \")])],1),_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"font-weight-bold\"},[_c('v-badge',{staticClass:\"subtitle-1 font-weight-bold\",attrs:{\"value\":_vm.service.itsSpecial,\"bordered\":\"\",\"color\":\"accent\",\"icon\":\"mdi-medal-outline\"}},[_c('span',[_vm._v(_vm._s(_vm.service.reportCode ? _vm.service.reportCode : 'Mantenimiento'))])])],1),_c('v-list-item-subtitle',{staticClass:\"subtitle-1 text-wrap\"},[_vm._v(\" \"+_vm._s(_vm.service.officeName)+\" \")]),(_vm.service.reportCode)?_c('v-list-item-subtitle',{staticClass:\"subtitle-2 text-wrap\"},[_vm._v(\" \"+_vm._s(_vm.service.productType)+\" \")]):_vm._e(),(_vm.service.reportCode)?_c('v-list-item-subtitle',{staticClass:\"subtitle-2\"},[_vm._v(\" \"+_vm._s(_vm.service.serialCode)+\" \"),(_vm.service.relatedDocuments)?_c('v-tooltip',{attrs:{\"right\":\"\",\"small\":\"\",\"color\":\"accent\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"accent\"},on:{\"click\":function($event){return _vm.showHistory(_vm.service)}}},on),[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"accent\"}},[_vm._v(\" mdi-check \")])],1)]}}],null,false,903365508)},[_vm._v(\" Ver historial \")]):_c('v-tooltip',{attrs:{\"right\":\"\",\"small\":\"\",\"color\":\"accent\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [(_vm.service.serialCode !== 'SIN SERIAL')?_c('v-btn',_vm._g({attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.$emit('searchRelated', _vm.service)}}},on),[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"error\"}},[_vm._v(\" mdi-magnify \")])],1):_vm._e()]}}],null,false,3416682571)},[_vm._v(\" Buscar historial \")])],1):_vm._e()],1),_c('v-list-item-action',[_c('v-btn',{attrs:{\"disabled\":!_vm.service.reportCode,\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.showInterface(_vm.service)}}},[_c('v-icon',{attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-information-outline\")])],1)],1)],1)],1),_c('v-dialog',{attrs:{\"fullscreen\":_vm.detailsInterface,\"width\":_vm.mobile ? '90%' : '60%',\"persistent\":\"\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[(_vm.detailsInterface)?_c('CorrectiveInfo',{attrs:{\"mobile\":_vm.mobile,\"selectedDocument\":_vm.selectedDocument},on:{\"hideInterface\":_vm.hideInterface}}):_vm._e(),(_vm.inventoryInterface)?_c('MaintenanceInfo',{attrs:{\"selectedDocument\":_vm.selectedDocument},on:{\"hideInterface\":function($event){_vm.inventoryInterface = false}}}):_vm._e()],1)],1),_c('v-bottom-sheet',{attrs:{\"scrollable\":\"\"},model:{value:(_vm.bottomSheet),callback:function ($$v) {_vm.bottomSheet=$$v},expression:\"bottomSheet\"}},[_c('v-card',[_c('v-card-text',[(_vm.bottomSheet)?_c('ProductHistory',{attrs:{\"mobile\":_vm.mobile,\"relatedServices\":_vm.selectedServiceRelated},on:{\"showInterface\":_vm.showInterface,\"hideInterface\":function($event){_vm.bottomSheet = false}}}):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <v-list dense>\r\n      <v-list-item>\r\n        <v-list-item-avatar v-show=\"!mobile\">\r\n          <v-icon :class=\"$vuetify.theme.dark ? 'dark' : 'gradients'\" dark>\r\n            mdi-label\r\n          </v-icon>\r\n        </v-list-item-avatar>\r\n        <v-list-item-content>\r\n          <v-list-item-title class=\"font-weight-bold\">\r\n            <v-badge\r\n              class=\"subtitle-1 font-weight-bold\"\r\n              :value=\"service.itsSpecial\"\r\n              bordered\r\n              color=\"accent\"\r\n              icon=\"mdi-medal-outline\"\r\n            >\r\n              <span>{{ service.reportCode ? service.reportCode : 'Mantenimiento' }}</span>\r\n            </v-badge>\r\n          </v-list-item-title>\r\n          <v-list-item-subtitle class=\"subtitle-1 text-wrap\">\r\n            {{ service.officeName }}\r\n          </v-list-item-subtitle>\r\n          <v-list-item-subtitle class=\"subtitle-2 text-wrap\" v-if=\"service.reportCode\">\r\n            {{ service.productType }}\r\n          </v-list-item-subtitle>\r\n\r\n          <v-list-item-subtitle class=\"subtitle-2\" v-if=\"service.reportCode\">\r\n            {{ service.serialCode }}\r\n            <v-tooltip v-if=\"service.relatedDocuments\" right small color=\"accent\">\r\n              <template v-slot:activator=\"{ on }\">\r\n                <v-btn\r\n                  v-on=\"on\"\r\n                  icon\r\n                  small\r\n                  color=\"accent\"\r\n                  @click=\"showHistory(service)\"\r\n                >\r\n                  <v-icon small color=\"accent\">\r\n                    mdi-check\r\n                  </v-icon>\r\n                </v-btn>\r\n              </template>\r\n              Ver historial\r\n            </v-tooltip>\r\n\r\n            <v-tooltip v-else right small color=\"accent\">\r\n              <template v-slot:activator=\"{ on }\">\r\n                <v-btn\r\n                  v-if=\"service.serialCode !== 'SIN SERIAL'\"\r\n                  v-on=\"on\"\r\n                  icon\r\n                  small\r\n                  @click=\"$emit('searchRelated', service)\"\r\n                >\r\n                  <v-icon small color=\"error\">\r\n                    mdi-magnify\r\n                  </v-icon>\r\n                </v-btn>\r\n              </template>\r\n              Buscar historial\r\n            </v-tooltip>\r\n          </v-list-item-subtitle>\r\n        </v-list-item-content>\r\n        <v-list-item-action>\r\n          <v-btn @click=\"showInterface(service)\" :disabled=\"!service.reportCode\" icon small>\r\n            <v-icon color=\"primary\">mdi-information-outline</v-icon>\r\n          </v-btn>\r\n        </v-list-item-action>\r\n      </v-list-item>\r\n    </v-list>\r\n\r\n    <v-dialog\r\n      v-model=\"dialog\"\r\n      :fullscreen=\"detailsInterface\"\r\n      :width=\"mobile ? '90%' : '60%'\"\r\n      persistent\r\n    >\r\n      <v-card>\r\n        <CorrectiveInfo\r\n          v-if=\"detailsInterface\"\r\n          :mobile=\"mobile\"\r\n          :selectedDocument=\"selectedDocument\"\r\n          @hideInterface=\"hideInterface\"\r\n        />\r\n        <MaintenanceInfo\r\n          v-if=\"inventoryInterface\"\r\n          :selectedDocument=\"selectedDocument\"\r\n          @hideInterface=\"inventoryInterface = false\"\r\n        />\r\n      </v-card>\r\n    </v-dialog>\r\n\r\n    <v-bottom-sheet v-model=\"bottomSheet\" scrollable>\r\n      <v-card>\r\n        <v-card-text>\r\n          <ProductHistory\r\n            v-if=\"bottomSheet\"\r\n            :mobile=\"mobile\"\r\n            :relatedServices=\"selectedServiceRelated\"\r\n            @showInterface=\"showInterface\"\r\n            @hideInterface=\"bottomSheet = false\"\r\n          />\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-bottom-sheet>\r\n\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport CorrectiveInfo from '@/components/corrective/CorrectiveInfo'\r\nimport ProductHistory from '@/components/corrective/ProductHistory'\r\nimport MaintenanceInfo from '@/components/preventive/MaintenanceInfo'\r\nimport { mapState, mapActions, mapMutations } from 'vuex'\r\n\r\nexport default {\r\n  name: 'Panel',\r\n  props: ['service', 'mobile'],\r\n  components: {\r\n    CorrectiveInfo,\r\n    ProductHistory,\r\n    MaintenanceInfo\r\n  },\r\n  data: () => {\r\n    return {\r\n      inventoryInterface: false,\r\n      detailsInterface: false,\r\n      bottomSheet: false,\r\n      searching: false,\r\n      dialog: false,\r\n      selectedDocument: {},\r\n      selectedServiceRelated: []\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    ...mapState(['collections'])\r\n  },\r\n\r\n  methods: {\r\n\r\n    ...mapMutations(['setRelatedDocuments']),\r\n\r\n    ...mapActions(['findDocuments']),\r\n\r\n    hideInterface () {\r\n      this.dialog = false\r\n      this.selectedDocument = {}\r\n      this.detailsInterface = false\r\n    },\r\n\r\n    showInterface (service) {\r\n      this.dialog = true\r\n      this.selectedDocument = Object.assign({}, service)\r\n      this.detailsInterface = true\r\n    },\r\n\r\n    showHistory (service) {\r\n      this.selectedServiceRelated = service.relatedDocuments\r\n      this.bottomSheet = true\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Panel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Panel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Panel.vue?vue&type=template&id=da89a9f8&\"\nimport script from \"./Panel.vue?vue&type=script&lang=js&\"\nexport * from \"./Panel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBadge } from 'vuetify/lib/components/VBadge';\nimport { VBottomSheet } from 'vuetify/lib/components/VBottomSheet';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBadge,VBottomSheet,VBtn,VCard,VCardText,VContainer,VDialog,VIcon,VList,VListItem,VListItemAction,VListItemAvatar,VListItemContent,VListItemSubtitle,VListItemTitle,VTooltip})\n","<template>\r\n  <v-container>\r\n    <Header :title=\"technicianName\" subtitle=\"Indicadores individuales\" />\r\n    <v-row>\r\n      <v-col v-for=\"card, index in cards\" :key=\"index\" :cols=\"mobile ? 12 : 4\">\r\n        <DashboardCard :cardInfo=\"card\" :mobile=\"mobile\" />\r\n      </v-col>\r\n    </v-row>\r\n    \r\n    <v-row justify=\"space-around\">\r\n      <v-col :cols=\"mobile ? 12 : 3\">\r\n        <v-sheet class=\"pa-3\" v-if=\"updatingState\">\r\n          <v-skeleton-loader\r\n            class=\"mx-auto\"\r\n            max-width=\"300\"\r\n            type=\"card\"\r\n          ></v-skeleton-loader>\r\n        </v-sheet>\r\n        <Graph v-else id=\"technicianGraph3\" :updatingState=\"updatingState\"\r\n          :chartData=\"userSLA\" title=\"Cumplimiento de S. L. A.\" :subtitle=\"thisYear\"\r\n        />\r\n      </v-col>\r\n      <v-col :cols=\"mobile ? 12 : 6\">\r\n        <v-alert type=\"success\" color=\"info\" rounded=\"pill\" text>\r\n          Cerrados recientemente\r\n        </v-alert>\r\n        <v-chip-group v-model=\"currentWeek\" color=\"secondary\" mandatory>\r\n          <v-chip :value=\"true\" filter>Semana en curso</v-chip>\r\n          <v-chip :value=\"false\" filter>Semana pasada</v-chip>\r\n        </v-chip-group>\r\n        <v-expansion-panels>\r\n          <v-expansion-panel v-for=\"day, index of selectedWeekData\" :key=\"index\" :disabled=\"!day.services.length\">\r\n            <v-expansion-panel-header>{{ day.name }}</v-expansion-panel-header>\r\n            <v-expansion-panel-content>\r\n              <Panel v-for=\"service, n of day.services\" :key=\"n\" :service=\"service\" :mobile=\"mobile\" />\r\n            </v-expansion-panel-content>\r\n          </v-expansion-panel>\r\n        </v-expansion-panels>\r\n      </v-col>\r\n      <v-col :cols=\"mobile ? 12 : 3\">\r\n        <v-sheet class=\"pa-3\" v-if=\"updatingState\">\r\n          <v-skeleton-loader\r\n            class=\"mx-auto\"\r\n            max-width=\"300\"\r\n            type=\"card\"\r\n          ></v-skeleton-loader>\r\n        </v-sheet>\r\n        <Graph v-else id=\"technicianGraph4\" :updatingState=\"updatingState\"\r\n          :chartData=\"userAveragePerVisits\" title=\"Visitas por servicio\" :subtitle=\"thisYear\"\r\n        />\r\n      </v-col>\r\n    </v-row>\r\n    <v-row>\r\n      <v-col :cols=\"mobile ? 12 : 6\">\r\n        <v-sheet class=\"pa-3\" v-if=\"updatingState\">\r\n          <v-skeleton-loader\r\n            class=\"mx-auto\"\r\n            max-width=\"300\"\r\n            type=\"card\"\r\n          ></v-skeleton-loader>\r\n        </v-sheet>\r\n        <Graph v-else id=\"technicianGraph1\" :updatingState=\"updatingState\"\r\n          :chartData=\"servicesXClient\" title=\"Servicios por cliente\" :subtitle=\"thisYear\"\r\n        />\r\n      </v-col>\r\n      <v-col :cols=\"mobile ? 12 : 6\">\r\n        <v-sheet class=\"pa-3\" v-if=\"updatingState\">\r\n          <v-skeleton-loader\r\n            class=\"mx-auto\"\r\n            max-width=\"300\"\r\n            type=\"card\"\r\n          ></v-skeleton-loader>\r\n        </v-sheet>\r\n        <Graph v-else id=\"technicianGraph2\" :updatingState=\"updatingState\"\r\n          :chartData=\"servicesXProduct\" title=\"Servicios por producto\" :subtitle=\"thisYear\"\r\n        />\r\n      </v-col>\r\n    </v-row>\r\n    <v-row>\r\n      <v-col>\r\n        <v-sheet class=\"pa-3\" v-if=\"updatingState\">\r\n          <v-skeleton-loader\r\n            class=\"mx-auto\"\r\n            max-width=\"300\"\r\n            type=\"card\"\r\n          ></v-skeleton-loader>\r\n        </v-sheet>\r\n        <Graph v-else id=\"technicianGraph5\" :updatingState=\"updatingState\"\r\n          :chartData=\"servicesXMonth\" title=\"Servicios por mes\" :subtitle=\"thisYear\"\r\n        />\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { mapState, mapGetters } from 'vuex'\r\nimport Header from '@/components/generals/Header'\r\nimport Panel from '@/components/generals/Panel'\r\nimport moment from 'moment-timezone'\r\nimport Graph from '@/components/generals/Graph'\r\nimport DashboardCard from '@/components/generals/DashboardCard'\r\n\r\nexport default {\r\n  name: 'Technician',\r\n  components: { Header, DashboardCard, Graph, Panel },\r\n  \r\n  data:() => ({\r\n    currentWeek: true\r\n  }),\r\n\r\n\r\n  computed: {\r\n    \r\n    ...mapState(['collections', 'updatingState']),\r\n    ...mapGetters(['formOptions']),\r\n\r\n    mobile () {\r\n      return this.$vuetify.breakpoint.name === 'xs' || this.$vuetify.breakpoint.name === 'sm'\r\n    },\r\n\r\n    technicianName () {\r\n      const selectedUser = this.collections.User.find(user => user._id === this.$route.params.id)\r\n      return selectedUser ? `${selectedUser.firstName} ${selectedUser.lastName}` : ''\r\n    },\r\n\r\n    selectedWeekNumber () {\r\n      const thisWeek = moment(new Date()).isoWeek()\r\n      return this.currentWeek ? thisWeek : thisWeek - 1\r\n    },\r\n\r\n    selectedWeekData () {\r\n      const days = ['lunes', 'martes', 'miércoles', 'jueves', 'viernes']\r\n      const data = []\r\n      for (const day of days) {\r\n        const dayCorrectives = service => service.documentation.find(\r\n          ({ date, visit }) => moment(date).parseZone('America/Caracas').format('dddd') === day\r\n          && moment(date).parseZone('America/Caracas').isoWeek() === this.selectedWeekNumber\r\n          && visit\r\n        )\r\n        const dayPreventives = ({ schedule }) => moment(schedule.scheduledDate).parseZone('America/Caracas').format('dddd') === day\r\n          && moment(schedule.scheduledDate).parseZone('America/Caracas').isoWeek() === this.selectedWeekNumber\r\n        const correctives = this.userServices.closeds.filter(dayCorrectives)\r\n        const preventives = this.userServices.maintenances.filter(dayPreventives)\r\n        data.push({\r\n          name: day,\r\n          services: [...correctives, ...preventives]\r\n        })\r\n      }\r\n      return data\r\n    },\r\n\r\n    cards () {\r\n      return [\r\n        { data: this.userServices.actives, title: 'Asignaciones', icon: require('@/assets/svg/resume.svg') },\r\n        { data: this.userServices.closeds, title: `Cerrados - ${this.thisYear}` , icon: require('@/assets/svg/calendar.svg') },\r\n        { data: this.userServices.notValidated, title: 'Por validar', icon: require('@/assets/svg/messages.svg') }\r\n      ]\r\n    },\r\n\r\n    userServices () {\r\n      const filterByUser = service => service.schedule.technician._id === this.$route.params.id\r\n      const reportNotValidated = service => service.documentation.find(\r\n        register => register.serviceOrder && !register.serviceOrder.validated && register.serviceOrder.number !== ''\r\n      )\r\n      const activeReports = this.collections.Active.filter(filterByUser)\r\n      const activeMaintenances = this.collections.Maintenance.filter(service => service.schedule.technician._id === this.$route.params.id\r\n        && service.status !== 'Validado' && service.status !== 'Culminado')\r\n      const actives = [...activeReports, ...activeMaintenances]\r\n      const maintenances = this.collections.Maintenance.filter(filterByUser)\r\n      const closeds = this.collections.Closed.filter(filterByUser)\r\n      const notValidated = [\r\n        ...maintenances.filter(service => service.status === 'Culminado'),\r\n        ...closeds.filter(reportNotValidated)\r\n      ]\r\n      const productsPerMaintenance = maintenances.reduce((acc, val) => [...val.inventory], [])\r\n      return { actives, closeds, maintenances, notValidated, productsPerMaintenance }\r\n    },\r\n\r\n    servicesXClient () {\r\n      const type = 'bar'\r\n      const options = {}\r\n      const labels = this.formOptions.clients.map(client => client.clientName)\r\n      const data = {\r\n        labels,\r\n        datasets: [\r\n          { label: 'Correctivo', data: [], backgroundColor: this.$vuetify.theme.currentTheme.primary, borderRadius: 5 },\r\n          { label: 'Preventivo', data: [], backgroundColor: this.$vuetify.theme.currentTheme.accent, borderRadius: 5 }\r\n        ]\r\n      }\r\n      for (const client of data.labels) {\r\n        const servicesPerClient = service => service.clientName === client\r\n        data.datasets[0].data.push(this.userServices.closeds.filter(servicesPerClient).length)\r\n        data.datasets[1].data.push(this.userServices.maintenances.filter(servicesPerClient).length)\r\n      }\r\n      return { type, data, options }\r\n    },\r\n\r\n    servicesXProduct () {\r\n      let labels = this.collections.Product.map(product => product.productType)\r\n      labels = [...new Set(labels)].sort()\r\n      const chart = {\r\n        title: 'Servicios por producto',\r\n        config: {\r\n          type: 'bar',\r\n          options: { indexAxis: 'y' },\r\n          data: {\r\n            labels,\r\n            datasets: [\r\n              {\r\n                label: 'Correctivo',\r\n                data: [],\r\n                backgroundColor: this.$vuetify.theme.currentTheme.primary\r\n              },\r\n              {\r\n                label: 'Preventivo',\r\n                data: [],\r\n                backgroundColor: this.$vuetify.theme.currentTheme.accent\r\n              }\r\n            ]\r\n          }\r\n        }\r\n      }\r\n      for (const label of labels) {\r\n        const servicesPerProduct = service => service.productType === label\r\n        chart.config.data.datasets[0].data.push(this.userServices.closeds.filter(servicesPerProduct).length)\r\n        chart.config.data.datasets[1].data.push(this.userServices.productsPerMaintenance.filter(servicesPerProduct).length)\r\n      }\r\n      return chart.config\r\n    },\r\n\r\n    userSLA () {\r\n      const type = 'doughnut'\r\n      const options = {}\r\n      const labels = ['Dentro del acuerdo', 'Fuera del acuerdo']\r\n      const data = {\r\n        labels,\r\n        datasets: [\r\n          { label: 'Dentro del acuerdo', data: [], backgroundColor: [this.$vuetify.theme.currentTheme.primary, this.$vuetify.theme.currentTheme.error] }\r\n        ]\r\n      }\r\n      const reports = this.userServices.closeds.filter(service => !service.itsSpecial)\r\n      const slaOk = reports.filter(service => !service.expired)\r\n      const slaExpired = reports.filter(service => service.expired)\r\n      data.datasets[0].data.push(slaOk.length)\r\n      data.datasets[0].data.push(slaExpired.length)\r\n      return { type, data, options }\r\n    },\r\n\r\n    userAveragePerVisits () {\r\n      const type = 'pie'\r\n      const options = {}\r\n      const labels = ['1 visita', '2 o más visitas']\r\n      const data = {\r\n        labels,\r\n        datasets: [\r\n          { data: [], backgroundColor: [this.$vuetify.theme.currentTheme.primary, this.$vuetify.theme.currentTheme.error] }\r\n        ]\r\n      }\r\n      const oneVisitServices = this.userServices.closeds.filter(service => service.documentation.filter(register => register.visit).length === 1)\r\n      const overOneVisitServices = this.userServices.closeds.filter(service => service.documentation.filter(register => register.visit).length > 1)\r\n      data.datasets[0].data.push(oneVisitServices.length)\r\n      data.datasets[0].data.push(overOneVisitServices.length)\r\n      return { type, data, options }\r\n    },\r\n\r\n    servicesXMonth () {\r\n      const labels = [\r\n        'enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio',\r\n        'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre'\r\n      ]\r\n      const type = 'line'\r\n      const options = {}\r\n      const data = {\r\n        labels,\r\n        datasets: [\r\n          { label: 'Correctivo', data: [], borderColor: this.$vuetify.theme.currentTheme.primary },\r\n          { label: 'Preventivo', data: [], borderColor: this.$vuetify.theme.currentTheme.accent }\r\n        ]\r\n      }\r\n      for (const label of labels) {\r\n        const monthServices = service => moment(service.schedule.scheduledDate).format('MMMM') === label\r\n        data.datasets[0].data.push(this.userServices.closeds.filter(monthServices).length)\r\n        data.datasets[1].data.push(this.userServices.maintenances.filter(monthServices).length)\r\n      }\r\n      return { type, data, options }\r\n    },\r\n\r\n    thisYear () {\r\n      return moment(new Date()).format('YYYY')\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Technician.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Technician.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Technician.vue?vue&type=template&id=11087566&\"\nimport script from \"./Technician.vue?vue&type=script&lang=js&\"\nexport * from \"./Technician.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\ninstallComponents(component, {VAlert,VChip,VChipGroup,VCol,VContainer,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VRow,VSheet,VSkeletonLoader})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Header',{attrs:{\"title\":\"Personal técnico\",\"subtitle\":\"Indicadores individuales\"}}),_c('v-row',{attrs:{\"justify\":\"space-around\"}},[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[(_vm.updatingState)?_c('v-sheet',{staticClass:\"pa-3\"},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"300\",\"type\":\"card\"}})],1):_c('Graph',{attrs:{\"id\":\"techniciansGraph1\",\"updatingState\":_vm.updatingState,\"chartData\":_vm.productsPerTechnician,\"title\":\"Productos atendidos\",\"subtitle\":(\"Atenciones - \" + _vm.thisYear)}})],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 6}},[(_vm.updatingState)?_c('v-sheet',{staticClass:\"pa-3\"},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"300\",\"type\":\"card\"}})],1):_c('Graph',{attrs:{\"id\":\"techniciansGraph2\",\"updatingState\":_vm.updatingState,\"chartData\":_vm.servicesPerState,\"title\":\"Productos por estado\",\"subtitle\":(\"Atenciones - \" + _vm.thisYear)}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 8}},[_c('v-card',[_c('v-card-title',[_vm._v(\" Resumen \"),_c('v-spacer'),_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Buscar\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-data-table',{attrs:{\"search\":_vm.search,\"items\":_vm.techniciansStats,\"headers\":_vm.tableHeaders},scopedSlots:_vm._u([{key:\"item.name\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('RouterLink',{attrs:{\"to\":(\"/technician/\" + (item._id))}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])]}},{key:\"item.oneVisitReports\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(_vm._f(\"average\")(item.oneVisitReports))+\" \")]}}])})],1)],1),_c('v-col',{attrs:{\"cols\":_vm.mobile ? 12 : 4}},[(_vm.updatingState)?_c('v-sheet',{staticClass:\"pa-3\"},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"300\",\"type\":\"card\"}})],1):_c('Graph',{attrs:{\"id\":\"techniciansGraph3\",\"updatingState\":_vm.updatingState,\"chartData\":_vm.oneVisitAverage,\"title\":\"Efectividad en 1era visita\",\"subtitle\":(\"Atenciones - \" + _vm.thisYear)}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <Header title=\"Personal técnico\" subtitle=\"Indicadores individuales\" />\r\n    \r\n    <v-row justify=\"space-around\">\r\n      <v-col :cols=\"mobile ? 12 : 6\">\r\n        <v-sheet class=\"pa-3\" v-if=\"updatingState\">\r\n          <v-skeleton-loader\r\n            class=\"mx-auto\"\r\n            max-width=\"300\"\r\n            type=\"card\"\r\n          ></v-skeleton-loader>\r\n        </v-sheet>\r\n        <Graph v-else id=\"techniciansGraph1\" :updatingState=\"updatingState\"\r\n          :chartData=\"productsPerTechnician\" title=\"Productos atendidos\" :subtitle=\"`Atenciones - ${thisYear}`\"\r\n        />\r\n      </v-col>\r\n      <v-col :cols=\"mobile ? 12 : 6\">\r\n        <v-sheet class=\"pa-3\" v-if=\"updatingState\">\r\n          <v-skeleton-loader\r\n            class=\"mx-auto\"\r\n            max-width=\"300\"\r\n            type=\"card\"\r\n          ></v-skeleton-loader>\r\n        </v-sheet>\r\n        <Graph v-else id=\"techniciansGraph2\" :updatingState=\"updatingState\"\r\n          :chartData=\"servicesPerState\" title=\"Productos por estado\" :subtitle=\"`Atenciones - ${thisYear}`\"\r\n        />\r\n      </v-col>\r\n    </v-row>\r\n    <v-row>\r\n      <v-col :cols=\"mobile ? 12 : 8\">\r\n        <v-card>\r\n          <v-card-title>\r\n            Resumen\r\n            <v-spacer></v-spacer>\r\n            <v-text-field\r\n              v-model=\"search\"\r\n              append-icon=\"mdi-magnify\"\r\n              label=\"Buscar\"\r\n              single-line\r\n              hide-details\r\n            ></v-text-field>\r\n          </v-card-title>\r\n          <v-data-table\r\n            :search=\"search\"\r\n            :items=\"techniciansStats\"\r\n            :headers=\"tableHeaders\"\r\n          >\r\n            <template v-slot:item.name=\"{ item }\">\r\n              <RouterLink :to=\"`/technician/${item._id}`\">\r\n                {{ item.name }}\r\n              </RouterLink>\r\n            </template>\r\n            <template v-slot:item.oneVisitReports=\"{ item }\">\r\n              {{ item.oneVisitReports | average }}\r\n            </template>\r\n          </v-data-table>\r\n        </v-card>\r\n      </v-col>\r\n      <v-col :cols=\"mobile ? 12 : 4\">\r\n        <v-sheet class=\"pa-3\" v-if=\"updatingState\">\r\n          <v-skeleton-loader\r\n            class=\"mx-auto\"\r\n            max-width=\"300\"\r\n            type=\"card\"\r\n          ></v-skeleton-loader>\r\n        </v-sheet>\r\n        <Graph v-else id=\"techniciansGraph3\" :updatingState=\"updatingState\"\r\n          :chartData=\"oneVisitAverage\" title=\"Efectividad en 1era visita\" :subtitle=\"`Atenciones - ${thisYear}`\"\r\n        />\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { states } from '@/helpers/form'\r\nimport { mapState, mapGetters } from 'vuex'\r\nimport Header from '@/components/generals/Header'\r\nimport moment from 'moment-timezone'\r\nimport Graph from '@/components/generals/Graph'\r\n\r\nexport default {\r\n  name: 'Technicians',\r\n  components: { Header, Graph },\r\n  \r\n  data:() => ({\r\n    states,\r\n    tableHeaders: [\r\n      { text: 'Técnico', value: 'name' },\r\n      { text: 'Productos por correctivo', value: 'totalReports' },\r\n      { text: 'Productos por preventivo', value: 'totalMaintenances' },\r\n      { text: 'Efectividad (1 visita)', value: 'oneVisitReports'}\r\n    ],\r\n    search: ''\r\n  }),\r\n\r\n  filters: {\r\n    average (val) {\r\n      return `${val}%`\r\n    }\r\n  },\r\n\r\n  computed: {\r\n\r\n    ...mapState(['collections', 'updatingState']),\r\n    ...mapGetters(['formOptions']),\r\n\r\n    mobile () {\r\n      return this.$vuetify.breakpoint.name === 'xs' || this.$vuetify.breakpoint.name === 'sm'\r\n    },\r\n\r\n    productsPerMaintenance () {\r\n      const closedMaintenance = this.collections.Maintenance.filter(service => service.status !== 'Asignado')\r\n      return closedMaintenance.reduce((acc, val) => [...val.inventory], [])\r\n    },\r\n\r\n    productsPerTechnician () {\r\n      let labels = this.collections.User.filter(user => user.assignable)\r\n      labels = labels.map(user => `${user.firstName} ${user.lastName}`).sort()\r\n      const chart = {\r\n        type: 'line',\r\n        options: {},\r\n        data: {\r\n          labels,\r\n          datasets: [\r\n            {\r\n              label: 'Correctivo',\r\n              data: [],\r\n              borderColor: this.$vuetify.theme.currentTheme.primary\r\n            },\r\n            {\r\n              label: 'Preventivo',\r\n              data: [],\r\n              borderColor: this.$vuetify.theme.currentTheme.accent\r\n            }\r\n          ]\r\n        }\r\n      }\r\n      for (const label of labels) {\r\n        const userServices = service => service.schedule.technician.fullName === label\r\n        chart.data.datasets[0].data.push(this.collections.Closed.filter(userServices).length)\r\n        chart.data.datasets[1].data.push(this.productsPerMaintenance.filter(userServices).length)\r\n      }\r\n      return chart\r\n    },\r\n\r\n    servicesPerState () {\r\n      const chart = {\r\n        type: 'line',\r\n        options: {},\r\n        data: {\r\n          labels: this.states,\r\n          datasets: [\r\n            {\r\n              label: 'Correctivo',\r\n              data: [],\r\n              backgroundColor: this.$vuetify.theme.currentTheme.primary\r\n            },\r\n            {\r\n              label: 'Preventivo',\r\n              data: [],\r\n              backgroundColor: this.$vuetify.theme.currentTheme.accent\r\n            }\r\n          ]\r\n        }\r\n      }\r\n      for (const label of chart.data.labels) {\r\n        const stateServices = service => service.officeState === label\r\n        chart.data.datasets[0].data.push(this.collections.Closed.filter(stateServices).length)\r\n        chart.data.datasets[1].data.push(this.productsPerMaintenance.filter(stateServices).length)\r\n      }\r\n      return chart\r\n    },\r\n\r\n    oneVisitAverage () {\r\n      const type = 'pie'\r\n      const options = {\r\n        plugins: {\r\n          tooltip: {\r\n            callbacks: {\r\n              label: context => {\r\n                return ` ${context.label}: ${context.parsed}%`\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      const labels = ['1 visita', '2 o más visitas']\r\n      const data = {\r\n        labels,\r\n        datasets: [\r\n          { data: [], backgroundColor: [this.$vuetify.theme.currentTheme.primary, this.$vuetify.theme.currentTheme.error] }\r\n        ]\r\n      }\r\n      const oneVisitServices = this.techniciansStats.reduce((acc, val) => acc + val.oneVisitReports, 0) / this.techniciansStats.length\r\n      data.datasets[0].data.push(Math.round(oneVisitServices))\r\n      data.datasets[0].data.push(100 - Math.round(oneVisitServices))\r\n      return { type, data, options }\r\n    },\r\n\r\n    techniciansStats () {\r\n      const technicians = this.collections.User.filter(user => user.assignable)\r\n      const stats = []\r\n      for (const technician of technicians) {\r\n        const totalReports = this.collections.Closed.filter(service => service.schedule.technician._id === technician._id)\r\n        const totalMaintenances = this.productsPerMaintenance.filter(service => service.schedule.technician._id === technician._id)\r\n        const oneVisitReports = totalReports.filter(service => service.documentation.filter(register => register.visit).length === 1)\r\n        const average = totalReports.length ? (oneVisitReports.length * 100) / totalReports.length : 0\r\n        stats.push({\r\n          _id: technician._id,\r\n          name: `${technician.firstName} ${technician.lastName}`,\r\n          totalReports: totalReports.length,\r\n          totalMaintenances: totalMaintenances.length,\r\n          oneVisitReports: Math.round(average),\r\n        })\r\n      }\r\n      return stats\r\n    },\r\n\r\n    thisYear () {\r\n      return moment(new Date()).format('YYYY')\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Technicians.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Technicians.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Technicians.vue?vue&type=template&id=00be32d4&\"\nimport script from \"./Technicians.vue?vue&type=script&lang=js&\"\nexport * from \"./Technicians.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VCard,VCardTitle,VCol,VContainer,VDataTable,VRow,VSheet,VSkeletonLoader,VSpacer,VTextField})\n","import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport Dashboard from '../views/Dashboard.vue'\r\nimport Corrective from '../views/Corrective.vue'\r\nimport Preventive from '../views/Preventive.vue'\r\nimport Consultation from '../views/Consultation.vue'\r\nimport Pieces from '../views/Pieces.vue'\r\nimport Requests from '../views/Requests.vue'\r\nimport Dispatches from '../views/Dispatches.vue'\r\nimport Clients from '../views/Clients.vue'\r\nimport Products from '../views/Products.vue'\r\nimport Offices from '../views/Offices.vue'\r\nimport Users from '../views/Users.vue'\r\nimport Login from '../views/Login.vue'\r\nimport Technician from '../views/Technician.vue'\r\nimport Technicians from '../views/Technicians.vue'\r\n\r\n// import store from '../store'\r\n\r\nVue.use(VueRouter)\r\n\r\nconst routes = [\r\n  {\r\n    path: '/login',\r\n    name: 'Login',\r\n    component: Login\r\n  },\r\n  {\r\n    path: '/technician/:id',\r\n    name: 'Technician',\r\n    component: Technician\r\n  },\r\n  {\r\n    path: '/',\r\n    name: 'Dashboard',\r\n    component: Dashboard\r\n  },\r\n  {\r\n    path: '/correctivo',\r\n    name: 'Corrective',\r\n    component: Corrective\r\n  },\r\n  {\r\n    path: '/consultas',\r\n    name: 'Consultation',\r\n    component: Consultation\r\n  },\r\n  // Storehouse\r\n  {\r\n    path: '/piezas',\r\n    name: 'Pieces',\r\n    component: Pieces,\r\n    meta: { adminOnly: true }\r\n  },\r\n  {\r\n    path: '/solicitudes',\r\n    name: 'Requests',\r\n    component: Requests\r\n  },\r\n  {\r\n    path: '/despachos',\r\n    name: 'Dispatches',\r\n    component: Dispatches\r\n  },\r\n  {\r\n    path: '/clientes',\r\n    name: 'Clients',\r\n    component: Clients\r\n  },\r\n  {\r\n    path: '/productos',\r\n    name: 'Products',\r\n    component: Products,\r\n    meta: { adminOnly: true }\r\n  },\r\n  {\r\n    path: '/preventivo',\r\n    name: 'Preventive',\r\n    component: Preventive\r\n  },\r\n  {\r\n    path: '/tecnicos',\r\n    name: 'Technicians',\r\n    component: Technicians\r\n  },\r\n  {\r\n    path: '/oficinas',\r\n    name: 'Offices',\r\n    component: Offices\r\n  },\r\n  {\r\n    path: '/usuarios',\r\n    name: 'Users',\r\n    component: Users,\r\n    meta: { adminOnly: true }\r\n  }\r\n]\r\n\r\nconst router = new VueRouter({\r\n  mode: 'history',\r\n  base: process.env.BASE_URL,\r\n  routes\r\n})\r\n\r\n// router.beforeEach((to, from, next) => {\r\n//   const routeIsPrivate = to.matched.some(item => item.meta.adminOnly)\r\n//   if (routeIsPrivate && !store.state.session.user.userRole > 1) {\r\n//     console.log(store.state)\r\n//     store.commit('showSnackbar', { error: 'Ha intentado acceder a una ruta privada' })\r\n//     next('/')\r\n//   } else {\r\n//     console.log(routeIsPrivate, store.state.session.user.userRole)\r\n//     next()\r\n//   }\r\n// })\r\n\r\nexport default router\r\n","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport axios from 'axios'\r\nimport moment from 'moment-timezone'\r\n\r\nconst unhandled = 'Error inesperado. Verifique la conexión, recargue la página e intente nuevamente'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    updatingState: false,\r\n    collections: {\r\n      Active: [],\r\n      Client: [],\r\n      Closed: [],\r\n      Email: [],\r\n      Maintenance: [],\r\n      Office: [],\r\n      Piece: [],\r\n      Product: [],\r\n      Request: [],\r\n      User: []\r\n    },\r\n    session: { user: null, token: null },\r\n    // App's alert: \r\n    snackbar: { activated: false, title: '', message: '', error: '' },\r\n    failedEmails: []\r\n  },\r\n\r\n  mutations: {\r\n\r\n    logIn (state, session) {\r\n      state.session = session\r\n    },\r\n\r\n    logOut (state) {\r\n      state.session = {\r\n        user: null,\r\n        token: null\r\n      }\r\n    },\r\n\r\n    toggleLoader (state) {\r\n      state.updatingState = !state.updatingState\r\n    },\r\n\r\n    showSnackbar (state, { error, message }) {\r\n      state.snackbar = {\r\n        activated: true,\r\n        title: error ? 'Acción denegada' : 'Acción realizada',\r\n        message: error || message,\r\n        error\r\n      }\r\n    },\r\n\r\n    setCollection (state, collection) {\r\n      state.collections[collection.name] = collection.data\r\n    },\r\n\r\n    addNewDocument (state, { collection, body }) {\r\n      if (!state.collections[collection]) return\r\n      state.collections[collection].push(body)\r\n    },\r\n\r\n    updateDocument (state, { collection, body }) {\r\n      if (!state.collections[collection]) return\r\n      const index = state.collections[collection].findIndex(item => item._id === body._id)\r\n      if (index !== -1) state.collections[collection].splice(index, 1, body)\r\n    },\r\n\r\n    removeDocument (state, { collection, body }) {\r\n      if (!state.collections[collection]) return\r\n      const index = state.collections[collection].findIndex(item => item._id === body._id)\r\n      if (index !== -1) state.collections[collection].splice(index, 1)\r\n    },\r\n\r\n    setRelatedDocuments (state, relatedDocuments) {\r\n      const index = state.collections.Active.findIndex(document => document.serialCode === relatedDocuments.serialCode)\r\n      const updated = Object.assign({}, state.collections.Active[index])\r\n      updated.relatedDocuments = relatedDocuments.data\r\n      state.collections.Active.splice(index, 1, updated)\r\n    },\r\n\r\n    logEmails (state, emails) {\r\n      for (const email of emails) {\r\n        const alreadyLogged = state.failedEmails.find(item => item.html === email.html)\r\n        if (!alreadyLogged) state.failedEmails.push(email)\r\n      }\r\n      console.log(state.failedEmails)\r\n    },\r\n\r\n    removeEmail (state, index) {\r\n      state.failedEmails.splice(index, 1)\r\n    }\r\n\r\n  },\r\n\r\n  actions: {\r\n\r\n    logIn ({ commit }, user) {\r\n      return new Promise ((resolve, reject) => {\r\n        axios.post('/login', user)\r\n          .then(({ data }) => {\r\n            if (data.error) return reject(commit('showSnackbar', { error: data.error }))\r\n            else {\r\n              commit('logIn', data),\r\n              commit('showSnackbar', { message: `${data.user.firstName}, te damos la bienvenida` }),\r\n              resolve(data)\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            commit('showSnackbar', { error: unhandled })\r\n            reject(error)\r\n            console.error(error)\r\n          })\r\n      })\r\n    },\r\n\r\n    getcollections ({ state, dispatch, commit }) {\r\n      commit('toggleLoader')\r\n      const collections = Object.keys(state.collections)\r\n      const actions = []\r\n\r\n      for (const collection of collections) actions.push(dispatch('getCollection', collection))\r\n\r\n      Promise.all(actions)\r\n        .then(() => commit('toggleLoader'))\r\n        .catch((error) => {\r\n          commit('showSnackbar', { error: unhandled })\r\n          console.error(error)\r\n        })\r\n    },\r\n\r\n    getCollection ({ state, commit }, collection) {\r\n      let filter = 'all'\r\n\r\n      if (collection === 'Closed' || collection === 'Maintenance') {\r\n        const thisYearFirst = `${moment(new Date()).format('yyyy')}-01-01`\r\n        filter = thisYearFirst\r\n      }\r\n\r\n      return new Promise ((resolve, reject) => {\r\n        axios.get(`/${collection}/${filter}`, { headers: { 'auth-token': state.session.token } })\r\n          .then(({ data }) => {\r\n            if (data.error) return reject(commit('showSnackbar', { error: data.error }))\r\n            else resolve(commit('setCollection', { name: collection, data }))\r\n          })\r\n          .catch((error) => reject(\r\n            commit('showSnackbar', { error: unhandled }),\r\n            console.error(error)\r\n          ))\r\n      })\r\n\r\n    },\r\n\r\n    createDocument ({ state, commit }, { collection, body }) {\r\n      commit('toggleLoader')\r\n      return new Promise ((resolve, reject) => {\r\n        axios.post(collection, body, { headers: { 'auth-token': state.session.token } })\r\n          .then(({ data }) => {\r\n            if (data.error) return reject(commit('showSnackbar', { error: data.error }))\r\n            else resolve(\r\n              commit('addNewDocument', { collection, body: data }),\r\n              commit('showSnackbar', { message: 'Base de datos actualizada' })\r\n            )\r\n          })\r\n          .catch((error) => reject(\r\n            commit('showSnackbar', { error: unhandled }),\r\n            console.error(error)\r\n          ))\r\n          .finally(() => commit('toggleLoader'))\r\n      })\r\n    },\r\n\r\n    deleteDocument ({ state, commit }, { collection, body }) {\r\n      commit('toggleLoader')\r\n      return new Promise ((resolve, reject) => {\r\n        axios.delete(`/${collection}/${body._id}`, { headers: { 'auth-token': state.session.token } })\r\n          .then(({ data }) => {\r\n            if (data.error) return reject(commit('showSnackbar', { error: data.error }))\r\n            else resolve(\r\n              commit('removeDocument', { collection, body: data }),\r\n              commit('showSnackbar', { message: 'Base de datos actualizada' })\r\n            )\r\n          })\r\n          .catch((error) => reject(\r\n            commit('showSnackbar', { error: unhandled }),\r\n            console.error(error)\r\n          ))\r\n          .finally(() => commit('toggleLoader'))\r\n      })\r\n    },\r\n\r\n    updateDocument ({ state, commit }, { collection, body }) {\r\n      return new Promise ((resolve, reject) => {\r\n        axios.put(`/${collection}/${body._id}`, body, { headers: { 'auth-token': state.session.token } })\r\n          .then(({ data }) => {\r\n            if (data.error) return reject(commit('showSnackbar', { error: data.error }))\r\n            else resolve(\r\n              commit('updateDocument', { collection, body: data }),\r\n              commit('showSnackbar', { message: 'Base de datos actualizada' })\r\n            )\r\n          })\r\n          .catch((error) => reject(\r\n            commit('showSnackbar', { error: unhandled }),\r\n            console.error(error)\r\n          ))\r\n      })\r\n    },\r\n\r\n    updateDocuments ({ state, commit, dispatch }, { collection, query, update, options }) {\r\n      return new Promise ((resolve, reject) => {\r\n        axios.put(`/updateMany/${collection}`, { query, update, options }, { headers: { 'auth-token': state.session.token } })\r\n          .then(({ data }) => {\r\n            if (data.error) return reject(commit('showSnackbar', { error: data.error }))\r\n            else if (state.collections[collection] && data.nModified) dispatch('getCollection', collection)\r\n              .then(() => commit('showSnackbar', { message: 'Base de datos actualizada' }), resolve())\r\n          })\r\n          .catch((error) => reject(\r\n            commit('showSnackbar', { error: unhandled }),\r\n            console.error(error)\r\n          ))\r\n      })\r\n    },\r\n\r\n    findDocuments ({ state, commit }, request) {\r\n      return new Promise ((resolve, reject) => {\r\n        axios.post(`/find/${request.collection}`, { filter: request.filter }, { headers: { 'auth-token': state.session.token } })\r\n          .then(({ data }) => {\r\n            if (data.error) return reject(commit('showSnackbar', { error: data.error }))\r\n            else resolve(data)\r\n          })\r\n          .catch((error) => reject(\r\n            commit('showSnackbar', { error: unhandled }),\r\n            console.error(error)\r\n          ))\r\n      })\r\n    },\r\n\r\n    sendEmail ({ state, commit }, emails) {\r\n      return new Promise((resolve, reject) => {\r\n        axios.post('/sendmail', { emails }, { headers: { 'auth-token': state.session.token } })\r\n          .then((res) => {\r\n            console.log(res.data)\r\n            if (res.data.command) {\r\n              commit('logEmails', emails)\r\n              reject(commit('showSnackbar', { error: 'Ocurrió un error, el correo no pudo ser enviado' }))\r\n            }\r\n            else {\r\n              commit('logEmails', emails)\r\n              resolve(commit('showSnackbar', { message: 'Usuario notificado vía correo' }))\r\n            }\r\n          })\r\n          .catch((e) => reject(e))\r\n      })\r\n    }\r\n\r\n  },\r\n\r\n  getters: {\r\n\r\n    formOptions ({ collections, session }) {\r\n      const token = session.token\r\n      const thisYearFirst = `${moment(new Date()).format('yyyy')}-01-01`\r\n      const user = {\r\n        fullName: session.user\r\n          ? `${session.user.firstName} ${session.user.lastName}`\r\n          : '',\r\n        _id: session.user\r\n          ? session.user._id\r\n          : ''\r\n      }\r\n      const clients = []\r\n      const clientNames = collections.Client.map(client => client.clientName).sort()\r\n      for (const clientName of clientNames) clients.push(collections.Client.find(service => service.clientName === clientName))\r\n      const clientsWithContract = collections.Client.filter(client => client.contracts.find(contract => contract.active))\r\n      const pendingMaintenance = collections.Office.filter(office => !office.lastMaintenance || office.lastMaintenance < thisYearFirst)\r\n      const productTypes = collections.Product.map(product => product.productType)\r\n      const techniciansData = collections.User.filter(user => user.assignable).sort((a, b) => {\r\n        if (a.firstName > b.firstName) return 1\r\n        else return -1\r\n      })\r\n      const technicians = []\r\n      if (techniciansData.length) for (let technician of techniciansData) {\r\n        const fullName = `${technician.firstName} ${technician.lastName}`\r\n        technicians.push({ text: fullName, value: { fullName, _id: technician._id } })\r\n      }\r\n      const emailAccounts = []\r\n      if (collections.User.length) for (let user of collections.User) {\r\n        const text = `${user.firstName} ${user.lastName}`\r\n        const value = user.email\r\n        emailAccounts.push({ text, value })\r\n      }\r\n      let categories = collections.Product.map(product => product.categories)\r\n      function mergeArr(...arr) {\r\n        return arr.reduce((acc, val) => {\r\n          return [...acc, ...new Set(val)]\r\n        }, [])\r\n      }\r\n      categories = mergeArr(categories)[0]\r\n\r\n      return {\r\n        categories,\r\n        clients,\r\n        clientNames,\r\n        clientsWithContract,\r\n        emailAccounts,\r\n        pendingMaintenance,\r\n        productTypes,\r\n        technicians,\r\n        token,\r\n        user\r\n      }\r\n    }\r\n    \r\n  }\r\n})\r\n","import Vue from 'vue';\r\nimport Vuetify from 'vuetify/lib/framework';\r\nimport es from 'vuetify/lib/locale/es';\r\n\r\nVue.use(Vuetify);\r\n\r\nexport default new Vuetify({\r\n  theme: {\r\n      options: {\r\n        customProperties: true,\r\n      },\r\n    themes: {\r\n      light: {\r\n        primary: '#11BD56',\r\n        secondary: '#118D36',\r\n        accent: '#00c0d0',\r\n        error: '#FF5252',\r\n        info: '#1156bD',\r\n        success: '#11CD56',\r\n        warning: '#FFBF00'\r\n      },\r\n      dark: {\r\n        primary: '#11BD56',\r\n        secondary: '#118D36',\r\n        accent: '#00c0d0',\r\n        error: '#FF5252',\r\n        info: '#1156bD',\r\n        success: '#11CD56',\r\n        warning: '#FFBF00'\r\n      }\r\n    },\r\n  },\r\n    lang: {\r\n      locales: { es },\r\n      current: 'es',\r\n    },\r\n});\r\n","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport './registerServiceWorker'\r\nimport router from './router'\r\nimport store from './store'\r\nimport vuetify from './plugins/vuetify'\r\nimport 'roboto-fontface/css/roboto/roboto-fontface.css'\r\nimport '@mdi/font/css/materialdesignicons.css'\r\nimport axios from 'axios'\r\nimport excel from 'vue-excel-export'\r\nimport vueSession from 'vue-session'\r\n\r\naxios.defaults.baseURL = 'https://mantra-server-test.vercel.app/api'\r\n\r\nVue.config.productionTip = false\r\nVue.use(vueSession)\r\nVue.use(excel)\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  vueSession,\r\n  vuetify,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","module.exports = __webpack_public_path__ + \"img/calendar.b033afe8.svg\";","module.exports = __webpack_public_path__ + \"img/logo.e3787f49.svg\";","module.exports = __webpack_public_path__ + \"img/reminder.e2a53b15.svg\";","module.exports = __webpack_public_path__ + \"img/deadline.af7103b8.svg\";","module.exports = __webpack_public_path__ + \"img/view.842a3b86.svg\";","module.exports = __webpack_public_path__ + \"img/bg12.7147fc0c.jpg\";"],"sourceRoot":""}